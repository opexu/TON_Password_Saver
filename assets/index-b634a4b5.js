var nr=Object.defineProperty;var ir=(e,r,n)=>r in e?nr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var or=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Dt=(e,r,n)=>(ir(e,typeof r!="symbol"?r+"":r,n),n);var ar=or((exports,module)=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const main$1="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function o(){if(this instanceof o){var a=[null];a.push.apply(a,arguments);var s=Function.bind.apply(r,a);return new s}return r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),n}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$4=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup$4[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=r);var o=n===r?0:4-n%4;return[n,o]}function byteLength(e){var r=getLens(e),n=r[0],o=r[1];return(n+o)*3/4-o}function _byteLength(e,r,n){return(r+n)*3/4-n}function toByteArray(e){var r,n=getLens(e),o=n[0],a=n[1],s=new Arr(_byteLength(e,o,a)),l=0,h=a>0?o-4:o,v;for(v=0;v<h;v+=4)r=revLookup[e.charCodeAt(v)]<<18|revLookup[e.charCodeAt(v+1)]<<12|revLookup[e.charCodeAt(v+2)]<<6|revLookup[e.charCodeAt(v+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=r&255;return a===2&&(r=revLookup[e.charCodeAt(v)]<<2|revLookup[e.charCodeAt(v+1)]>>4,s[l++]=r&255),a===1&&(r=revLookup[e.charCodeAt(v)]<<10|revLookup[e.charCodeAt(v+1)]<<4|revLookup[e.charCodeAt(v+2)]>>2,s[l++]=r>>8&255,s[l++]=r&255),s}function tripletToBase64(e){return lookup$4[e>>18&63]+lookup$4[e>>12&63]+lookup$4[e>>6&63]+lookup$4[e&63]}function encodeChunk(e,r,n){for(var o,a=[],s=r;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),a.push(tripletToBase64(o));return a.join("")}function fromByteArray(e){for(var r,n=e.length,o=n%3,a=[],s=16383,l=0,h=n-o;l<h;l+=s)a.push(encodeChunk(e,l,l+s>h?h:l+s));return o===1?(r=e[n-1],a.push(lookup$4[r>>2]+lookup$4[r<<4&63]+"==")):o===2&&(r=(e[n-2]<<8)+e[n-1],a.push(lookup$4[r>>10]+lookup$4[r>>4&63]+lookup$4[r<<2&63]+"=")),a.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,r,n,o,a){var s,l,h=a*8-o-1,v=(1<<h)-1,x=v>>1,M=-7,P=n?a-1:0,j=n?-1:1,V=e[r+P];for(P+=j,s=V&(1<<-M)-1,V>>=-M,M+=h;M>0;s=s*256+e[r+P],P+=j,M-=8);for(l=s&(1<<-M)-1,s>>=-M,M+=o;M>0;l=l*256+e[r+P],P+=j,M-=8);if(s===0)s=1-x;else{if(s===v)return l?NaN:(V?-1:1)*(1/0);l=l+Math.pow(2,o),s=s-x}return(V?-1:1)*l*Math.pow(2,s-o)};ieee754.write=function(e,r,n,o,a,s){var l,h,v,x=s*8-a-1,M=(1<<x)-1,P=M>>1,j=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=o?0:s-1,ee=o?1:-1,se=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,l=M):(l=Math.floor(Math.log(r)/Math.LN2),r*(v=Math.pow(2,-l))<1&&(l--,v*=2),l+P>=1?r+=j/v:r+=j*Math.pow(2,1-P),r*v>=2&&(l++,v/=2),l+P>=M?(h=0,l=M):l+P>=1?(h=(r*v-1)*Math.pow(2,a),l=l+P):(h=r*Math.pow(2,P-1)*Math.pow(2,a),l=0));a>=8;e[n+V]=h&255,V+=ee,h/=256,a-=8);for(l=l<<a|h,x+=a;x>0;e[n+V]=l&255,V+=ee,l/=256,x-=8);e[n+V-ee]|=se*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=base64Js,n=ieee754,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=h,e.SlowBuffer=Ie,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,h.TYPED_ARRAY_SUPPORT=s(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const I=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(I,b),I.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function l(I){if(I>a)throw new RangeError('The value "'+I+'" is invalid for option "size"');const b=new Uint8Array(I);return Object.setPrototypeOf(b,h.prototype),b}function h(I,b,C){if(typeof I=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(I)}return v(I,b,C)}h.poolSize=8192;function v(I,b,C){if(typeof I=="string")return j(I,b);if(ArrayBuffer.isView(I))return ee(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(Oe(I,ArrayBuffer)||I&&Oe(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe(I,SharedArrayBuffer)||I&&Oe(I.buffer,SharedArrayBuffer)))return se(I,b,C);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const T=I.valueOf&&I.valueOf();if(T!=null&&T!==I)return h.from(T,b,C);const U=Q(I);if(U)return U;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return h.from(I[Symbol.toPrimitive]("string"),b,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}h.from=function(I,b,C){return v(I,b,C)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function M(I,b,C){return x(I),I<=0?l(I):b!==void 0?typeof C=="string"?l(I).fill(b,C):l(I).fill(b):l(I)}h.alloc=function(I,b,C){return M(I,b,C)};function P(I){return x(I),l(I<0?0:$e(I)|0)}h.allocUnsafe=function(I){return P(I)},h.allocUnsafeSlow=function(I){return P(I)};function j(I,b){if((typeof b!="string"||b==="")&&(b="utf8"),!h.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const C=ye(I,b)|0;let T=l(C);const U=T.write(I,b);return U!==C&&(T=T.slice(0,U)),T}function V(I){const b=I.length<0?0:$e(I.length)|0,C=l(b);for(let T=0;T<b;T+=1)C[T]=I[T]&255;return C}function ee(I){if(Oe(I,Uint8Array)){const b=new Uint8Array(I);return se(b.buffer,b.byteOffset,b.byteLength)}return V(I)}function se(I,b,C){if(b<0||I.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<b+(C||0))throw new RangeError('"length" is outside of buffer bounds');let T;return b===void 0&&C===void 0?T=new Uint8Array(I):C===void 0?T=new Uint8Array(I,b):T=new Uint8Array(I,b,C),Object.setPrototypeOf(T,h.prototype),T}function Q(I){if(h.isBuffer(I)){const b=$e(I.length)|0,C=l(b);return C.length===0||I.copy(C,0,0,b),C}if(I.length!==void 0)return typeof I.length!="number"||Se(I.length)?l(0):V(I);if(I.type==="Buffer"&&Array.isArray(I.data))return V(I.data)}function $e(I){if(I>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return I|0}function Ie(I){return+I!=I&&(I=0),h.alloc(+I)}h.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==h.prototype},h.compare=function(b,C){if(Oe(b,Uint8Array)&&(b=h.from(b,b.offset,b.byteLength)),Oe(C,Uint8Array)&&(C=h.from(C,C.offset,C.byteLength)),!h.isBuffer(b)||!h.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===C)return 0;let T=b.length,U=C.length;for(let k=0,L=Math.min(T,U);k<L;++k)if(b[k]!==C[k]){T=b[k],U=C[k];break}return T<U?-1:U<T?1:0},h.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(b,C){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return h.alloc(0);let T;if(C===void 0)for(C=0,T=0;T<b.length;++T)C+=b[T].length;const U=h.allocUnsafe(C);let k=0;for(T=0;T<b.length;++T){let L=b[T];if(Oe(L,Uint8Array))k+L.length>U.length?(h.isBuffer(L)||(L=h.from(L)),L.copy(U,k)):Uint8Array.prototype.set.call(U,L,k);else if(h.isBuffer(L))L.copy(U,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=L.length}return U};function ye(I,b){if(h.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||Oe(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const C=I.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&C===0)return 0;let U=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return ge(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return me(I).length;default:if(U)return T?-1:ge(I).length;b=(""+b).toLowerCase(),U=!0}}h.byteLength=ye;function G(I,b,C){let T=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,b>>>=0,C<=b))return"";for(I||(I="utf8");;)switch(I){case"hex":return f(this,b,C);case"utf8":case"utf-8":return g(this,b,C);case"ascii":return S(this,b,C);case"latin1":case"binary":return $(this,b,C);case"base64":return c(this,b,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,b,C);default:if(T)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),T=!0}}h.prototype._isBuffer=!0;function J(I,b,C){const T=I[b];I[b]=I[C],I[C]=T}h.prototype.swap16=function(){const b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<b;C+=2)J(this,C,C+1);return this},h.prototype.swap32=function(){const b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<b;C+=4)J(this,C,C+3),J(this,C+1,C+2);return this},h.prototype.swap64=function(){const b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<b;C+=8)J(this,C,C+7),J(this,C+1,C+6),J(this,C+2,C+5),J(this,C+3,C+4);return this},h.prototype.toString=function(){const b=this.length;return b===0?"":arguments.length===0?g(this,0,b):G.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:h.compare(this,b)===0},h.prototype.inspect=function(){let b="";const C=e.INSPECT_MAX_BYTES;return b=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(b+=" ... "),"<Buffer "+b+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(b,C,T,U,k){if(Oe(b,Uint8Array)&&(b=h.from(b,b.offset,b.byteLength)),!h.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(C===void 0&&(C=0),T===void 0&&(T=b?b.length:0),U===void 0&&(U=0),k===void 0&&(k=this.length),C<0||T>b.length||U<0||k>this.length)throw new RangeError("out of range index");if(U>=k&&C>=T)return 0;if(U>=k)return-1;if(C>=T)return 1;if(C>>>=0,T>>>=0,U>>>=0,k>>>=0,this===b)return 0;let L=k-U,ue=T-C;const ce=Math.min(L,ue),fe=this.slice(U,k),Be=b.slice(C,T);for(let de=0;de<ce;++de)if(fe[de]!==Be[de]){L=fe[de],ue=Be[de];break}return L<ue?-1:ue<L?1:0};function le(I,b,C,T,U){if(I.length===0)return-1;if(typeof C=="string"?(T=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Se(C)&&(C=U?0:I.length-1),C<0&&(C=I.length+C),C>=I.length){if(U)return-1;C=I.length-1}else if(C<0)if(U)C=0;else return-1;if(typeof b=="string"&&(b=h.from(b,T)),h.isBuffer(b))return b.length===0?-1:ae(I,b,C,T,U);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(I,b,C):Uint8Array.prototype.lastIndexOf.call(I,b,C):ae(I,[b],C,T,U);throw new TypeError("val must be string, number or Buffer")}function ae(I,b,C,T,U){let k=1,L=I.length,ue=b.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(I.length<2||b.length<2)return-1;k=2,L/=2,ue/=2,C/=2}function ce(Be,de){return k===1?Be[de]:Be.readUInt16BE(de*k)}let fe;if(U){let Be=-1;for(fe=C;fe<L;fe++)if(ce(I,fe)===ce(b,Be===-1?0:fe-Be)){if(Be===-1&&(Be=fe),fe-Be+1===ue)return Be*k}else Be!==-1&&(fe-=fe-Be),Be=-1}else for(C+ue>L&&(C=L-ue),fe=C;fe>=0;fe--){let Be=!0;for(let de=0;de<ue;de++)if(ce(I,fe+de)!==ce(b,de)){Be=!1;break}if(Be)return fe}return-1}h.prototype.includes=function(b,C,T){return this.indexOf(b,C,T)!==-1},h.prototype.indexOf=function(b,C,T){return le(this,b,C,T,!0)},h.prototype.lastIndexOf=function(b,C,T){return le(this,b,C,T,!1)};function H(I,b,C,T){C=Number(C)||0;const U=I.length-C;T?(T=Number(T),T>U&&(T=U)):T=U;const k=b.length;T>k/2&&(T=k/2);let L;for(L=0;L<T;++L){const ue=parseInt(b.substr(L*2,2),16);if(Se(ue))return L;I[C+L]=ue}return L}function te(I,b,C,T){return we(ge(b,I.length-C),I,C,T)}function E(I,b,C,T){return we(xe(b),I,C,T)}function u(I,b,C,T){return we(me(b),I,C,T)}function d(I,b,C,T){return we(Me(b,I.length-C),I,C,T)}h.prototype.write=function(b,C,T,U){if(C===void 0)U="utf8",T=this.length,C=0;else if(T===void 0&&typeof C=="string")U=C,T=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(T)?(T=T>>>0,U===void 0&&(U="utf8")):(U=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-C;if((T===void 0||T>k)&&(T=k),b.length>0&&(T<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let L=!1;for(;;)switch(U){case"hex":return H(this,b,C,T);case"utf8":case"utf-8":return te(this,b,C,T);case"ascii":case"latin1":case"binary":return E(this,b,C,T);case"base64":return u(this,b,C,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,b,C,T);default:if(L)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),L=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function c(I,b,C){return b===0&&C===I.length?r.fromByteArray(I):r.fromByteArray(I.slice(b,C))}function g(I,b,C){C=Math.min(I.length,C);const T=[];let U=b;for(;U<C;){const k=I[U];let L=null,ue=k>239?4:k>223?3:k>191?2:1;if(U+ue<=C){let ce,fe,Be,de;switch(ue){case 1:k<128&&(L=k);break;case 2:ce=I[U+1],(ce&192)===128&&(de=(k&31)<<6|ce&63,de>127&&(L=de));break;case 3:ce=I[U+1],fe=I[U+2],(ce&192)===128&&(fe&192)===128&&(de=(k&15)<<12|(ce&63)<<6|fe&63,de>2047&&(de<55296||de>57343)&&(L=de));break;case 4:ce=I[U+1],fe=I[U+2],Be=I[U+3],(ce&192)===128&&(fe&192)===128&&(Be&192)===128&&(de=(k&15)<<18|(ce&63)<<12|(fe&63)<<6|Be&63,de>65535&&de<1114112&&(L=de))}}L===null?(L=65533,ue=1):L>65535&&(L-=65536,T.push(L>>>10&1023|55296),L=56320|L&1023),T.push(L),U+=ue}return w(T)}const m=4096;function w(I){const b=I.length;if(b<=m)return String.fromCharCode.apply(String,I);let C="",T=0;for(;T<b;)C+=String.fromCharCode.apply(String,I.slice(T,T+=m));return C}function S(I,b,C){let T="";C=Math.min(I.length,C);for(let U=b;U<C;++U)T+=String.fromCharCode(I[U]&127);return T}function $(I,b,C){let T="";C=Math.min(I.length,C);for(let U=b;U<C;++U)T+=String.fromCharCode(I[U]);return T}function f(I,b,C){const T=I.length;(!b||b<0)&&(b=0),(!C||C<0||C>T)&&(C=T);let U="";for(let k=b;k<C;++k)U+=ke[I[k]];return U}function y(I,b,C){const T=I.slice(b,C);let U="";for(let k=0;k<T.length-1;k+=2)U+=String.fromCharCode(T[k]+T[k+1]*256);return U}h.prototype.slice=function(b,C){const T=this.length;b=~~b,C=C===void 0?T:~~C,b<0?(b+=T,b<0&&(b=0)):b>T&&(b=T),C<0?(C+=T,C<0&&(C=0)):C>T&&(C=T),C<b&&(C=b);const U=this.subarray(b,C);return Object.setPrototypeOf(U,h.prototype),U};function B(I,b,C){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+b>C)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(b,C,T){b=b>>>0,C=C>>>0,T||B(b,C,this.length);let U=this[b],k=1,L=0;for(;++L<C&&(k*=256);)U+=this[b+L]*k;return U},h.prototype.readUintBE=h.prototype.readUIntBE=function(b,C,T){b=b>>>0,C=C>>>0,T||B(b,C,this.length);let U=this[b+--C],k=1;for(;C>0&&(k*=256);)U+=this[b+--C]*k;return U},h.prototype.readUint8=h.prototype.readUInt8=function(b,C){return b=b>>>0,C||B(b,1,this.length),this[b]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(b,C){return b=b>>>0,C||B(b,2,this.length),this[b]|this[b+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(b,C){return b=b>>>0,C||B(b,2,this.length),this[b]<<8|this[b+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(b,C){return b=b>>>0,C||B(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(b,C){return b=b>>>0,C||B(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},h.prototype.readBigUInt64LE=z(function(b){b=b>>>0,Z(b,"offset");const C=this[b],T=this[b+7];(C===void 0||T===void 0)&&ie(b,this.length-8);const U=C+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,k=this[++b]+this[++b]*2**8+this[++b]*2**16+T*2**24;return BigInt(U)+(BigInt(k)<<BigInt(32))}),h.prototype.readBigUInt64BE=z(function(b){b=b>>>0,Z(b,"offset");const C=this[b],T=this[b+7];(C===void 0||T===void 0)&&ie(b,this.length-8);const U=C*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],k=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+T;return(BigInt(U)<<BigInt(32))+BigInt(k)}),h.prototype.readIntLE=function(b,C,T){b=b>>>0,C=C>>>0,T||B(b,C,this.length);let U=this[b],k=1,L=0;for(;++L<C&&(k*=256);)U+=this[b+L]*k;return k*=128,U>=k&&(U-=Math.pow(2,8*C)),U},h.prototype.readIntBE=function(b,C,T){b=b>>>0,C=C>>>0,T||B(b,C,this.length);let U=C,k=1,L=this[b+--U];for(;U>0&&(k*=256);)L+=this[b+--U]*k;return k*=128,L>=k&&(L-=Math.pow(2,8*C)),L},h.prototype.readInt8=function(b,C){return b=b>>>0,C||B(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},h.prototype.readInt16LE=function(b,C){b=b>>>0,C||B(b,2,this.length);const T=this[b]|this[b+1]<<8;return T&32768?T|4294901760:T},h.prototype.readInt16BE=function(b,C){b=b>>>0,C||B(b,2,this.length);const T=this[b+1]|this[b]<<8;return T&32768?T|4294901760:T},h.prototype.readInt32LE=function(b,C){return b=b>>>0,C||B(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},h.prototype.readInt32BE=function(b,C){return b=b>>>0,C||B(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},h.prototype.readBigInt64LE=z(function(b){b=b>>>0,Z(b,"offset");const C=this[b],T=this[b+7];(C===void 0||T===void 0)&&ie(b,this.length-8);const U=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(T<<24);return(BigInt(U)<<BigInt(32))+BigInt(C+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),h.prototype.readBigInt64BE=z(function(b){b=b>>>0,Z(b,"offset");const C=this[b],T=this[b+7];(C===void 0||T===void 0)&&ie(b,this.length-8);const U=(C<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(U)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+T)}),h.prototype.readFloatLE=function(b,C){return b=b>>>0,C||B(b,4,this.length),n.read(this,b,!0,23,4)},h.prototype.readFloatBE=function(b,C){return b=b>>>0,C||B(b,4,this.length),n.read(this,b,!1,23,4)},h.prototype.readDoubleLE=function(b,C){return b=b>>>0,C||B(b,8,this.length),n.read(this,b,!0,52,8)},h.prototype.readDoubleBE=function(b,C){return b=b>>>0,C||B(b,8,this.length),n.read(this,b,!1,52,8)};function O(I,b,C,T,U,k){if(!h.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>U||b<k)throw new RangeError('"value" argument is out of bounds');if(C+T>I.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(b,C,T,U){if(b=+b,C=C>>>0,T=T>>>0,!U){const ue=Math.pow(2,8*T)-1;O(this,b,C,T,ue,0)}let k=1,L=0;for(this[C]=b&255;++L<T&&(k*=256);)this[C+L]=b/k&255;return C+T},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(b,C,T,U){if(b=+b,C=C>>>0,T=T>>>0,!U){const ue=Math.pow(2,8*T)-1;O(this,b,C,T,ue,0)}let k=T-1,L=1;for(this[C+k]=b&255;--k>=0&&(L*=256);)this[C+k]=b/L&255;return C+T},h.prototype.writeUint8=h.prototype.writeUInt8=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,1,255,0),this[C]=b&255,C+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,2,65535,0),this[C]=b&255,this[C+1]=b>>>8,C+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,2,65535,0),this[C]=b>>>8,this[C+1]=b&255,C+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,4,4294967295,0),this[C+3]=b>>>24,this[C+2]=b>>>16,this[C+1]=b>>>8,this[C]=b&255,C+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,4,4294967295,0),this[C]=b>>>24,this[C+1]=b>>>16,this[C+2]=b>>>8,this[C+3]=b&255,C+4};function oe(I,b,C,T,U){K(b,T,U,I,C,7);let k=Number(b&BigInt(4294967295));I[C++]=k,k=k>>8,I[C++]=k,k=k>>8,I[C++]=k,k=k>>8,I[C++]=k;let L=Number(b>>BigInt(32)&BigInt(4294967295));return I[C++]=L,L=L>>8,I[C++]=L,L=L>>8,I[C++]=L,L=L>>8,I[C++]=L,C}function he(I,b,C,T,U){K(b,T,U,I,C,7);let k=Number(b&BigInt(4294967295));I[C+7]=k,k=k>>8,I[C+6]=k,k=k>>8,I[C+5]=k,k=k>>8,I[C+4]=k;let L=Number(b>>BigInt(32)&BigInt(4294967295));return I[C+3]=L,L=L>>8,I[C+2]=L,L=L>>8,I[C+1]=L,L=L>>8,I[C]=L,C+8}h.prototype.writeBigUInt64LE=z(function(b,C=0){return oe(this,b,C,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=z(function(b,C=0){return he(this,b,C,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(b,C,T,U){if(b=+b,C=C>>>0,!U){const ce=Math.pow(2,8*T-1);O(this,b,C,T,ce-1,-ce)}let k=0,L=1,ue=0;for(this[C]=b&255;++k<T&&(L*=256);)b<0&&ue===0&&this[C+k-1]!==0&&(ue=1),this[C+k]=(b/L>>0)-ue&255;return C+T},h.prototype.writeIntBE=function(b,C,T,U){if(b=+b,C=C>>>0,!U){const ce=Math.pow(2,8*T-1);O(this,b,C,T,ce-1,-ce)}let k=T-1,L=1,ue=0;for(this[C+k]=b&255;--k>=0&&(L*=256);)b<0&&ue===0&&this[C+k+1]!==0&&(ue=1),this[C+k]=(b/L>>0)-ue&255;return C+T},h.prototype.writeInt8=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,1,127,-128),b<0&&(b=255+b+1),this[C]=b&255,C+1},h.prototype.writeInt16LE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,2,32767,-32768),this[C]=b&255,this[C+1]=b>>>8,C+2},h.prototype.writeInt16BE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,2,32767,-32768),this[C]=b>>>8,this[C+1]=b&255,C+2},h.prototype.writeInt32LE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,4,2147483647,-2147483648),this[C]=b&255,this[C+1]=b>>>8,this[C+2]=b>>>16,this[C+3]=b>>>24,C+4},h.prototype.writeInt32BE=function(b,C,T){return b=+b,C=C>>>0,T||O(this,b,C,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[C]=b>>>24,this[C+1]=b>>>16,this[C+2]=b>>>8,this[C+3]=b&255,C+4},h.prototype.writeBigInt64LE=z(function(b,C=0){return oe(this,b,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=z(function(b,C=0){return he(this,b,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(I,b,C,T,U,k){if(C+T>I.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function Pe(I,b,C,T,U){return b=+b,C=C>>>0,U||ve(I,b,C,4),n.write(I,b,C,T,23,4),C+4}h.prototype.writeFloatLE=function(b,C,T){return Pe(this,b,C,!0,T)},h.prototype.writeFloatBE=function(b,C,T){return Pe(this,b,C,!1,T)};function at(I,b,C,T,U){return b=+b,C=C>>>0,U||ve(I,b,C,8),n.write(I,b,C,T,52,8),C+8}h.prototype.writeDoubleLE=function(b,C,T){return at(this,b,C,!0,T)},h.prototype.writeDoubleBE=function(b,C,T){return at(this,b,C,!1,T)},h.prototype.copy=function(b,C,T,U){if(!h.isBuffer(b))throw new TypeError("argument should be a Buffer");if(T||(T=0),!U&&U!==0&&(U=this.length),C>=b.length&&(C=b.length),C||(C=0),U>0&&U<T&&(U=T),U===T||b.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),b.length-C<U-T&&(U=b.length-C+T);const k=U-T;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,T,U):Uint8Array.prototype.set.call(b,this.subarray(T,U),C),k},h.prototype.fill=function(b,C,T,U){if(typeof b=="string"){if(typeof C=="string"?(U=C,C=0,T=this.length):typeof T=="string"&&(U=T,T=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!h.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(b.length===1){const L=b.charCodeAt(0);(U==="utf8"&&L<128||U==="latin1")&&(b=L)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(C<0||this.length<C||this.length<T)throw new RangeError("Out of range index");if(T<=C)return this;C=C>>>0,T=T===void 0?this.length:T>>>0,b||(b=0);let k;if(typeof b=="number")for(k=C;k<T;++k)this[k]=b;else{const L=h.isBuffer(b)?b:h.from(b,U),ue=L.length;if(ue===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(k=0;k<T-C;++k)this[k+C]=L[k%ue]}return this};const Le={};function Ge(I,b,C){Le[I]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,this.stack,delete this.name}get code(){return I}set code(U){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:U,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}Ge("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ge("ERR_INVALID_ARG_TYPE",function(I,b){return`The "${I}" argument must be of type number. Received type ${typeof b}`},TypeError),Ge("ERR_OUT_OF_RANGE",function(I,b,C){let T=`The value of "${I}" is out of range.`,U=C;return Number.isInteger(C)&&Math.abs(C)>2**32?U=_t(String(C)):typeof C=="bigint"&&(U=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(U=_t(U)),U+="n"),T+=` It must be ${b}. Received ${U}`,T},RangeError);function _t(I){let b="",C=I.length;const T=I[0]==="-"?1:0;for(;C>=T+4;C-=3)b=`_${I.slice(C-3,C)}${b}`;return`${I.slice(0,C)}${b}`}function Xe(I,b,C){Z(b,"offset"),(I[b]===void 0||I[b+C]===void 0)&&ie(b,I.length-(C+1))}function K(I,b,C,T,U,k){if(I>C||I<b){const L=typeof b=="bigint"?"n":"";let ue;throw k>3?b===0||b===BigInt(0)?ue=`>= 0${L} and < 2${L} ** ${(k+1)*8}${L}`:ue=`>= -(2${L} ** ${(k+1)*8-1}${L}) and < 2 ** ${(k+1)*8-1}${L}`:ue=`>= ${b}${L} and <= ${C}${L}`,new Le.ERR_OUT_OF_RANGE("value",ue,I)}Xe(T,U,k)}function Z(I,b){if(typeof I!="number")throw new Le.ERR_INVALID_ARG_TYPE(b,"number",I)}function ie(I,b,C){throw Math.floor(I)!==I?(Z(I,C),new Le.ERR_OUT_OF_RANGE(C||"offset","an integer",I)):b<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(C||"offset",`>= ${C?1:0} and <= ${b}`,I)}const be=/[^+/0-9A-Za-z-_]/g;function Ae(I){if(I=I.split("=")[0],I=I.trim().replace(be,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function ge(I,b){b=b||1/0;let C;const T=I.length;let U=null;const k=[];for(let L=0;L<T;++L){if(C=I.charCodeAt(L),C>55295&&C<57344){if(!U){if(C>56319){(b-=3)>-1&&k.push(239,191,189);continue}else if(L+1===T){(b-=3)>-1&&k.push(239,191,189);continue}U=C;continue}if(C<56320){(b-=3)>-1&&k.push(239,191,189),U=C;continue}C=(U-55296<<10|C-56320)+65536}else U&&(b-=3)>-1&&k.push(239,191,189);if(U=null,C<128){if((b-=1)<0)break;k.push(C)}else if(C<2048){if((b-=2)<0)break;k.push(C>>6|192,C&63|128)}else if(C<65536){if((b-=3)<0)break;k.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((b-=4)<0)break;k.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return k}function xe(I){const b=[];for(let C=0;C<I.length;++C)b.push(I.charCodeAt(C)&255);return b}function Me(I,b){let C,T,U;const k=[];for(let L=0;L<I.length&&!((b-=2)<0);++L)C=I.charCodeAt(L),T=C>>8,U=C%256,k.push(U),k.push(T);return k}function me(I){return r.toByteArray(Ae(I))}function we(I,b,C,T){let U;for(U=0;U<T&&!(U+C>=b.length||U>=I.length);++U)b[U+C]=I[U];return U}function Oe(I,b){return I instanceof b||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===b.name}function Se(I){return I!==I}const ke=function(){const I="0123456789abcdef",b=new Array(256);for(let C=0;C<16;++C){const T=C*16;for(let U=0;U<16;++U)b[T+U]=I[C]+I[U]}return b}();function z(I){return typeof BigInt>"u"?N:I}function N(){throw new Error("BigInt not supported")}})(buffer);window.Buffer=buffer.Buffer;globalThis.Buffer=buffer.Buffer;function makeMap(e,r){const n=Object.create(null),o=e.split(",");for(let a=0;a<o.length;a++)n[o[a]]=!0;return r?a=>!!n[a.toLowerCase()]:a=>!!n[a]}function normalizeStyle(e){if(isArray$2(e)){const r={};for(let n=0;n<e.length;n++){const o=e[n],a=isString$1(o)?parseStringStyle(o):normalizeStyle(o);if(a)for(const s in a)r[s]=a[s]}return r}else{if(isString$1(e))return e;if(isObject$2(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const r={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const o=n.split(propertyDelimiterRE);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function normalizeClass(e){let r="";if(isString$1(e))r=e;else if(isArray$2(e))for(let n=0;n<e.length;n++){const o=normalizeClass(e[n]);o&&(r+=o+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(r+=n+" ");return r.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,r){if(e.length!==r.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=looseEqual(e[o],r[o]);return n}function looseEqual(e,r){if(e===r)return!0;let n=isDate$1(e),o=isDate$1(r);if(n||o)return n&&o?e.getTime()===r.getTime():!1;if(n=isSymbol(e),o=isSymbol(r),n||o)return e===r;if(n=isArray$2(e),o=isArray$2(r),n||o)return n&&o?looseCompareArrays(e,r):!1;if(n=isObject$2(e),o=isObject$2(r),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,s=Object.keys(r).length;if(a!==s)return!1;for(const l in e){const h=e.hasOwnProperty(l),v=r.hasOwnProperty(l);if(h&&!v||!h&&v||!looseEqual(e[l],r[l]))return!1}}return String(e)===String(r)}function looseIndexOf(e,r){return e.findIndex(n=>looseEqual(n,r))}const toDisplayString=e=>isString$1(e)?e:e==null?"":isArray$2(e)||isObject$2(e)&&(e.toString===objectToString||!isFunction$2(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,r)=>r&&r.__v_isRef?replacer(e,r.value):isMap(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((n,[o,a])=>(n[`${o} =>`]=a,n),{})}:isSet(r)?{[`Set(${r.size})`]:[...r.values()]}:isObject$2(r)&&!isArray$2(r)&&!isPlainObject$2(r)?String(r):r,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend$6=Object.assign,remove=(e,r)=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)},hasOwnProperty$4=Object.prototype.hasOwnProperty,hasOwn=(e,r)=>hasOwnProperty$4.call(e,r),isArray$2=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate$1=e=>toTypeString(e)==="[object Date]",isFunction$2=e=>typeof e=="function",isString$1=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise$1=e=>isObject$2(e)&&isFunction$2(e.then)&&isFunction$2(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$1(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const r=Object.create(null);return n=>r[n]||(r[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(r,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,r)=>!Object.is(e,r),invokeArrayFns=(e,r)=>{for(let n=0;n<e.length;n++)e[n](r)},def=(e,r,n)=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const r=parseFloat(e);return isNaN(r)?e:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!r&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,r()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!r){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,r=activeEffectScope){r&&r.active&&r.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const r=new Set(e);return r.w=0,r.n=0,r},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let r=0;r<e.length;r++)e[r].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:r}=e;if(r.length){let n=0;for(let o=0;o<r.length;o++){const a=r[o];wasTracked(a)&&!newTracked(a)?a.delete(e):r[n++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}r.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,n=null,o){this.fn=r,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,o)}run(){if(!this.active)return this.fn();let r=activeEffect,n=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:r}=e;if(r.length){for(let n=0;n<r.length;n++)r[n].delete(e);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,r,n){if(shouldTrack&&activeEffect){let o=targetMap.get(e);o||targetMap.set(e,o=new Map);let a=o.get(n);a||o.set(n,a=createDep()),trackEffects(a)}}function trackEffects(e,r){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,r,n,o,a,s){const l=targetMap.get(e);if(!l)return;let h=[];if(r==="clear")h=[...l.values()];else if(n==="length"&&isArray$2(e)){const v=Number(o);l.forEach((x,M)=>{(M==="length"||M>=v)&&h.push(x)})}else switch(n!==void 0&&h.push(l.get(n)),r){case"add":isArray$2(e)?isIntegerKey(n)&&h.push(l.get("length")):(h.push(l.get(ITERATE_KEY)),isMap(e)&&h.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(e)||(h.push(l.get(ITERATE_KEY)),isMap(e)&&h.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&h.push(l.get(ITERATE_KEY));break}if(h.length===1)h[0]&&triggerEffects(h[0]);else{const v=[];for(const x of h)x&&v.push(...x);triggerEffects(createDep(v))}}function triggerEffects(e,r){const n=isArray$2(e)?e:[...e];for(const o of n)o.computed&&triggerEffect(o);for(const o of n)o.computed||triggerEffect(o)}function triggerEffect(e,r){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function getDepFromReactive(e,r){var n;return(n=targetMap.get(e))===null||n===void 0?void 0:n.get(r)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(r=>{e[r]=function(...n){const o=toRaw(this);for(let s=0,l=this.length;s<l;s++)track(o,"get",s+"");const a=o[r](...n);return a===-1||a===!1?o[r](...n.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(r=>{e[r]=function(...n){pauseTracking();const o=toRaw(this)[r].apply(this,n);return resetTracking(),o}}),e}function hasOwnProperty$3(e){const r=toRaw(this);return track(r,"has",e),r.hasOwnProperty(e)}function createGetter(e=!1,r=!1){return function(o,a,s){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return r;if(a==="__v_raw"&&s===(e?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(o))return o;const l=isArray$2(o);if(!e){if(l&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,s);if(a==="hasOwnProperty")return hasOwnProperty$3}const h=Reflect.get(o,a,s);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(e||track(o,"get",a),r)?h:isRef(h)?l&&isIntegerKey(a)?h:h.value:isObject$2(h)?e?readonly$1(h):reactive(h):h}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,o,a,s){let l=n[o];if(isReadonly(l)&&isRef(l)&&!isRef(a))return!1;if(!e&&(!isShallow(a)&&!isReadonly(a)&&(l=toRaw(l),a=toRaw(a)),!isArray$2(n)&&isRef(l)&&!isRef(a)))return l.value=a,!0;const h=isArray$2(n)&&isIntegerKey(o)?Number(o)<n.length:hasOwn(n,o),v=Reflect.set(n,o,a,s);return n===toRaw(s)&&(h?hasChanged(a,l)&&trigger(n,"set",o,a):trigger(n,"add",o,a)),v}}function deleteProperty(e,r){const n=hasOwn(e,r);e[r];const o=Reflect.deleteProperty(e,r);return o&&n&&trigger(e,"delete",r,void 0),o}function has$1$1(e,r){const n=Reflect.has(e,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(e,"has",r),n}function ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,r){return!0},deleteProperty(e,r){return!0}},shallowReactiveHandlers=extend$6({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$2(e,r,n=!1,o=!1){e=e.__v_raw;const a=toRaw(e),s=toRaw(r);n||(r!==s&&track(a,"get",r),track(a,"get",s));const{has:l}=getProto(a),h=o?toShallow:n?toReadonly:toReactive;if(l.call(a,r))return h(e.get(r));if(l.call(a,s))return h(e.get(s));e!==a&&e.get(r)}function has$3(e,r=!1){const n=this.__v_raw,o=toRaw(n),a=toRaw(e);return r||(e!==a&&track(o,"has",e),track(o,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function size$3(e,r=!1){return e=e.__v_raw,!r&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const r=toRaw(this);return getProto(r).has.call(r,e)||(r.add(e),trigger(r,"add",e,e)),this}function set(e,r){r=toRaw(r);const n=toRaw(this),{has:o,get:a}=getProto(n);let s=o.call(n,e);s||(e=toRaw(e),s=o.call(n,e));const l=a.call(n,e);return n.set(e,r),s?hasChanged(r,l)&&trigger(n,"set",e,r):trigger(n,"add",e,r),this}function deleteEntry(e){const r=toRaw(this),{has:n,get:o}=getProto(r);let a=n.call(r,e);a||(e=toRaw(e),a=n.call(r,e)),o&&o.call(r,e);const s=r.delete(e);return a&&trigger(r,"delete",e,void 0),s}function clear(){const e=toRaw(this),r=e.size!==0,n=e.clear();return r&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,r){return function(o,a){const s=this,l=s.__v_raw,h=toRaw(l),v=r?toShallow:e?toReadonly:toReactive;return!e&&track(h,"iterate",ITERATE_KEY),l.forEach((x,M)=>o.call(a,v(x),v(M),s))}}function createIterableMethod(e,r,n){return function(...o){const a=this.__v_raw,s=toRaw(a),l=isMap(s),h=e==="entries"||e===Symbol.iterator&&l,v=e==="keys"&&l,x=a[e](...o),M=n?toShallow:r?toReadonly:toReactive;return!r&&track(s,"iterate",v?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:P,done:j}=x.next();return j?{value:P,done:j}:{value:h?[M(P[0]),M(P[1])]:M(P),done:j}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...r){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(s){return get$2(this,s)},get size(){return size$3(this)},has:has$3,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(s){return get$2(this,s,!1,!0)},get size(){return size$3(this)},has:has$3,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get$2(this,s,!0)},get size(){return size$3(this,!0)},has(s){return has$3.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(s){return get$2(this,s,!0,!0)},get size(){return size$3(this,!0)},has(s){return has$3.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),r[s]=createIterableMethod(s,!1,!0),o[s]=createIterableMethod(s,!0,!0)}),[e,n,r,o]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,r){const n=r?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(o,a,s)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(hasOwn(n,a)&&a in o?n:o,a,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly$1(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,r,n,o,a){if(!isObject$2(e)||e.__v_raw&&!(r&&e.__v_isReactive))return e;const s=a.get(e);if(s)return s;const l=getTargetType(e);if(l===0)return e;const h=new Proxy(e,l===2?o:n);return a.set(e,h),h}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const r=e&&e.__v_raw;return r?toRaw(r):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly$1(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,r){e=toRaw(e);const n=e.dep;n&&triggerEffects(n)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,r){return isRef(e)?e:new RefImpl(e,r)}class RefImpl{constructor(r,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?r:toRaw(r),this._value=n?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){const n=this.__v_isShallow||isShallow(r)||isReadonly(r);r=n?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=n?r:toReactive(r),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,r,n)=>unref(Reflect.get(e,r,n)),set:(e,r,n,o)=>{const a=e[r];return isRef(a)&&!isRef(n)?(a.value=n,!0):Reflect.set(e,r,n,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const r=isArray$2(e)?new Array(e.length):{};for(const n in e)r[n]=toRef(e,n);return r}class ObjectRefImpl{constructor(r,n,o){this._object=r,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(e,r,n){const o=e[r];return isRef(o)?o:new ObjectRefImpl(e,r,n)}var _a$1$1;class ComputedRefImpl{constructor(r,n,o,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a$1$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}_a$1$1="__v_isReadonly";function computed$1(e,r,n=!1){let o,a;const s=isFunction$2(e);return s?(o=e,a=NOOP):(o=e.get,a=e.set),new ComputedRefImpl(o,a,s||!a,n)}function warn(e,...r){}function callWithErrorHandling(e,r,n,o){let a;try{a=o?e(...o):e()}catch(s){handleError(s,r,n)}return a}function callWithAsyncErrorHandling(e,r,n,o){if(isFunction$2(e)){const s=callWithErrorHandling(e,r,n,o);return s&&isPromise$1(s)&&s.catch(l=>{handleError(l,r,n)}),s}const a=[];for(let s=0;s<e.length;s++)a.push(callWithAsyncErrorHandling(e[s],r,n,o));return a}function handleError(e,r,n,o=!0){const a=r?r.vnode:null;if(r){let s=r.parent;const l=r.proxy,h=n;for(;s;){const x=s.ec;if(x){for(let M=0;M<x.length;M++)if(x[M](e,l,h)===!1)return}s=s.parent}const v=r.appContext.config.errorHandler;if(v){callWithErrorHandling(v,null,10,[e,l,h]);return}}logError(e,n,a,o)}function logError(e,r,n,o=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise$1=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const r=currentFlushPromise||resolvedPromise$1;return e?r.then(this?e.bind(this):e):r}function findInsertionIndex(e){let r=flushIndex+1,n=queue$1.length;for(;r<n;){const o=r+n>>>1;getId(queue$1[o])<e?r=o+1:n=o}return r}function queueJob(e){(!queue$1.length||!queue$1.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue$1.push(e):queue$1.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise$1.then(flushJobs))}function invalidateJob(e){const r=queue$1.indexOf(e);r>flushIndex&&queue$1.splice(r,1)}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,r=isFlushing?flushIndex+1:0){for(;r<queue$1.length;r++){const n=queue$1[r];n&&n.pre&&(queue$1.splice(r,1),r--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((n,o)=>getId(n)-getId(o)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator$1=(e,r)=>{const n=getId(e)-getId(r);if(n===0){if(e.pre&&!r.pre)return-1;if(r.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue$1.sort(comparator$1);const r=NOOP;try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const n=queue$1[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,r,...n){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let a=n;const s=r.startsWith("update:"),l=s&&r.slice(7);if(l&&l in o){const M=`${l==="modelValue"?"model":l}Modifiers`,{number:P,trim:j}=o[M]||EMPTY_OBJ;j&&(a=n.map(V=>isString$1(V)?V.trim():V)),P&&(a=n.map(looseToNumber))}let h,v=o[h=toHandlerKey(r)]||o[h=toHandlerKey(camelize(r))];!v&&s&&(v=o[h=toHandlerKey(hyphenate(r))]),v&&callWithAsyncErrorHandling(v,e,6,a);const x=o[h+"Once"];if(x){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,callWithAsyncErrorHandling(x,e,6,a)}}function normalizeEmitsOptions(e,r,n=!1){const o=r.emitsCache,a=o.get(e);if(a!==void 0)return a;const s=e.emits;let l={},h=!1;if(!isFunction$2(e)){const v=x=>{const M=normalizeEmitsOptions(x,r,!0);M&&(h=!0,extend$6(l,M))};!n&&r.mixins.length&&r.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!s&&!h?(isObject$2(e)&&o.set(e,null),null):(isArray$2(s)?s.forEach(v=>l[v]=null):extend$6(l,s),isObject$2(e)&&o.set(e,l),l)}function isEmitListener(e,r){return!e||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn(e,r[0].toLowerCase()+r.slice(1))||hasOwn(e,hyphenate(r))||hasOwn(e,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const r=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,r}function withCtx(e,r=currentRenderingInstance,n){if(!r||e._n)return e;const o=(...a)=>{o._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(r);let l;try{l=e(...a)}finally{setCurrentRenderingInstance(s),o._d&&setBlockTracking(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:r,vnode:n,proxy:o,withProxy:a,props:s,propsOptions:[l],slots:h,attrs:v,emit:x,render:M,renderCache:P,data:j,setupState:V,ctx:ee,inheritAttrs:se}=e;let Q,$e;const Ie=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const G=a||o;Q=normalizeVNode(M.call(G,G,P,s,V,j,ee)),$e=v}else{const G=r;Q=normalizeVNode(G.length>1?G(s,{attrs:v,slots:h,emit:x}):G(s,null)),$e=r.props?v:getFunctionalFallthrough(v)}}catch(G){blockStack.length=0,handleError(G,e,1),Q=createVNode(Comment)}let ye=Q;if($e&&se!==!1){const G=Object.keys($e),{shapeFlag:J}=ye;G.length&&J&7&&(l&&G.some(isModelListener)&&($e=filterModelListeners($e,l)),ye=cloneVNode(ye,$e))}return n.dirs&&(ye=cloneVNode(ye),ye.dirs=ye.dirs?ye.dirs.concat(n.dirs):n.dirs),n.transition&&(ye.transition=n.transition),Q=ye,setCurrentRenderingInstance(Ie),Q}const getFunctionalFallthrough=e=>{let r;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((r||(r={}))[n]=e[n]);return r},filterModelListeners=(e,r)=>{const n={};for(const o in e)(!isModelListener(o)||!(o.slice(9)in r))&&(n[o]=e[o]);return n};function shouldUpdateComponent(e,r,n){const{props:o,children:a,component:s}=e,{props:l,children:h,patchFlag:v}=r,x=s.emitsOptions;if(r.dirs||r.transition)return!0;if(n&&v>=0){if(v&1024)return!0;if(v&16)return o?hasPropsChanged(o,l,x):!!l;if(v&8){const M=r.dynamicProps;for(let P=0;P<M.length;P++){const j=M[P];if(l[j]!==o[j]&&!isEmitListener(x,j))return!0}}}else return(a||h)&&(!h||!h.$stable)?!0:o===l?!1:o?l?hasPropsChanged(o,l,x):!0:!!l;return!1}function hasPropsChanged(e,r,n){const o=Object.keys(r);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const s=o[a];if(r[s]!==e[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:e,parent:r},n){for(;r&&r.subTree===e;)(e=r.vnode).el=n,r=r.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,r){r&&r.pendingBranch?isArray$2(e)?r.effects.push(...e):r.effects.push(e):queuePostFlushCb(e)}function provide(e,r){if(currentInstance){let n=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===n&&(n=currentInstance.provides=Object.create(o)),n[e]=r}}function inject(e,r,n=!1){const o=currentInstance||currentRenderingInstance;if(o){const a=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&isFunction$2(r)?r.call(o.proxy):r}}const INITIAL_WATCHER_VALUE={};function watch(e,r,n){return doWatch(e,r,n)}function doWatch(e,r,{immediate:n,deep:o,flush:a,onTrack:s,onTrigger:l}=EMPTY_OBJ){const h=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let v,x=!1,M=!1;if(isRef(e)?(v=()=>e.value,x=isShallow(e)):isReactive(e)?(v=()=>e,o=!0):isArray$2(e)?(M=!0,x=e.some(ye=>isReactive(ye)||isShallow(ye)),v=()=>e.map(ye=>{if(isRef(ye))return ye.value;if(isReactive(ye))return traverse$6(ye);if(isFunction$2(ye))return callWithErrorHandling(ye,h,2)})):isFunction$2(e)?r?v=()=>callWithErrorHandling(e,h,2):v=()=>{if(!(h&&h.isUnmounted))return P&&P(),callWithAsyncErrorHandling(e,h,3,[j])}:v=NOOP,r&&o){const ye=v;v=()=>traverse$6(ye())}let P,j=ye=>{P=$e.onStop=()=>{callWithErrorHandling(ye,h,4)}},V;if(isInSSRComponentSetup)if(j=NOOP,r?n&&callWithAsyncErrorHandling(r,h,3,[v(),M?[]:void 0,j]):v(),a==="sync"){const ye=useSSRContext();V=ye.__watcherHandles||(ye.__watcherHandles=[])}else return NOOP;let ee=M?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const se=()=>{if($e.active)if(r){const ye=$e.run();(o||x||(M?ye.some((G,J)=>hasChanged(G,ee[J])):hasChanged(ye,ee)))&&(P&&P(),callWithAsyncErrorHandling(r,h,3,[ye,ee===INITIAL_WATCHER_VALUE?void 0:M&&ee[0]===INITIAL_WATCHER_VALUE?[]:ee,j]),ee=ye)}else $e.run()};se.allowRecurse=!!r;let Q;a==="sync"?Q=se:a==="post"?Q=()=>queuePostRenderEffect(se,h&&h.suspense):(se.pre=!0,h&&(se.id=h.uid),Q=()=>queueJob(se));const $e=new ReactiveEffect(v,Q);r?n?se():ee=$e.run():a==="post"?queuePostRenderEffect($e.run.bind($e),h&&h.suspense):$e.run();const Ie=()=>{$e.stop(),h&&h.scope&&remove(h.scope.effects,$e)};return V&&V.push(Ie),Ie}function instanceWatch(e,r,n){const o=this.proxy,a=isString$1(e)?e.includes(".")?createPathGetter(o,e):()=>o[e]:e.bind(o,o);let s;isFunction$2(r)?s=r:(s=r.handler,n=r);const l=currentInstance;setCurrentInstance(this);const h=doWatch(a,s.bind(o),n);return l?setCurrentInstance(l):unsetCurrentInstance(),h}function createPathGetter(e,r){const n=r.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}function traverse$6(e,r){if(!isObject$2(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),isRef(e))traverse$6(e.value,r);else if(isArray$2(e))for(let n=0;n<e.length;n++)traverse$6(e[n],r);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse$6(n,r)});else if(isPlainObject$2(e))for(const n in e)traverse$6(e[n],r);return e}function defineComponent(e){return isFunction$2(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,r){registerKeepAliveHook(e,"a",r)}function onDeactivated(e,r){registerKeepAliveHook(e,"da",r)}function registerKeepAliveHook(e,r,n=currentInstance){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(injectHook(r,o,n),n){let a=n.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(o,r,n,a),a=a.parent}}function injectToKeepAliveRoot(e,r,n,o){const a=injectHook(r,e,o,!0);onUnmounted(()=>{remove(o[r],a)},n)}function injectHook(e,r,n=currentInstance,o=!1){if(n){const a=n[e]||(n[e]=[]),s=r.__weh||(r.__weh=(...l)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const h=callWithAsyncErrorHandling(r,n,e,l);return unsetCurrentInstance(),resetTracking(),h});return o?a.unshift(s):a.push(s),s}}const createHook=e=>(r,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...o)=>r(...o),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,r=currentInstance){injectHook("ec",e,r)}function withDirectives(e,r){const n=currentRenderingInstance;if(n===null)return e;const o=getExposeProxy(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let s=0;s<r.length;s++){let[l,h,v,x=EMPTY_OBJ]=r[s];l&&(isFunction$2(l)&&(l={mounted:l,updated:l}),l.deep&&traverse$6(h),a.push({dir:l,instance:o,value:h,oldValue:void 0,arg:v,modifiers:x}))}return e}function invokeDirectiveHook(e,r,n,o){const a=e.dirs,s=r&&r.dirs;for(let l=0;l<a.length;l++){const h=a[l];s&&(h.oldValue=s[l].value);let v=h.dir[o];v&&(pauseTracking(),callWithAsyncErrorHandling(v,n,8,[e.el,h,e,r]),resetTracking())}}const COMPONENTS="components";function resolveComponent(e,r){return resolveAsset(COMPONENTS,e,!0,r)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(e,r,n=!0,o=!1){const a=currentRenderingInstance||currentInstance;if(a){const s=a.type;if(e===COMPONENTS){const h=getComponentName(s,!1);if(h&&(h===r||h===camelize(r)||h===capitalize(camelize(r))))return s}const l=resolve(a[e]||s[e],r)||resolve(a.appContext[e],r);return!l&&o?s:l}}function resolve(e,r){return e&&(e[r]||e[camelize(r)]||e[capitalize(camelize(r))])}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend$6(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,r)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,r),PublicInstanceProxyHandlers={get({_:e},r){const{ctx:n,setupState:o,data:a,props:s,accessCache:l,type:h,appContext:v}=e;let x;if(r[0]!=="$"){const V=l[r];if(V!==void 0)switch(V){case 1:return o[r];case 2:return a[r];case 4:return n[r];case 3:return s[r]}else{if(hasSetupBinding(o,r))return l[r]=1,o[r];if(a!==EMPTY_OBJ&&hasOwn(a,r))return l[r]=2,a[r];if((x=e.propsOptions[0])&&hasOwn(x,r))return l[r]=3,s[r];if(n!==EMPTY_OBJ&&hasOwn(n,r))return l[r]=4,n[r];shouldCacheAccess&&(l[r]=0)}}const M=publicPropertiesMap[r];let P,j;if(M)return r==="$attrs"&&track(e,"get",r),M(e);if((P=h.__cssModules)&&(P=P[r]))return P;if(n!==EMPTY_OBJ&&hasOwn(n,r))return l[r]=4,n[r];if(j=v.config.globalProperties,hasOwn(j,r))return j[r]},set({_:e},r,n){const{data:o,setupState:a,ctx:s}=e;return hasSetupBinding(a,r)?(a[r]=n,!0):o!==EMPTY_OBJ&&hasOwn(o,r)?(o[r]=n,!0):hasOwn(e.props,r)||r[0]==="$"&&r.slice(1)in e?!1:(s[r]=n,!0)},has({_:{data:e,setupState:r,accessCache:n,ctx:o,appContext:a,propsOptions:s}},l){let h;return!!n[l]||e!==EMPTY_OBJ&&hasOwn(e,l)||hasSetupBinding(r,l)||(h=s[0])&&hasOwn(h,l)||hasOwn(o,l)||hasOwn(publicPropertiesMap,l)||hasOwn(a.config.globalProperties,l)},defineProperty(e,r,n){return n.get!=null?e._.accessCache[r]=0:hasOwn(n,"value")&&this.set(e,r,n.value,null),Reflect.defineProperty(e,r,n)}};let shouldCacheAccess=!0;function applyOptions(e){const r=resolveMergedOptions(e),n=e.proxy,o=e.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook(r.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:h,provide:v,inject:x,created:M,beforeMount:P,mounted:j,beforeUpdate:V,updated:ee,activated:se,deactivated:Q,beforeDestroy:$e,beforeUnmount:Ie,destroyed:ye,unmounted:G,render:J,renderTracked:le,renderTriggered:ae,errorCaptured:H,serverPrefetch:te,expose:E,inheritAttrs:u,components:d,directives:c,filters:g}=r;if(x&&resolveInjections(x,o,null,e.appContext.config.unwrapInjectedRef),l)for(const S in l){const $=l[S];isFunction$2($)&&(o[S]=$.bind(n))}if(a){const S=a.call(n,n);isObject$2(S)&&(e.data=reactive(S))}if(shouldCacheAccess=!0,s)for(const S in s){const $=s[S],f=isFunction$2($)?$.bind(n,n):isFunction$2($.get)?$.get.bind(n,n):NOOP,y=!isFunction$2($)&&isFunction$2($.set)?$.set.bind(n):NOOP,B=computed({get:f,set:y});Object.defineProperty(o,S,{enumerable:!0,configurable:!0,get:()=>B.value,set:O=>B.value=O})}if(h)for(const S in h)createWatcher(h[S],o,n,S);if(v){const S=isFunction$2(v)?v.call(n):v;Reflect.ownKeys(S).forEach($=>{provide($,S[$])})}M&&callHook(M,e,"c");function w(S,$){isArray$2($)?$.forEach(f=>S(f.bind(n))):$&&S($.bind(n))}if(w(onBeforeMount,P),w(onMounted,j),w(onBeforeUpdate,V),w(onUpdated,ee),w(onActivated,se),w(onDeactivated,Q),w(onErrorCaptured,H),w(onRenderTracked,le),w(onRenderTriggered,ae),w(onBeforeUnmount,Ie),w(onUnmounted,G),w(onServerPrefetch,te),isArray$2(E))if(E.length){const S=e.exposed||(e.exposed={});E.forEach($=>{Object.defineProperty(S,$,{get:()=>n[$],set:f=>n[$]=f})})}else e.exposed||(e.exposed={});J&&e.render===NOOP&&(e.render=J),u!=null&&(e.inheritAttrs=u),d&&(e.components=d),c&&(e.directives=c)}function resolveInjections(e,r,n=NOOP,o=!1){isArray$2(e)&&(e=normalizeInject(e));for(const a in e){const s=e[a];let l;isObject$2(s)?"default"in s?l=inject(s.from||a,s.default,!0):l=inject(s.from||a):l=inject(s),isRef(l)&&o?Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:h=>l.value=h}):r[a]=l}}function callHook(e,r,n){callWithAsyncErrorHandling(isArray$2(e)?e.map(o=>o.bind(r.proxy)):e.bind(r.proxy),r,n)}function createWatcher(e,r,n,o){const a=o.includes(".")?createPathGetter(n,o):()=>n[o];if(isString$1(e)){const s=r[e];isFunction$2(s)&&watch(a,s)}else if(isFunction$2(e))watch(a,e.bind(n));else if(isObject$2(e))if(isArray$2(e))e.forEach(s=>createWatcher(s,r,n,o));else{const s=isFunction$2(e.handler)?e.handler.bind(n):r[e.handler];isFunction$2(s)&&watch(a,s,e)}}function resolveMergedOptions(e){const r=e.type,{mixins:n,extends:o}=r,{mixins:a,optionsCache:s,config:{optionMergeStrategies:l}}=e.appContext,h=s.get(r);let v;return h?v=h:!a.length&&!n&&!o?v=r:(v={},a.length&&a.forEach(x=>mergeOptions(v,x,l,!0)),mergeOptions(v,r,l)),isObject$2(r)&&s.set(r,v),v}function mergeOptions(e,r,n,o=!1){const{mixins:a,extends:s}=r;s&&mergeOptions(e,s,n,!0),a&&a.forEach(l=>mergeOptions(e,l,n,!0));for(const l in r)if(!(o&&l==="expose")){const h=internalOptionMergeStrats[l]||n&&n[l];e[l]=h?h(e[l],r[l]):r[l]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,r){return r?e?function(){return extend$6(isFunction$2(e)?e.call(this,this):e,isFunction$2(r)?r.call(this,this):r)}:r:e}function mergeInject(e,r){return mergeObjectOptions(normalizeInject(e),normalizeInject(r))}function normalizeInject(e){if(isArray$2(e)){const r={};for(let n=0;n<e.length;n++)r[e[n]]=e[n];return r}return e}function mergeAsArray(e,r){return e?[...new Set([].concat(e,r))]:r}function mergeObjectOptions(e,r){return e?extend$6(extend$6(Object.create(null),e),r):r}function mergeWatchOptions(e,r){if(!e)return r;if(!r)return e;const n=extend$6(Object.create(null),e);for(const o in r)n[o]=mergeAsArray(e[o],r[o]);return n}function initProps(e,r,n,o=!1){const a={},s={};def(s,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,r,a,s);for(const l in e.propsOptions[0])l in a||(a[l]=void 0);n?e.props=o?a:shallowReactive(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function updateProps(e,r,n,o){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,h=toRaw(a),[v]=e.propsOptions;let x=!1;if((o||l>0)&&!(l&16)){if(l&8){const M=e.vnode.dynamicProps;for(let P=0;P<M.length;P++){let j=M[P];if(isEmitListener(e.emitsOptions,j))continue;const V=r[j];if(v)if(hasOwn(s,j))V!==s[j]&&(s[j]=V,x=!0);else{const ee=camelize(j);a[ee]=resolvePropValue(v,h,ee,V,e,!1)}else V!==s[j]&&(s[j]=V,x=!0)}}}else{setFullProps(e,r,a,s)&&(x=!0);let M;for(const P in h)(!r||!hasOwn(r,P)&&((M=hyphenate(P))===P||!hasOwn(r,M)))&&(v?n&&(n[P]!==void 0||n[M]!==void 0)&&(a[P]=resolvePropValue(v,h,P,void 0,e,!0)):delete a[P]);if(s!==h)for(const P in s)(!r||!hasOwn(r,P))&&(delete s[P],x=!0)}x&&trigger(e,"set","$attrs")}function setFullProps(e,r,n,o){const[a,s]=e.propsOptions;let l=!1,h;if(r)for(let v in r){if(isReservedProp(v))continue;const x=r[v];let M;a&&hasOwn(a,M=camelize(v))?!s||!s.includes(M)?n[M]=x:(h||(h={}))[M]=x:isEmitListener(e.emitsOptions,v)||(!(v in o)||x!==o[v])&&(o[v]=x,l=!0)}if(s){const v=toRaw(n),x=h||EMPTY_OBJ;for(let M=0;M<s.length;M++){const P=s[M];n[P]=resolvePropValue(a,v,P,x[P],e,!hasOwn(x,P))}}return l}function resolvePropValue(e,r,n,o,a,s){const l=e[n];if(l!=null){const h=hasOwn(l,"default");if(h&&o===void 0){const v=l.default;if(l.type!==Function&&isFunction$2(v)){const{propsDefaults:x}=a;n in x?o=x[n]:(setCurrentInstance(a),o=x[n]=v.call(null,r),unsetCurrentInstance())}else o=v}l[0]&&(s&&!h?o=!1:l[1]&&(o===""||o===hyphenate(n))&&(o=!0))}return o}function normalizePropsOptions(e,r,n=!1){const o=r.propsCache,a=o.get(e);if(a)return a;const s=e.props,l={},h=[];let v=!1;if(!isFunction$2(e)){const M=P=>{v=!0;const[j,V]=normalizePropsOptions(P,r,!0);extend$6(l,j),V&&h.push(...V)};!n&&r.mixins.length&&r.mixins.forEach(M),e.extends&&M(e.extends),e.mixins&&e.mixins.forEach(M)}if(!s&&!v)return isObject$2(e)&&o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(s))for(let M=0;M<s.length;M++){const P=camelize(s[M]);validatePropName(P)&&(l[P]=EMPTY_OBJ)}else if(s)for(const M in s){const P=camelize(M);if(validatePropName(P)){const j=s[M],V=l[P]=isArray$2(j)||isFunction$2(j)?{type:j}:Object.assign({},j);if(V){const ee=getTypeIndex(Boolean,V.type),se=getTypeIndex(String,V.type);V[0]=ee>-1,V[1]=se<0||ee<se,(ee>-1||hasOwn(V,"default"))&&h.push(P)}}}const x=[l,h];return isObject$2(e)&&o.set(e,x),x}function validatePropName(e){return e[0]!=="$"}function getType(e){const r=e&&e.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:e===null?"null":""}function isSameType(e,r){return getType(e)===getType(r)}function getTypeIndex(e,r){return isArray$2(r)?r.findIndex(n=>isSameType(n,e)):isFunction$2(r)&&isSameType(r,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,r,n)=>{if(r._n)return r;const o=withCtx((...a)=>normalizeSlotValue(r(...a)),n);return o._c=!1,o},normalizeObjectSlots=(e,r,n)=>{const o=e._ctx;for(const a in e){if(isInternalKey(a))continue;const s=e[a];if(isFunction$2(s))r[a]=normalizeSlot(a,s,o);else if(s!=null){const l=normalizeSlotValue(s);r[a]=()=>l}}},normalizeVNodeSlots=(e,r)=>{const n=normalizeSlotValue(r);e.slots.default=()=>n},initSlots=(e,r)=>{if(e.vnode.shapeFlag&32){const n=r._;n?(e.slots=toRaw(r),def(r,"_",n)):normalizeObjectSlots(r,e.slots={})}else e.slots={},r&&normalizeVNodeSlots(e,r);def(e.slots,InternalObjectKey,1)},updateSlots=(e,r,n)=>{const{vnode:o,slots:a}=e;let s=!0,l=EMPTY_OBJ;if(o.shapeFlag&32){const h=r._;h?n&&h===1?s=!1:(extend$6(a,r),!n&&h===1&&delete a._):(s=!r.$stable,normalizeObjectSlots(r,a)),l=r}else r&&(normalizeVNodeSlots(e,r),l={default:1});if(s)for(const h in a)!isInternalKey(h)&&!(h in l)&&delete a[h]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,r){return function(o,a=null){isFunction$2(o)||(o=Object.assign({},o)),a!=null&&!isObject$2(a)&&(a=null);const s=createAppContext(),l=new Set;let h=!1;const v=s.app={_uid:uid$1++,_component:o,_props:a,_container:null,_context:s,_instance:null,version:version$3,get config(){return s.config},set config(x){},use(x,...M){return l.has(x)||(x&&isFunction$2(x.install)?(l.add(x),x.install(v,...M)):isFunction$2(x)&&(l.add(x),x(v,...M))),v},mixin(x){return s.mixins.includes(x)||s.mixins.push(x),v},component(x,M){return M?(s.components[x]=M,v):s.components[x]},directive(x,M){return M?(s.directives[x]=M,v):s.directives[x]},mount(x,M,P){if(!h){const j=createVNode(o,a);return j.appContext=s,M&&r?r(j,x):e(j,x,P),h=!0,v._container=x,x.__vue_app__=v,getExposeProxy(j.component)||j.component.proxy}},unmount(){h&&(e(null,v._container),delete v._container.__vue_app__)},provide(x,M){return s.provides[x]=M,v}};return v}}function setRef(e,r,n,o,a=!1){if(isArray$2(e)){e.forEach((j,V)=>setRef(j,r&&(isArray$2(r)?r[V]:r),n,o,a));return}if(isAsyncWrapper(o)&&!a)return;const s=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,l=a?null:s,{i:h,r:v}=e,x=r&&r.r,M=h.refs===EMPTY_OBJ?h.refs={}:h.refs,P=h.setupState;if(x!=null&&x!==v&&(isString$1(x)?(M[x]=null,hasOwn(P,x)&&(P[x]=null)):isRef(x)&&(x.value=null)),isFunction$2(v))callWithErrorHandling(v,h,12,[l,M]);else{const j=isString$1(v),V=isRef(v);if(j||V){const ee=()=>{if(e.f){const se=j?hasOwn(P,v)?P[v]:M[v]:v.value;a?isArray$2(se)&&remove(se,s):isArray$2(se)?se.includes(s)||se.push(s):j?(M[v]=[s],hasOwn(P,v)&&(P[v]=M[v])):(v.value=[s],e.k&&(M[e.k]=v.value))}else j?(M[v]=l,hasOwn(P,v)&&(P[v]=l)):V&&(v.value=l,e.k&&(M[e.k]=l))};l?(ee.id=-1,queuePostRenderEffect(ee,n)):ee()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,r){const n=getGlobalThis();n.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:l,createText:h,createComment:v,setText:x,setElementText:M,parentNode:P,nextSibling:j,setScopeId:V=NOOP,insertStaticContent:ee}=e,se=(K,Z,ie,be=null,Ae=null,ge=null,xe=!1,Me=null,me=!!Z.dynamicChildren)=>{if(K===Z)return;K&&!isSameVNodeType(K,Z)&&(be=at(K),O(K,Ae,ge,!0),K=null),Z.patchFlag===-2&&(me=!1,Z.dynamicChildren=null);const{type:we,ref:Oe,shapeFlag:Se}=Z;switch(we){case Text:Q(K,Z,ie,be);break;case Comment:$e(K,Z,ie,be);break;case Static:K==null&&Ie(Z,ie,be,xe);break;case Fragment:d(K,Z,ie,be,Ae,ge,xe,Me,me);break;default:Se&1?J(K,Z,ie,be,Ae,ge,xe,Me,me):Se&6?c(K,Z,ie,be,Ae,ge,xe,Me,me):(Se&64||Se&128)&&we.process(K,Z,ie,be,Ae,ge,xe,Me,me,Ge)}Oe!=null&&Ae&&setRef(Oe,K&&K.ref,ge,Z||K,!Z)},Q=(K,Z,ie,be)=>{if(K==null)o(Z.el=h(Z.children),ie,be);else{const Ae=Z.el=K.el;Z.children!==K.children&&x(Ae,Z.children)}},$e=(K,Z,ie,be)=>{K==null?o(Z.el=v(Z.children||""),ie,be):Z.el=K.el},Ie=(K,Z,ie,be)=>{[K.el,K.anchor]=ee(K.children,Z,ie,be,K.el,K.anchor)},ye=({el:K,anchor:Z},ie,be)=>{let Ae;for(;K&&K!==Z;)Ae=j(K),o(K,ie,be),K=Ae;o(Z,ie,be)},G=({el:K,anchor:Z})=>{let ie;for(;K&&K!==Z;)ie=j(K),a(K),K=ie;a(Z)},J=(K,Z,ie,be,Ae,ge,xe,Me,me)=>{xe=xe||Z.type==="svg",K==null?le(Z,ie,be,Ae,ge,xe,Me,me):te(K,Z,Ae,ge,xe,Me,me)},le=(K,Z,ie,be,Ae,ge,xe,Me)=>{let me,we;const{type:Oe,props:Se,shapeFlag:ke,transition:z,dirs:N}=K;if(me=K.el=l(K.type,ge,Se&&Se.is,Se),ke&8?M(me,K.children):ke&16&&H(K.children,me,null,be,Ae,ge&&Oe!=="foreignObject",xe,Me),N&&invokeDirectiveHook(K,null,be,"created"),ae(me,K,K.scopeId,xe,be),Se){for(const b in Se)b!=="value"&&!isReservedProp(b)&&s(me,b,null,Se[b],ge,K.children,be,Ae,Pe);"value"in Se&&s(me,"value",null,Se.value),(we=Se.onVnodeBeforeMount)&&invokeVNodeHook(we,be,K)}N&&invokeDirectiveHook(K,null,be,"beforeMount");const I=(!Ae||Ae&&!Ae.pendingBranch)&&z&&!z.persisted;I&&z.beforeEnter(me),o(me,Z,ie),((we=Se&&Se.onVnodeMounted)||I||N)&&queuePostRenderEffect(()=>{we&&invokeVNodeHook(we,be,K),I&&z.enter(me),N&&invokeDirectiveHook(K,null,be,"mounted")},Ae)},ae=(K,Z,ie,be,Ae)=>{if(ie&&V(K,ie),be)for(let ge=0;ge<be.length;ge++)V(K,be[ge]);if(Ae){let ge=Ae.subTree;if(Z===ge){const xe=Ae.vnode;ae(K,xe,xe.scopeId,xe.slotScopeIds,Ae.parent)}}},H=(K,Z,ie,be,Ae,ge,xe,Me,me=0)=>{for(let we=me;we<K.length;we++){const Oe=K[we]=Me?cloneIfMounted(K[we]):normalizeVNode(K[we]);se(null,Oe,Z,ie,be,Ae,ge,xe,Me)}},te=(K,Z,ie,be,Ae,ge,xe)=>{const Me=Z.el=K.el;let{patchFlag:me,dynamicChildren:we,dirs:Oe}=Z;me|=K.patchFlag&16;const Se=K.props||EMPTY_OBJ,ke=Z.props||EMPTY_OBJ;let z;ie&&toggleRecurse(ie,!1),(z=ke.onVnodeBeforeUpdate)&&invokeVNodeHook(z,ie,Z,K),Oe&&invokeDirectiveHook(Z,K,ie,"beforeUpdate"),ie&&toggleRecurse(ie,!0);const N=Ae&&Z.type!=="foreignObject";if(we?E(K.dynamicChildren,we,Me,ie,be,N,ge):xe||$(K,Z,Me,null,ie,be,N,ge,!1),me>0){if(me&16)u(Me,Z,Se,ke,ie,be,Ae);else if(me&2&&Se.class!==ke.class&&s(Me,"class",null,ke.class,Ae),me&4&&s(Me,"style",Se.style,ke.style,Ae),me&8){const I=Z.dynamicProps;for(let b=0;b<I.length;b++){const C=I[b],T=Se[C],U=ke[C];(U!==T||C==="value")&&s(Me,C,T,U,Ae,K.children,ie,be,Pe)}}me&1&&K.children!==Z.children&&M(Me,Z.children)}else!xe&&we==null&&u(Me,Z,Se,ke,ie,be,Ae);((z=ke.onVnodeUpdated)||Oe)&&queuePostRenderEffect(()=>{z&&invokeVNodeHook(z,ie,Z,K),Oe&&invokeDirectiveHook(Z,K,ie,"updated")},be)},E=(K,Z,ie,be,Ae,ge,xe)=>{for(let Me=0;Me<Z.length;Me++){const me=K[Me],we=Z[Me],Oe=me.el&&(me.type===Fragment||!isSameVNodeType(me,we)||me.shapeFlag&70)?P(me.el):ie;se(me,we,Oe,null,be,Ae,ge,xe,!0)}},u=(K,Z,ie,be,Ae,ge,xe)=>{if(ie!==be){if(ie!==EMPTY_OBJ)for(const Me in ie)!isReservedProp(Me)&&!(Me in be)&&s(K,Me,ie[Me],null,xe,Z.children,Ae,ge,Pe);for(const Me in be){if(isReservedProp(Me))continue;const me=be[Me],we=ie[Me];me!==we&&Me!=="value"&&s(K,Me,we,me,xe,Z.children,Ae,ge,Pe)}"value"in be&&s(K,"value",ie.value,be.value)}},d=(K,Z,ie,be,Ae,ge,xe,Me,me)=>{const we=Z.el=K?K.el:h(""),Oe=Z.anchor=K?K.anchor:h("");let{patchFlag:Se,dynamicChildren:ke,slotScopeIds:z}=Z;z&&(Me=Me?Me.concat(z):z),K==null?(o(we,ie,be),o(Oe,ie,be),H(Z.children,ie,Oe,Ae,ge,xe,Me,me)):Se>0&&Se&64&&ke&&K.dynamicChildren?(E(K.dynamicChildren,ke,ie,Ae,ge,xe,Me),(Z.key!=null||Ae&&Z===Ae.subTree)&&traverseStaticChildren(K,Z,!0)):$(K,Z,ie,Oe,Ae,ge,xe,Me,me)},c=(K,Z,ie,be,Ae,ge,xe,Me,me)=>{Z.slotScopeIds=Me,K==null?Z.shapeFlag&512?Ae.ctx.activate(Z,ie,be,xe,me):g(Z,ie,be,Ae,ge,xe,me):m(K,Z,me)},g=(K,Z,ie,be,Ae,ge,xe)=>{const Me=K.component=createComponentInstance(K,be,Ae);if(isKeepAlive(K)&&(Me.ctx.renderer=Ge),setupComponent(Me),Me.asyncDep){if(Ae&&Ae.registerDep(Me,w),!K.el){const me=Me.subTree=createVNode(Comment);$e(null,me,Z,ie)}return}w(Me,K,Z,ie,Ae,ge,xe)},m=(K,Z,ie)=>{const be=Z.component=K.component;if(shouldUpdateComponent(K,Z,ie))if(be.asyncDep&&!be.asyncResolved){S(be,Z,ie);return}else be.next=Z,invalidateJob(be.update),be.update();else Z.el=K.el,be.vnode=Z},w=(K,Z,ie,be,Ae,ge,xe)=>{const Me=()=>{if(K.isMounted){let{next:Oe,bu:Se,u:ke,parent:z,vnode:N}=K,I=Oe,b;toggleRecurse(K,!1),Oe?(Oe.el=N.el,S(K,Oe,xe)):Oe=N,Se&&invokeArrayFns(Se),(b=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(b,z,Oe,N),toggleRecurse(K,!0);const C=renderComponentRoot(K),T=K.subTree;K.subTree=C,se(T,C,P(T.el),at(T),K,Ae,ge),Oe.el=C.el,I===null&&updateHOCHostEl(K,C.el),ke&&queuePostRenderEffect(ke,Ae),(b=Oe.props&&Oe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(b,z,Oe,N),Ae)}else{let Oe;const{el:Se,props:ke}=Z,{bm:z,m:N,parent:I}=K,b=isAsyncWrapper(Z);if(toggleRecurse(K,!1),z&&invokeArrayFns(z),!b&&(Oe=ke&&ke.onVnodeBeforeMount)&&invokeVNodeHook(Oe,I,Z),toggleRecurse(K,!0),Se&&Xe){const C=()=>{K.subTree=renderComponentRoot(K),Xe(Se,K.subTree,K,Ae,null)};b?Z.type.__asyncLoader().then(()=>!K.isUnmounted&&C()):C()}else{const C=K.subTree=renderComponentRoot(K);se(null,C,ie,be,K,Ae,ge),Z.el=C.el}if(N&&queuePostRenderEffect(N,Ae),!b&&(Oe=ke&&ke.onVnodeMounted)){const C=Z;queuePostRenderEffect(()=>invokeVNodeHook(Oe,I,C),Ae)}(Z.shapeFlag&256||I&&isAsyncWrapper(I.vnode)&&I.vnode.shapeFlag&256)&&K.a&&queuePostRenderEffect(K.a,Ae),K.isMounted=!0,Z=ie=be=null}},me=K.effect=new ReactiveEffect(Me,()=>queueJob(we),K.scope),we=K.update=()=>me.run();we.id=K.uid,toggleRecurse(K,!0),we()},S=(K,Z,ie)=>{Z.component=K;const be=K.vnode.props;K.vnode=Z,K.next=null,updateProps(K,Z.props,be,ie),updateSlots(K,Z.children,ie),pauseTracking(),flushPreFlushCbs(),resetTracking()},$=(K,Z,ie,be,Ae,ge,xe,Me,me=!1)=>{const we=K&&K.children,Oe=K?K.shapeFlag:0,Se=Z.children,{patchFlag:ke,shapeFlag:z}=Z;if(ke>0){if(ke&128){y(we,Se,ie,be,Ae,ge,xe,Me,me);return}else if(ke&256){f(we,Se,ie,be,Ae,ge,xe,Me,me);return}}z&8?(Oe&16&&Pe(we,Ae,ge),Se!==we&&M(ie,Se)):Oe&16?z&16?y(we,Se,ie,be,Ae,ge,xe,Me,me):Pe(we,Ae,ge,!0):(Oe&8&&M(ie,""),z&16&&H(Se,ie,be,Ae,ge,xe,Me,me))},f=(K,Z,ie,be,Ae,ge,xe,Me,me)=>{K=K||EMPTY_ARR,Z=Z||EMPTY_ARR;const we=K.length,Oe=Z.length,Se=Math.min(we,Oe);let ke;for(ke=0;ke<Se;ke++){const z=Z[ke]=me?cloneIfMounted(Z[ke]):normalizeVNode(Z[ke]);se(K[ke],z,ie,null,Ae,ge,xe,Me,me)}we>Oe?Pe(K,Ae,ge,!0,!1,Se):H(Z,ie,be,Ae,ge,xe,Me,me,Se)},y=(K,Z,ie,be,Ae,ge,xe,Me,me)=>{let we=0;const Oe=Z.length;let Se=K.length-1,ke=Oe-1;for(;we<=Se&&we<=ke;){const z=K[we],N=Z[we]=me?cloneIfMounted(Z[we]):normalizeVNode(Z[we]);if(isSameVNodeType(z,N))se(z,N,ie,null,Ae,ge,xe,Me,me);else break;we++}for(;we<=Se&&we<=ke;){const z=K[Se],N=Z[ke]=me?cloneIfMounted(Z[ke]):normalizeVNode(Z[ke]);if(isSameVNodeType(z,N))se(z,N,ie,null,Ae,ge,xe,Me,me);else break;Se--,ke--}if(we>Se){if(we<=ke){const z=ke+1,N=z<Oe?Z[z].el:be;for(;we<=ke;)se(null,Z[we]=me?cloneIfMounted(Z[we]):normalizeVNode(Z[we]),ie,N,Ae,ge,xe,Me,me),we++}}else if(we>ke)for(;we<=Se;)O(K[we],Ae,ge,!0),we++;else{const z=we,N=we,I=new Map;for(we=N;we<=ke;we++){const ce=Z[we]=me?cloneIfMounted(Z[we]):normalizeVNode(Z[we]);ce.key!=null&&I.set(ce.key,we)}let b,C=0;const T=ke-N+1;let U=!1,k=0;const L=new Array(T);for(we=0;we<T;we++)L[we]=0;for(we=z;we<=Se;we++){const ce=K[we];if(C>=T){O(ce,Ae,ge,!0);continue}let fe;if(ce.key!=null)fe=I.get(ce.key);else for(b=N;b<=ke;b++)if(L[b-N]===0&&isSameVNodeType(ce,Z[b])){fe=b;break}fe===void 0?O(ce,Ae,ge,!0):(L[fe-N]=we+1,fe>=k?k=fe:U=!0,se(ce,Z[fe],ie,null,Ae,ge,xe,Me,me),C++)}const ue=U?getSequence(L):EMPTY_ARR;for(b=ue.length-1,we=T-1;we>=0;we--){const ce=N+we,fe=Z[ce],Be=ce+1<Oe?Z[ce+1].el:be;L[we]===0?se(null,fe,ie,Be,Ae,ge,xe,Me,me):U&&(b<0||we!==ue[b]?B(fe,ie,Be,2):b--)}}},B=(K,Z,ie,be,Ae=null)=>{const{el:ge,type:xe,transition:Me,children:me,shapeFlag:we}=K;if(we&6){B(K.component.subTree,Z,ie,be);return}if(we&128){K.suspense.move(Z,ie,be);return}if(we&64){xe.move(K,Z,ie,Ge);return}if(xe===Fragment){o(ge,Z,ie);for(let Se=0;Se<me.length;Se++)B(me[Se],Z,ie,be);o(K.anchor,Z,ie);return}if(xe===Static){ye(K,Z,ie);return}if(be!==2&&we&1&&Me)if(be===0)Me.beforeEnter(ge),o(ge,Z,ie),queuePostRenderEffect(()=>Me.enter(ge),Ae);else{const{leave:Se,delayLeave:ke,afterLeave:z}=Me,N=()=>o(ge,Z,ie),I=()=>{Se(ge,()=>{N(),z&&z()})};ke?ke(ge,N,I):I()}else o(ge,Z,ie)},O=(K,Z,ie,be=!1,Ae=!1)=>{const{type:ge,props:xe,ref:Me,children:me,dynamicChildren:we,shapeFlag:Oe,patchFlag:Se,dirs:ke}=K;if(Me!=null&&setRef(Me,null,ie,K,!0),Oe&256){Z.ctx.deactivate(K);return}const z=Oe&1&&ke,N=!isAsyncWrapper(K);let I;if(N&&(I=xe&&xe.onVnodeBeforeUnmount)&&invokeVNodeHook(I,Z,K),Oe&6)ve(K.component,ie,be);else{if(Oe&128){K.suspense.unmount(ie,be);return}z&&invokeDirectiveHook(K,null,Z,"beforeUnmount"),Oe&64?K.type.remove(K,Z,ie,Ae,Ge,be):we&&(ge!==Fragment||Se>0&&Se&64)?Pe(we,Z,ie,!1,!0):(ge===Fragment&&Se&384||!Ae&&Oe&16)&&Pe(me,Z,ie),be&&oe(K)}(N&&(I=xe&&xe.onVnodeUnmounted)||z)&&queuePostRenderEffect(()=>{I&&invokeVNodeHook(I,Z,K),z&&invokeDirectiveHook(K,null,Z,"unmounted")},ie)},oe=K=>{const{type:Z,el:ie,anchor:be,transition:Ae}=K;if(Z===Fragment){he(ie,be);return}if(Z===Static){G(K);return}const ge=()=>{a(ie),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(K.shapeFlag&1&&Ae&&!Ae.persisted){const{leave:xe,delayLeave:Me}=Ae,me=()=>xe(ie,ge);Me?Me(K.el,ge,me):me()}else ge()},he=(K,Z)=>{let ie;for(;K!==Z;)ie=j(K),a(K),K=ie;a(Z)},ve=(K,Z,ie)=>{const{bum:be,scope:Ae,update:ge,subTree:xe,um:Me}=K;be&&invokeArrayFns(be),Ae.stop(),ge&&(ge.active=!1,O(xe,K,Z,ie)),Me&&queuePostRenderEffect(Me,Z),queuePostRenderEffect(()=>{K.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},Pe=(K,Z,ie,be=!1,Ae=!1,ge=0)=>{for(let xe=ge;xe<K.length;xe++)O(K[xe],Z,ie,be,Ae)},at=K=>K.shapeFlag&6?at(K.component.subTree):K.shapeFlag&128?K.suspense.next():j(K.anchor||K.el),Le=(K,Z,ie)=>{K==null?Z._vnode&&O(Z._vnode,null,null,!0):se(Z._vnode||null,K,Z,null,null,null,ie),flushPreFlushCbs(),flushPostFlushCbs(),Z._vnode=K},Ge={p:se,um:O,m:B,r:oe,mt:g,mc:H,pc:$,pbc:E,n:at,o:e};let _t,Xe;return r&&([_t,Xe]=r(Ge)),{render:Le,hydrate:_t,createApp:createAppAPI(Le,_t)}}function toggleRecurse({effect:e,update:r},n){e.allowRecurse=r.allowRecurse=n}function traverseStaticChildren(e,r,n=!1){const o=e.children,a=r.children;if(isArray$2(o)&&isArray$2(a))for(let s=0;s<o.length;s++){const l=o[s];let h=a[s];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=a[s]=cloneIfMounted(a[s]),h.el=l.el),n||traverseStaticChildren(l,h)),h.type===Text&&(h.el=l.el)}}function getSequence(e){const r=e.slice(),n=[0];let o,a,s,l,h;const v=e.length;for(o=0;o<v;o++){const x=e[o];if(x!==0){if(a=n[n.length-1],e[a]<x){r[o]=a,n.push(o);continue}for(s=0,l=n.length-1;s<l;)h=s+l>>1,e[n[h]]<x?s=h+1:l=h;x<e[n[s]]&&(s>0&&(r[o]=n[s-1]),n[s]=o)}}for(s=n.length,l=n[s-1];s-- >0;)n[s]=l,l=r[l];return n}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,r,n,o,a,s){return setupBlock(createBaseVNode(e,r,n,o,a,s,!0))}function createBlock(e,r,n,o,a){return setupBlock(createVNode(e,r,n,o,a,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,r){return e.type===r.type&&e.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:r,ref_for:n})=>e!=null?isString$1(e)||isRef(e)||isFunction$2(e)?{i:currentRenderingInstance,r:e,k:r,f:!!n}:e:null;function createBaseVNode(e,r=null,n=null,o=0,a=null,s=e===Fragment?0:1,l=!1,h=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return h?(normalizeChildren(v,n),s&128&&e.normalize(v)):n&&(v.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(v.patchFlag>0||s&6)&&v.patchFlag!==32&&currentBlock.push(v),v}const createVNode=_createVNode;function _createVNode(e,r=null,n=null,o=0,a=null,s=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const h=cloneVNode(e,r,!0);return n&&normalizeChildren(h,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(h.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=h:currentBlock.push(h)),h.patchFlag|=-2,h}if(isClassComponent(e)&&(e=e.__vccOpts),r){r=guardReactiveProps(r);let{class:h,style:v}=r;h&&!isString$1(h)&&(r.class=normalizeClass(h)),isObject$2(v)&&(isProxy(v)&&!isArray$2(v)&&(v=extend$6({},v)),r.style=normalizeStyle(v))}const l=isString$1(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$2(e)?2:0;return createBaseVNode(e,r,n,o,a,l,s,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend$6({},e):e:null}function cloneVNode(e,r,n=!1){const{props:o,ref:a,patchFlag:s,children:l}=e,h=r?mergeProps(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&normalizeKey(h),ref:r&&r.ref?n&&a?isArray$2(a)?a.concat(normalizeRef(r)):[a,normalizeRef(r)]:normalizeRef(r):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:r&&e.type!==Fragment?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",r=0){return createVNode(Text,null,e,r)}function createCommentVNode(e="",r=!1){return r?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,r){let n=0;const{shapeFlag:o}=e;if(r==null)r=null;else if(isArray$2(r))n=16;else if(typeof r=="object")if(o&65){const a=r.default;a&&(a._c&&(a._d=!1),normalizeChildren(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=r._;!a&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,e.patchFlag|=1024))}else isFunction$2(r)?(r={default:r,_ctx:currentRenderingInstance},n=32):(r=String(r),o&64?(n=16,r=[createTextVNode(r)]):n=8);e.children=r,e.shapeFlag|=n}function mergeProps(...e){const r={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")r.class!==o.class&&(r.class=normalizeClass([r.class,o.class]));else if(a==="style")r.style=normalizeStyle([r.style,o.style]);else if(isOn(a)){const s=r[a],l=o[a];l&&s!==l&&!(isArray$2(s)&&s.includes(l))&&(r[a]=s?[].concat(s,l):l)}else a!==""&&(r[a]=o[a])}return r}function invokeVNodeHook(e,r,n,o=null){callWithAsyncErrorHandling(e,r,7,[n,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,r,n){const o=e.type,a=(r?r.appContext:e.appContext)||emptyAppContext,s={uid:uid++,vnode:e,type:o,parent:r,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,a),emitsOptions:normalizeEmitsOptions(o,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=r?r.root:s,s.emit=emit.bind(null,s),e.ce&&e.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,r=!1){isInSSRComponentSetup=r;const{props:n,children:o}=e.vnode,a=isStatefulComponent(e);initProps(e,n,a,r),initSlots(e,o);const s=a?setupStatefulComponent(e,r):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(e,r){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:o}=n;if(o){const a=e.setupContext=o.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const s=callWithErrorHandling(o,e,0,[e.props,a]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),r)return s.then(l=>{handleSetupResult(e,l,r)}).catch(l=>{handleError(l,e,0)});e.asyncDep=s}else handleSetupResult(e,s,r)}else finishComponentSetup(e,r)}function handleSetupResult(e,r,n){isFunction$2(r)?e.type.__ssrInlineRender?e.ssrRender=r:e.render=r:isObject$2(r)&&(e.setupState=proxyRefs(r)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,r,n){const o=e.type;if(!e.render){if(!r&&compile&&!o.render){const a=o.template||resolveMergedOptions(e).template;if(a){const{isCustomElement:s,compilerOptions:l}=e.appContext.config,{delimiters:h,compilerOptions:v}=o,x=extend$6(extend$6({isCustomElement:s,delimiters:h},l),v);o.render=compile(a,x)}}e.render=o.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(r,n){return track(e,"get","$attrs"),r[n]}})}function createSetupContext(e){const r=o=>{e.exposed=o||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:r}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(r,n){if(n in r)return r[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(r,n){return n in r||n in publicPropertiesMap}}))}function getComponentName(e,r=!0){return isFunction$2(e)?e.displayName||e.name:e.name||r&&e.__name}function isClassComponent(e){return isFunction$2(e)&&"__vccOpts"in e}const computed=(e,r)=>computed$1(e,r,isInSSRComponentSetup),ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version$3="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,r,n)=>{r.insertBefore(e,n||null)},remove:e=>{const r=e.parentNode;r&&r.removeChild(e)},createElement:(e,r,n,o)=>{const a=r?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,r)=>{e.nodeValue=r},setElementText:(e,r)=>{e.textContent=r},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,r){e.setAttribute(r,"")},insertStaticContent(e,r,n,o,a,s){const l=n?n.previousSibling:r.lastChild;if(a&&(a===s||a.nextSibling))for(;r.insertBefore(a.cloneNode(!0),n),!(a===s||!(a=a.nextSibling)););else{templateContainer.innerHTML=o?`<svg>${e}</svg>`:e;const h=templateContainer.content;if(o){const v=h.firstChild;for(;v.firstChild;)h.appendChild(v.firstChild);h.removeChild(v)}r.insertBefore(h,n)}return[l?l.nextSibling:r.firstChild,n?n.previousSibling:r.lastChild]}};function patchClass(e,r,n){const o=e._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?e.removeAttribute("class"):n?e.setAttribute("class",r):e.className=r}function patchStyle(e,r,n){const o=e.style,a=isString$1(n);if(n&&!a){if(r&&!isString$1(r))for(const s in r)n[s]==null&&setStyle(o,s,"");for(const s in n)setStyle(o,s,n[s])}else{const s=o.display;a?r!==n&&(o.cssText=n):r&&e.removeAttribute("style"),"_vod"in e&&(o.display=s)}}const importantRE=/\s*!important$/;function setStyle(e,r,n){if(isArray$2(n))n.forEach(o=>setStyle(e,r,o));else if(n==null&&(n=""),r.startsWith("--"))e.setProperty(r,n);else{const o=autoPrefix(e,r);importantRE.test(n)?e.setProperty(hyphenate(o),n.replace(importantRE,""),"important"):e[o]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,r){const n=prefixCache[r];if(n)return n;let o=camelize(r);if(o!=="filter"&&o in e)return prefixCache[r]=o;o=capitalize(o);for(let a=0;a<prefixes.length;a++){const s=prefixes[a]+o;if(s in e)return prefixCache[r]=s}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,r,n,o,a){if(o&&r.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,r.slice(6,r.length)):e.setAttributeNS(xlinkNS,r,n);else{const s=isSpecialBooleanAttr(r);n==null||s&&!includeBooleanAttr(n)?e.removeAttribute(r):e.setAttribute(r,s?"":n)}}function patchDOMProp(e,r,n,o,a,s,l){if(r==="innerHTML"||r==="textContent"){o&&l(o,a,s),e[r]=n??"";return}if(r==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const v=n??"";(e.value!==v||e.tagName==="OPTION")&&(e.value=v),n==null&&e.removeAttribute(r);return}let h=!1;if(n===""||n==null){const v=typeof e[r];v==="boolean"?n=includeBooleanAttr(n):n==null&&v==="string"?(n="",h=!0):v==="number"&&(n=0,h=!0)}try{e[r]=n}catch{}h&&e.removeAttribute(r)}function addEventListener(e,r,n,o){e.addEventListener(r,n,o)}function removeEventListener(e,r,n,o){e.removeEventListener(r,n,o)}function patchEvent(e,r,n,o,a=null){const s=e._vei||(e._vei={}),l=s[r];if(o&&l)l.value=o;else{const[h,v]=parseName(r);if(o){const x=s[r]=createInvoker(o,a);addEventListener(e,h,x,v)}else l&&(removeEventListener(e,h,l,v),s[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let r;if(optionsModifierRE.test(e)){r={};let o;for(;o=e.match(optionsModifierRE);)e=e.slice(0,e.length-o[0].length),r[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),r]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,r){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,n.value),r,5,[o])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,r){if(isArray$2(r)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},r.map(o=>a=>!a._stopped&&o&&o(a))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(e,r,n,o,a=!1,s,l,h,v)=>{r==="class"?patchClass(e,o,a):r==="style"?patchStyle(e,n,o):isOn(r)?isModelListener(r)||patchEvent(e,r,n,o,l):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(e,r,o,a))?patchDOMProp(e,r,o,s,l,h,v):(r==="true-value"?e._trueValue=o:r==="false-value"&&(e._falseValue=o),patchAttr(e,r,o,a))};function shouldSetAsProp(e,r,n,o){return o?!!(r==="innerHTML"||r==="textContent"||r in e&&nativeOnRE.test(r)&&isFunction$2(n)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&e.tagName==="INPUT"||r==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString$1(n)?!1:r in e}const getModelAssigner=e=>{const r=e.props["onUpdate:modelValue"]||!1;return isArray$2(r)?n=>invokeArrayFns(r,n):r};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const r=e.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:r,trim:n,number:o}},a){e._assign=getModelAssigner(a);const s=o||a.props&&a.props.type==="number";addEventListener(e,r?"change":"input",l=>{if(l.target.composing)return;let h=e.value;n&&(h=h.trim()),s&&(h=looseToNumber(h)),e._assign(h)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),r||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:r}){e.value=r??""},beforeUpdate(e,{value:r,modifiers:{lazy:n,trim:o,number:a}},s){if(e._assign=getModelAssigner(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===r||(a||e.type==="number")&&looseToNumber(e.value)===r))return;const l=r??"";e.value!==l&&(e.value=l)}},vModelCheckbox={deep:!0,created(e,r,n){e._assign=getModelAssigner(n),addEventListener(e,"change",()=>{const o=e._modelValue,a=getValue(e),s=e.checked,l=e._assign;if(isArray$2(o)){const h=looseIndexOf(o,a),v=h!==-1;if(s&&!v)l(o.concat(a));else if(!s&&v){const x=[...o];x.splice(h,1),l(x)}}else if(isSet(o)){const h=new Set(o);s?h.add(a):h.delete(a),l(h)}else l(getCheckboxValue(e,s))})},mounted:setChecked,beforeUpdate(e,r,n){e._assign=getModelAssigner(n),setChecked(e,r,n)}};function setChecked(e,{value:r,oldValue:n},o){e._modelValue=r,isArray$2(r)?e.checked=looseIndexOf(r,o.props.value)>-1:isSet(r)?e.checked=r.has(o.props.value):r!==n&&(e.checked=looseEqual(r,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:r},n){e.checked=looseEqual(r,n.props.value),e._assign=getModelAssigner(n),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:r,oldValue:n},o){e._assign=getModelAssigner(o),r!==n&&(e.checked=looseEqual(r,o.props.value))}},vModelSelect={deep:!0,created(e,{value:r,modifiers:{number:n}},o){const a=isSet(r);addEventListener(e,"change",()=>{const s=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?looseToNumber(getValue(l)):getValue(l));e._assign(e.multiple?a?new Set(s):s:s[0])}),e._assign=getModelAssigner(o)},mounted(e,{value:r}){setSelected(e,r)},beforeUpdate(e,r,n){e._assign=getModelAssigner(n)},updated(e,{value:r}){setSelected(e,r)}};function setSelected(e,r){const n=e.multiple;if(!(n&&!isArray$2(r)&&!isSet(r))){for(let o=0,a=e.options.length;o<a;o++){const s=e.options[o],l=getValue(s);if(n)isArray$2(r)?s.selected=looseIndexOf(r,l)>-1:s.selected=r.has(l);else if(looseEqual(getValue(s),r)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,r){const n=r?"_trueValue":"_falseValue";return n in e?e[n]:r}const vModelDynamic={created(e,r,n){callModelHook(e,r,n,null,"created")},mounted(e,r,n){callModelHook(e,r,n,null,"mounted")},beforeUpdate(e,r,n,o){callModelHook(e,r,n,o,"beforeUpdate")},updated(e,r,n,o){callModelHook(e,r,n,o,"updated")}};function resolveDynamicModel(e,r){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(r){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,r,n,o,a){const l=resolveDynamicModel(e.tagName,n.props&&n.props.type)[a];l&&l(e,r,n,o)}const rendererOptions=extend$6({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const r=ensureRenderer().createApp(...e),{mount:n}=r;return r.mount=o=>{const a=normalizeContainer(o);if(!a)return;const s=r._component;!isFunction$2(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.innerHTML="";const l=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),l},r};function normalizeContainer(e){return isString$1(e)?document.querySelector(e):e}var isVue2=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$1(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),r=e.run(()=>ref({}));let n=[],o=[];const a=markRaw({install(s){setActivePinia(a),a._a=s,s.provide(piniaSymbol,a),s.config.globalProperties.$pinia=a,o.forEach(l=>n.push(l)),o=[]},use(s){return!this._a&&!isVue2?o.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:r});return a}const noop$1=()=>{};function addSubscription(e,r,n,o=noop$1){e.push(r);const a=()=>{const s=e.indexOf(r);s>-1&&(e.splice(s,1),o())};return!n&&getCurrentScope()&&onScopeDispose(a),a}function triggerSubscriptions(e,...r){e.slice().forEach(n=>{n(...r)})}function mergeReactiveObjects(e,r){e instanceof Map&&r instanceof Map&&r.forEach((n,o)=>e.set(o,n)),e instanceof Set&&r instanceof Set&&r.forEach(e.add,e);for(const n in r){if(!r.hasOwnProperty(n))continue;const o=r[n],a=e[n];isPlainObject$1(a)&&isPlainObject$1(o)&&e.hasOwnProperty(n)&&!isRef(o)&&!isReactive(o)?e[n]=mergeReactiveObjects(a,o):e[n]=o}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$1(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,r,n,o){const{state:a,actions:s,getters:l}=r,h=n.state.value[e];let v;function x(){h||(n.state.value[e]=a?a():{});const M=toRefs(n.state.value[e]);return assign(M,s,Object.keys(l||{}).reduce((P,j)=>(P[j]=markRaw(computed(()=>{setActivePinia(n);const V=n._s.get(e);return l[j].call(V,V)})),P),{}))}return v=createSetupStore(e,x,r,n,o,!0),v}function createSetupStore(e,r,n={},o,a,s){let l;const h=assign({actions:{}},n),v={deep:!0};let x,M,P=markRaw([]),j=markRaw([]),V;const ee=o.state.value[e];!s&&!ee&&(o.state.value[e]={}),ref({});let se;function Q(ae){let H;x=M=!1,typeof ae=="function"?(ae(o.state.value[e]),H={type:MutationType.patchFunction,storeId:e,events:V}):(mergeReactiveObjects(o.state.value[e],ae),H={type:MutationType.patchObject,payload:ae,storeId:e,events:V});const te=se=Symbol();nextTick().then(()=>{se===te&&(x=!0)}),M=!0,triggerSubscriptions(P,H,o.state.value[e])}const $e=s?function(){const{state:H}=n,te=H?H():{};this.$patch(E=>{assign(E,te)})}:noop$1;function Ie(){l.stop(),P=[],j=[],o._s.delete(e)}function ye(ae,H){return function(){setActivePinia(o);const te=Array.from(arguments),E=[],u=[];function d(m){E.push(m)}function c(m){u.push(m)}triggerSubscriptions(j,{args:te,name:ae,store:J,after:d,onError:c});let g;try{g=H.apply(this&&this.$id===e?this:J,te)}catch(m){throw triggerSubscriptions(u,m),m}return g instanceof Promise?g.then(m=>(triggerSubscriptions(E,m),m)).catch(m=>(triggerSubscriptions(u,m),Promise.reject(m))):(triggerSubscriptions(E,g),g)}}const G={_p:o,$id:e,$onAction:addSubscription.bind(null,j),$patch:Q,$reset:$e,$subscribe(ae,H={}){const te=addSubscription(P,ae,H.detached,()=>E()),E=l.run(()=>watch(()=>o.state.value[e],u=>{(H.flush==="sync"?M:x)&&ae({storeId:e,type:MutationType.direct,events:V},u)},assign({},v,H)));return te},$dispose:Ie},J=reactive(G);o._s.set(e,J);const le=o._e.run(()=>(l=effectScope(),l.run(()=>r())));for(const ae in le){const H=le[ae];if(isRef(H)&&!isComputed(H)||isReactive(H))s||(ee&&shouldHydrate(H)&&(isRef(H)?H.value=ee[ae]:mergeReactiveObjects(H,ee[ae])),o.state.value[e][ae]=H);else if(typeof H=="function"){const te=ye(ae,H);le[ae]=te,h.actions[ae]=H}}return assign(J,le),assign(toRaw(J),le),Object.defineProperty(J,"$state",{get:()=>o.state.value[e],set:ae=>{Q(H=>{assign(H,ae)})}}),o._p.forEach(ae=>{assign(J,l.run(()=>ae({store:J,app:o._a,pinia:o,options:h})))}),ee&&s&&n.hydrate&&n.hydrate(J.$state,ee),x=!0,M=!0,J}function defineStore(e,r,n){let o,a;const s=typeof r=="function";typeof e=="string"?(o=e,a=s?n:r):(a=e,o=e.id);function l(h,v){const x=getCurrentInstance();return h=h||x&&inject(piniaSymbol,null),h&&setActivePinia(h),h=activePinia,h._s.has(o)||(s?createSetupStore(o,r,a,h):createOptionsStore(o,a,h)),h._s.get(o)}return l.$id=o,l}function mapState(e,r){return Array.isArray(r)?r.reduce((n,o)=>(n[o]=function(){return e(this.$pinia)[o]},n),{}):Object.keys(r).reduce((n,o)=>(n[o]=function(){const a=e(this.$pinia),s=r[o];return typeof s=="function"?s.call(this,a):a[s]},n),{})}function mapActions(e,r){return Array.isArray(r)?r.reduce((n,o)=>(n[o]=function(...a){return e(this.$pinia)[o](...a)},n),{}):Object.keys(r).reduce((n,o)=>(n[o]=function(...a){return e(this.$pinia)[r[o]](...a)},n),{})}var CONNECT_EVENT_ERROR_CODES;(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_EVENT_ERROR_CODES||(CONNECT_EVENT_ERROR_CODES={}));var CONNECT_ITEM_ERROR_CODES;(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_ITEM_ERROR_CODES||(CONNECT_ITEM_ERROR_CODES={}));var SEND_TRANSACTION_ERROR_CODES;(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(SEND_TRANSACTION_ERROR_CODES||(SEND_TRANSACTION_ERROR_CODES={}));var SIGN_DATA_ERROR_CODES;(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(SIGN_DATA_ERROR_CODES||(SIGN_DATA_ERROR_CODES={}));var DISCONNECT_ERROR_CODES;(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(DISCONNECT_ERROR_CODES||(DISCONNECT_ERROR_CODES={}));var CHAIN;(function(e){e.MAINNET="-239",e.TESTNET="-3"})(CHAIN||(CHAIN={}));var naclUtilExports={},naclUtil={get exports(){return naclUtilExports},set exports(e){naclUtilExports=e}};(function(e){(function(r,n){e.exports?e.exports=n():(r.nacl||(r.nacl={}),r.nacl.util=n())})(commonjsGlobal,function(){var r={};function n(o){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(o))throw new TypeError("invalid encoding")}return r.decodeUTF8=function(o){if(typeof o!="string")throw new TypeError("expected string");var a,s=unescape(encodeURIComponent(o)),l=new Uint8Array(s.length);for(a=0;a<s.length;a++)l[a]=s.charCodeAt(a);return l},r.encodeUTF8=function(o){var a,s=[];for(a=0;a<o.length;a++)s.push(String.fromCharCode(o[a]));return decodeURIComponent(escape(s.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(r.encodeBase64=function(o){return Buffer.from(o).toString("base64")},r.decodeBase64=function(o){return n(o),new Uint8Array(Array.prototype.slice.call(Buffer.from(o,"base64"),0))}):(r.encodeBase64=function(o){return new Buffer(o).toString("base64")},r.decodeBase64=function(o){return n(o),new Uint8Array(Array.prototype.slice.call(new Buffer(o,"base64"),0))}):(r.encodeBase64=function(o){var a,s=[],l=o.length;for(a=0;a<l;a++)s.push(String.fromCharCode(o[a]));return btoa(s.join(""))},r.decodeBase64=function(o){n(o);var a,s=atob(o),l=new Uint8Array(s.length);for(a=0;a<s.length;a++)l[a]=s.charCodeAt(a);return l}),r})})(naclUtil);const nacl$7=naclUtilExports;function encodeUint8Array(e,r){const n=nacl$7.encodeBase64(e);return r?encodeURIComponent(n):n}function decodeToUint8Array(e,r){return r&&(e=decodeURIComponent(e)),nacl$7.decodeBase64(e)}function encode$1(e,r=!1){let n;return e instanceof Uint8Array?n=e:(typeof e!="string"&&(e=JSON.stringify(e)),n=nacl$7.decodeUTF8(e)),encodeUint8Array(n,r)}function decode(e,r=!1){const n=decodeToUint8Array(e,r);return{toString(){return nacl$7.encodeUTF8(n)},toObject(){try{return JSON.parse(nacl$7.encodeUTF8(n))}catch{return null}},toUint8Array(){return n}}}const Base64={encode:encode$1,decode};function concatUint8Arrays(e,r){const n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),n}function splitToUint8Arrays(e,r){if(r>=e.length)throw new Error("Index is out of buffer");const n=e.slice(0,r),o=e.slice(r);return[n,o]}function toHexString(e){let r="";return e.forEach(n=>{r+=("0"+(n&255).toString(16)).slice(-2)}),r}function hexToByteArray(e){if(e.length%2!==0)throw new Error(`Cannot convert ${e} to bytesArray`);const r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n/2]=parseInt(e.slice(n,n+2),16);return r}function isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFastExports={},naclFast={get exports(){return naclFastExports},set exports(e){naclFastExports=e}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(e){(function(r){var n=function(F){var D,W=new Float64Array(16);if(F)for(D=0;D<F.length;D++)W[D]=F[D];return W},o=function(){throw new Error("no PRNG")},a=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var l=n(),h=n([1]),v=n([56129,1]),x=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),M=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),P=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),j=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),V=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ee(F,D,W,A){F[D]=W>>24&255,F[D+1]=W>>16&255,F[D+2]=W>>8&255,F[D+3]=W&255,F[D+4]=A>>24&255,F[D+5]=A>>16&255,F[D+6]=A>>8&255,F[D+7]=A&255}function se(F,D,W,A,q){var ne,X=0;for(ne=0;ne<q;ne++)X|=F[D+ne]^W[A+ne];return(1&X-1>>>8)-1}function Q(F,D,W,A){return se(F,D,W,A,16)}function $e(F,D,W,A){return se(F,D,W,A,32)}function Ie(F,D,W,A){for(var q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,ne=W[0]&255|(W[1]&255)<<8|(W[2]&255)<<16|(W[3]&255)<<24,X=W[4]&255|(W[5]&255)<<8|(W[6]&255)<<16|(W[7]&255)<<24,pe=W[8]&255|(W[9]&255)<<8|(W[10]&255)<<16|(W[11]&255)<<24,Te=W[12]&255|(W[13]&255)<<8|(W[14]&255)<<16|(W[15]&255)<<24,We=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,qe=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,wt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,He=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,ot=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,st=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,pt=W[16]&255|(W[17]&255)<<8|(W[18]&255)<<16|(W[19]&255)<<24,ht=W[20]&255|(W[21]&255)<<8|(W[22]&255)<<16|(W[23]&255)<<24,ut=W[24]&255|(W[25]&255)<<8|(W[26]&255)<<16|(W[27]&255)<<24,dt=W[28]&255|(W[29]&255)<<8|(W[30]&255)<<16|(W[31]&255)<<24,ct=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ke=q,rt=ne,ze=X,Je=pe,Ze=Te,je=We,_e=qe,Ee=wt,Ue=He,Re=ot,Fe=st,De=pt,yt=ht,$t=ut,Et=dt,Ct=ct,Y,St=0;St<20;St+=2)Y=Ke+yt|0,Ze^=Y<<7|Y>>>32-7,Y=Ze+Ke|0,Ue^=Y<<9|Y>>>32-9,Y=Ue+Ze|0,yt^=Y<<13|Y>>>32-13,Y=yt+Ue|0,Ke^=Y<<18|Y>>>32-18,Y=je+rt|0,Re^=Y<<7|Y>>>32-7,Y=Re+je|0,$t^=Y<<9|Y>>>32-9,Y=$t+Re|0,rt^=Y<<13|Y>>>32-13,Y=rt+$t|0,je^=Y<<18|Y>>>32-18,Y=Fe+_e|0,Et^=Y<<7|Y>>>32-7,Y=Et+Fe|0,ze^=Y<<9|Y>>>32-9,Y=ze+Et|0,_e^=Y<<13|Y>>>32-13,Y=_e+ze|0,Fe^=Y<<18|Y>>>32-18,Y=Ct+De|0,Je^=Y<<7|Y>>>32-7,Y=Je+Ct|0,Ee^=Y<<9|Y>>>32-9,Y=Ee+Je|0,De^=Y<<13|Y>>>32-13,Y=De+Ee|0,Ct^=Y<<18|Y>>>32-18,Y=Ke+Je|0,rt^=Y<<7|Y>>>32-7,Y=rt+Ke|0,ze^=Y<<9|Y>>>32-9,Y=ze+rt|0,Je^=Y<<13|Y>>>32-13,Y=Je+ze|0,Ke^=Y<<18|Y>>>32-18,Y=je+Ze|0,_e^=Y<<7|Y>>>32-7,Y=_e+je|0,Ee^=Y<<9|Y>>>32-9,Y=Ee+_e|0,Ze^=Y<<13|Y>>>32-13,Y=Ze+Ee|0,je^=Y<<18|Y>>>32-18,Y=Fe+Re|0,De^=Y<<7|Y>>>32-7,Y=De+Fe|0,Ue^=Y<<9|Y>>>32-9,Y=Ue+De|0,Re^=Y<<13|Y>>>32-13,Y=Re+Ue|0,Fe^=Y<<18|Y>>>32-18,Y=Ct+Et|0,yt^=Y<<7|Y>>>32-7,Y=yt+Ct|0,$t^=Y<<9|Y>>>32-9,Y=$t+yt|0,Et^=Y<<13|Y>>>32-13,Y=Et+$t|0,Ct^=Y<<18|Y>>>32-18;Ke=Ke+q|0,rt=rt+ne|0,ze=ze+X|0,Je=Je+pe|0,Ze=Ze+Te|0,je=je+We|0,_e=_e+qe|0,Ee=Ee+wt|0,Ue=Ue+He|0,Re=Re+ot|0,Fe=Fe+st|0,De=De+pt|0,yt=yt+ht|0,$t=$t+ut|0,Et=Et+dt|0,Ct=Ct+ct|0,F[0]=Ke>>>0&255,F[1]=Ke>>>8&255,F[2]=Ke>>>16&255,F[3]=Ke>>>24&255,F[4]=rt>>>0&255,F[5]=rt>>>8&255,F[6]=rt>>>16&255,F[7]=rt>>>24&255,F[8]=ze>>>0&255,F[9]=ze>>>8&255,F[10]=ze>>>16&255,F[11]=ze>>>24&255,F[12]=Je>>>0&255,F[13]=Je>>>8&255,F[14]=Je>>>16&255,F[15]=Je>>>24&255,F[16]=Ze>>>0&255,F[17]=Ze>>>8&255,F[18]=Ze>>>16&255,F[19]=Ze>>>24&255,F[20]=je>>>0&255,F[21]=je>>>8&255,F[22]=je>>>16&255,F[23]=je>>>24&255,F[24]=_e>>>0&255,F[25]=_e>>>8&255,F[26]=_e>>>16&255,F[27]=_e>>>24&255,F[28]=Ee>>>0&255,F[29]=Ee>>>8&255,F[30]=Ee>>>16&255,F[31]=Ee>>>24&255,F[32]=Ue>>>0&255,F[33]=Ue>>>8&255,F[34]=Ue>>>16&255,F[35]=Ue>>>24&255,F[36]=Re>>>0&255,F[37]=Re>>>8&255,F[38]=Re>>>16&255,F[39]=Re>>>24&255,F[40]=Fe>>>0&255,F[41]=Fe>>>8&255,F[42]=Fe>>>16&255,F[43]=Fe>>>24&255,F[44]=De>>>0&255,F[45]=De>>>8&255,F[46]=De>>>16&255,F[47]=De>>>24&255,F[48]=yt>>>0&255,F[49]=yt>>>8&255,F[50]=yt>>>16&255,F[51]=yt>>>24&255,F[52]=$t>>>0&255,F[53]=$t>>>8&255,F[54]=$t>>>16&255,F[55]=$t>>>24&255,F[56]=Et>>>0&255,F[57]=Et>>>8&255,F[58]=Et>>>16&255,F[59]=Et>>>24&255,F[60]=Ct>>>0&255,F[61]=Ct>>>8&255,F[62]=Ct>>>16&255,F[63]=Ct>>>24&255}function ye(F,D,W,A){for(var q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,ne=W[0]&255|(W[1]&255)<<8|(W[2]&255)<<16|(W[3]&255)<<24,X=W[4]&255|(W[5]&255)<<8|(W[6]&255)<<16|(W[7]&255)<<24,pe=W[8]&255|(W[9]&255)<<8|(W[10]&255)<<16|(W[11]&255)<<24,Te=W[12]&255|(W[13]&255)<<8|(W[14]&255)<<16|(W[15]&255)<<24,We=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,qe=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,wt=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,He=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,ot=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,st=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,pt=W[16]&255|(W[17]&255)<<8|(W[18]&255)<<16|(W[19]&255)<<24,ht=W[20]&255|(W[21]&255)<<8|(W[22]&255)<<16|(W[23]&255)<<24,ut=W[24]&255|(W[25]&255)<<8|(W[26]&255)<<16|(W[27]&255)<<24,dt=W[28]&255|(W[29]&255)<<8|(W[30]&255)<<16|(W[31]&255)<<24,ct=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ke=q,rt=ne,ze=X,Je=pe,Ze=Te,je=We,_e=qe,Ee=wt,Ue=He,Re=ot,Fe=st,De=pt,yt=ht,$t=ut,Et=dt,Ct=ct,Y,St=0;St<20;St+=2)Y=Ke+yt|0,Ze^=Y<<7|Y>>>32-7,Y=Ze+Ke|0,Ue^=Y<<9|Y>>>32-9,Y=Ue+Ze|0,yt^=Y<<13|Y>>>32-13,Y=yt+Ue|0,Ke^=Y<<18|Y>>>32-18,Y=je+rt|0,Re^=Y<<7|Y>>>32-7,Y=Re+je|0,$t^=Y<<9|Y>>>32-9,Y=$t+Re|0,rt^=Y<<13|Y>>>32-13,Y=rt+$t|0,je^=Y<<18|Y>>>32-18,Y=Fe+_e|0,Et^=Y<<7|Y>>>32-7,Y=Et+Fe|0,ze^=Y<<9|Y>>>32-9,Y=ze+Et|0,_e^=Y<<13|Y>>>32-13,Y=_e+ze|0,Fe^=Y<<18|Y>>>32-18,Y=Ct+De|0,Je^=Y<<7|Y>>>32-7,Y=Je+Ct|0,Ee^=Y<<9|Y>>>32-9,Y=Ee+Je|0,De^=Y<<13|Y>>>32-13,Y=De+Ee|0,Ct^=Y<<18|Y>>>32-18,Y=Ke+Je|0,rt^=Y<<7|Y>>>32-7,Y=rt+Ke|0,ze^=Y<<9|Y>>>32-9,Y=ze+rt|0,Je^=Y<<13|Y>>>32-13,Y=Je+ze|0,Ke^=Y<<18|Y>>>32-18,Y=je+Ze|0,_e^=Y<<7|Y>>>32-7,Y=_e+je|0,Ee^=Y<<9|Y>>>32-9,Y=Ee+_e|0,Ze^=Y<<13|Y>>>32-13,Y=Ze+Ee|0,je^=Y<<18|Y>>>32-18,Y=Fe+Re|0,De^=Y<<7|Y>>>32-7,Y=De+Fe|0,Ue^=Y<<9|Y>>>32-9,Y=Ue+De|0,Re^=Y<<13|Y>>>32-13,Y=Re+Ue|0,Fe^=Y<<18|Y>>>32-18,Y=Ct+Et|0,yt^=Y<<7|Y>>>32-7,Y=yt+Ct|0,$t^=Y<<9|Y>>>32-9,Y=$t+yt|0,Et^=Y<<13|Y>>>32-13,Y=Et+$t|0,Ct^=Y<<18|Y>>>32-18;F[0]=Ke>>>0&255,F[1]=Ke>>>8&255,F[2]=Ke>>>16&255,F[3]=Ke>>>24&255,F[4]=je>>>0&255,F[5]=je>>>8&255,F[6]=je>>>16&255,F[7]=je>>>24&255,F[8]=Fe>>>0&255,F[9]=Fe>>>8&255,F[10]=Fe>>>16&255,F[11]=Fe>>>24&255,F[12]=Ct>>>0&255,F[13]=Ct>>>8&255,F[14]=Ct>>>16&255,F[15]=Ct>>>24&255,F[16]=_e>>>0&255,F[17]=_e>>>8&255,F[18]=_e>>>16&255,F[19]=_e>>>24&255,F[20]=Ee>>>0&255,F[21]=Ee>>>8&255,F[22]=Ee>>>16&255,F[23]=Ee>>>24&255,F[24]=Ue>>>0&255,F[25]=Ue>>>8&255,F[26]=Ue>>>16&255,F[27]=Ue>>>24&255,F[28]=Re>>>0&255,F[29]=Re>>>8&255,F[30]=Re>>>16&255,F[31]=Re>>>24&255}function G(F,D,W,A){Ie(F,D,W,A)}function J(F,D,W,A){ye(F,D,W,A)}var le=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ae(F,D,W,A,q,ne,X){var pe=new Uint8Array(16),Te=new Uint8Array(64),We,qe;for(qe=0;qe<16;qe++)pe[qe]=0;for(qe=0;qe<8;qe++)pe[qe]=ne[qe];for(;q>=64;){for(G(Te,pe,X,le),qe=0;qe<64;qe++)F[D+qe]=W[A+qe]^Te[qe];for(We=1,qe=8;qe<16;qe++)We=We+(pe[qe]&255)|0,pe[qe]=We&255,We>>>=8;q-=64,D+=64,A+=64}if(q>0)for(G(Te,pe,X,le),qe=0;qe<q;qe++)F[D+qe]=W[A+qe]^Te[qe];return 0}function H(F,D,W,A,q){var ne=new Uint8Array(16),X=new Uint8Array(64),pe,Te;for(Te=0;Te<16;Te++)ne[Te]=0;for(Te=0;Te<8;Te++)ne[Te]=A[Te];for(;W>=64;){for(G(X,ne,q,le),Te=0;Te<64;Te++)F[D+Te]=X[Te];for(pe=1,Te=8;Te<16;Te++)pe=pe+(ne[Te]&255)|0,ne[Te]=pe&255,pe>>>=8;W-=64,D+=64}if(W>0)for(G(X,ne,q,le),Te=0;Te<W;Te++)F[D+Te]=X[Te];return 0}function te(F,D,W,A,q){var ne=new Uint8Array(32);J(ne,A,q,le);for(var X=new Uint8Array(8),pe=0;pe<8;pe++)X[pe]=A[pe+16];return H(F,D,W,X,ne)}function E(F,D,W,A,q,ne,X){var pe=new Uint8Array(32);J(pe,ne,X,le);for(var Te=new Uint8Array(8),We=0;We<8;We++)Te[We]=ne[We+16];return ae(F,D,W,A,q,Te,pe)}var u=function(F){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var D,W,A,q,ne,X,pe,Te;D=F[0]&255|(F[1]&255)<<8,this.r[0]=D&8191,W=F[2]&255|(F[3]&255)<<8,this.r[1]=(D>>>13|W<<3)&8191,A=F[4]&255|(F[5]&255)<<8,this.r[2]=(W>>>10|A<<6)&7939,q=F[6]&255|(F[7]&255)<<8,this.r[3]=(A>>>7|q<<9)&8191,ne=F[8]&255|(F[9]&255)<<8,this.r[4]=(q>>>4|ne<<12)&255,this.r[5]=ne>>>1&8190,X=F[10]&255|(F[11]&255)<<8,this.r[6]=(ne>>>14|X<<2)&8191,pe=F[12]&255|(F[13]&255)<<8,this.r[7]=(X>>>11|pe<<5)&8065,Te=F[14]&255|(F[15]&255)<<8,this.r[8]=(pe>>>8|Te<<8)&8191,this.r[9]=Te>>>5&127,this.pad[0]=F[16]&255|(F[17]&255)<<8,this.pad[1]=F[18]&255|(F[19]&255)<<8,this.pad[2]=F[20]&255|(F[21]&255)<<8,this.pad[3]=F[22]&255|(F[23]&255)<<8,this.pad[4]=F[24]&255|(F[25]&255)<<8,this.pad[5]=F[26]&255|(F[27]&255)<<8,this.pad[6]=F[28]&255|(F[29]&255)<<8,this.pad[7]=F[30]&255|(F[31]&255)<<8};u.prototype.blocks=function(F,D,W){for(var A=this.fin?0:2048,q,ne,X,pe,Te,We,qe,wt,He,ot,st,pt,ht,ut,dt,ct,Ke,rt,ze,Je=this.h[0],Ze=this.h[1],je=this.h[2],_e=this.h[3],Ee=this.h[4],Ue=this.h[5],Re=this.h[6],Fe=this.h[7],De=this.h[8],yt=this.h[9],$t=this.r[0],Et=this.r[1],Ct=this.r[2],Y=this.r[3],St=this.r[4],It=this.r[5],Tt=this.r[6],At=this.r[7],xt=this.r[8],Mt=this.r[9];W>=16;)q=F[D+0]&255|(F[D+1]&255)<<8,Je+=q&8191,ne=F[D+2]&255|(F[D+3]&255)<<8,Ze+=(q>>>13|ne<<3)&8191,X=F[D+4]&255|(F[D+5]&255)<<8,je+=(ne>>>10|X<<6)&8191,pe=F[D+6]&255|(F[D+7]&255)<<8,_e+=(X>>>7|pe<<9)&8191,Te=F[D+8]&255|(F[D+9]&255)<<8,Ee+=(pe>>>4|Te<<12)&8191,Ue+=Te>>>1&8191,We=F[D+10]&255|(F[D+11]&255)<<8,Re+=(Te>>>14|We<<2)&8191,qe=F[D+12]&255|(F[D+13]&255)<<8,Fe+=(We>>>11|qe<<5)&8191,wt=F[D+14]&255|(F[D+15]&255)<<8,De+=(qe>>>8|wt<<8)&8191,yt+=wt>>>5|A,He=0,ot=He,ot+=Je*$t,ot+=Ze*(5*Mt),ot+=je*(5*xt),ot+=_e*(5*At),ot+=Ee*(5*Tt),He=ot>>>13,ot&=8191,ot+=Ue*(5*It),ot+=Re*(5*St),ot+=Fe*(5*Y),ot+=De*(5*Ct),ot+=yt*(5*Et),He+=ot>>>13,ot&=8191,st=He,st+=Je*Et,st+=Ze*$t,st+=je*(5*Mt),st+=_e*(5*xt),st+=Ee*(5*At),He=st>>>13,st&=8191,st+=Ue*(5*Tt),st+=Re*(5*It),st+=Fe*(5*St),st+=De*(5*Y),st+=yt*(5*Ct),He+=st>>>13,st&=8191,pt=He,pt+=Je*Ct,pt+=Ze*Et,pt+=je*$t,pt+=_e*(5*Mt),pt+=Ee*(5*xt),He=pt>>>13,pt&=8191,pt+=Ue*(5*At),pt+=Re*(5*Tt),pt+=Fe*(5*It),pt+=De*(5*St),pt+=yt*(5*Y),He+=pt>>>13,pt&=8191,ht=He,ht+=Je*Y,ht+=Ze*Ct,ht+=je*Et,ht+=_e*$t,ht+=Ee*(5*Mt),He=ht>>>13,ht&=8191,ht+=Ue*(5*xt),ht+=Re*(5*At),ht+=Fe*(5*Tt),ht+=De*(5*It),ht+=yt*(5*St),He+=ht>>>13,ht&=8191,ut=He,ut+=Je*St,ut+=Ze*Y,ut+=je*Ct,ut+=_e*Et,ut+=Ee*$t,He=ut>>>13,ut&=8191,ut+=Ue*(5*Mt),ut+=Re*(5*xt),ut+=Fe*(5*At),ut+=De*(5*Tt),ut+=yt*(5*It),He+=ut>>>13,ut&=8191,dt=He,dt+=Je*It,dt+=Ze*St,dt+=je*Y,dt+=_e*Ct,dt+=Ee*Et,He=dt>>>13,dt&=8191,dt+=Ue*$t,dt+=Re*(5*Mt),dt+=Fe*(5*xt),dt+=De*(5*At),dt+=yt*(5*Tt),He+=dt>>>13,dt&=8191,ct=He,ct+=Je*Tt,ct+=Ze*It,ct+=je*St,ct+=_e*Y,ct+=Ee*Ct,He=ct>>>13,ct&=8191,ct+=Ue*Et,ct+=Re*$t,ct+=Fe*(5*Mt),ct+=De*(5*xt),ct+=yt*(5*At),He+=ct>>>13,ct&=8191,Ke=He,Ke+=Je*At,Ke+=Ze*Tt,Ke+=je*It,Ke+=_e*St,Ke+=Ee*Y,He=Ke>>>13,Ke&=8191,Ke+=Ue*Ct,Ke+=Re*Et,Ke+=Fe*$t,Ke+=De*(5*Mt),Ke+=yt*(5*xt),He+=Ke>>>13,Ke&=8191,rt=He,rt+=Je*xt,rt+=Ze*At,rt+=je*Tt,rt+=_e*It,rt+=Ee*St,He=rt>>>13,rt&=8191,rt+=Ue*Y,rt+=Re*Ct,rt+=Fe*Et,rt+=De*$t,rt+=yt*(5*Mt),He+=rt>>>13,rt&=8191,ze=He,ze+=Je*Mt,ze+=Ze*xt,ze+=je*At,ze+=_e*Tt,ze+=Ee*It,He=ze>>>13,ze&=8191,ze+=Ue*St,ze+=Re*Y,ze+=Fe*Ct,ze+=De*Et,ze+=yt*$t,He+=ze>>>13,ze&=8191,He=(He<<2)+He|0,He=He+ot|0,ot=He&8191,He=He>>>13,st+=He,Je=ot,Ze=st,je=pt,_e=ht,Ee=ut,Ue=dt,Re=ct,Fe=Ke,De=rt,yt=ze,D+=16,W-=16;this.h[0]=Je,this.h[1]=Ze,this.h[2]=je,this.h[3]=_e,this.h[4]=Ee,this.h[5]=Ue,this.h[6]=Re,this.h[7]=Fe,this.h[8]=De,this.h[9]=yt},u.prototype.finish=function(F,D){var W=new Uint16Array(10),A,q,ne,X;if(this.leftover){for(X=this.leftover,this.buffer[X++]=1;X<16;X++)this.buffer[X]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(A=this.h[1]>>>13,this.h[1]&=8191,X=2;X<10;X++)this.h[X]+=A,A=this.h[X]>>>13,this.h[X]&=8191;for(this.h[0]+=A*5,A=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=A,A=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=A,W[0]=this.h[0]+5,A=W[0]>>>13,W[0]&=8191,X=1;X<10;X++)W[X]=this.h[X]+A,A=W[X]>>>13,W[X]&=8191;for(W[9]-=1<<13,q=(A^1)-1,X=0;X<10;X++)W[X]&=q;for(q=~q,X=0;X<10;X++)this.h[X]=this.h[X]&q|W[X];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ne=this.h[0]+this.pad[0],this.h[0]=ne&65535,X=1;X<8;X++)ne=(this.h[X]+this.pad[X]|0)+(ne>>>16)|0,this.h[X]=ne&65535;F[D+0]=this.h[0]>>>0&255,F[D+1]=this.h[0]>>>8&255,F[D+2]=this.h[1]>>>0&255,F[D+3]=this.h[1]>>>8&255,F[D+4]=this.h[2]>>>0&255,F[D+5]=this.h[2]>>>8&255,F[D+6]=this.h[3]>>>0&255,F[D+7]=this.h[3]>>>8&255,F[D+8]=this.h[4]>>>0&255,F[D+9]=this.h[4]>>>8&255,F[D+10]=this.h[5]>>>0&255,F[D+11]=this.h[5]>>>8&255,F[D+12]=this.h[6]>>>0&255,F[D+13]=this.h[6]>>>8&255,F[D+14]=this.h[7]>>>0&255,F[D+15]=this.h[7]>>>8&255},u.prototype.update=function(F,D,W){var A,q;if(this.leftover){for(q=16-this.leftover,q>W&&(q=W),A=0;A<q;A++)this.buffer[this.leftover+A]=F[D+A];if(W-=q,D+=q,this.leftover+=q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(W>=16&&(q=W-W%16,this.blocks(F,D,q),D+=q,W-=q),W){for(A=0;A<W;A++)this.buffer[this.leftover+A]=F[D+A];this.leftover+=W}};function d(F,D,W,A,q,ne){var X=new u(ne);return X.update(W,A,q),X.finish(F,D),0}function c(F,D,W,A,q,ne){var X=new Uint8Array(16);return d(X,0,W,A,q,ne),Q(F,D,X,0)}function g(F,D,W,A,q){var ne;if(W<32)return-1;for(E(F,0,D,0,W,A,q),d(F,16,F,32,W-32,F),ne=0;ne<16;ne++)F[ne]=0;return 0}function m(F,D,W,A,q){var ne,X=new Uint8Array(32);if(W<32||(te(X,0,32,A,q),c(D,16,D,32,W-32,X)!==0))return-1;for(E(F,0,D,0,W,A,q),ne=0;ne<32;ne++)F[ne]=0;return 0}function w(F,D){var W;for(W=0;W<16;W++)F[W]=D[W]|0}function S(F){var D,W,A=1;for(D=0;D<16;D++)W=F[D]+A+65535,A=Math.floor(W/65536),F[D]=W-A*65536;F[0]+=A-1+37*(A-1)}function $(F,D,W){for(var A,q=~(W-1),ne=0;ne<16;ne++)A=q&(F[ne]^D[ne]),F[ne]^=A,D[ne]^=A}function f(F,D){var W,A,q,ne=n(),X=n();for(W=0;W<16;W++)X[W]=D[W];for(S(X),S(X),S(X),A=0;A<2;A++){for(ne[0]=X[0]-65517,W=1;W<15;W++)ne[W]=X[W]-65535-(ne[W-1]>>16&1),ne[W-1]&=65535;ne[15]=X[15]-32767-(ne[14]>>16&1),q=ne[15]>>16&1,ne[14]&=65535,$(X,ne,1-q)}for(W=0;W<16;W++)F[2*W]=X[W]&255,F[2*W+1]=X[W]>>8}function y(F,D){var W=new Uint8Array(32),A=new Uint8Array(32);return f(W,F),f(A,D),$e(W,0,A,0)}function B(F){var D=new Uint8Array(32);return f(D,F),D[0]&1}function O(F,D){var W;for(W=0;W<16;W++)F[W]=D[2*W]+(D[2*W+1]<<8);F[15]&=32767}function oe(F,D,W){for(var A=0;A<16;A++)F[A]=D[A]+W[A]}function he(F,D,W){for(var A=0;A<16;A++)F[A]=D[A]-W[A]}function ve(F,D,W){var A,q,ne=0,X=0,pe=0,Te=0,We=0,qe=0,wt=0,He=0,ot=0,st=0,pt=0,ht=0,ut=0,dt=0,ct=0,Ke=0,rt=0,ze=0,Je=0,Ze=0,je=0,_e=0,Ee=0,Ue=0,Re=0,Fe=0,De=0,yt=0,$t=0,Et=0,Ct=0,Y=W[0],St=W[1],It=W[2],Tt=W[3],At=W[4],xt=W[5],Mt=W[6],Ot=W[7],Ft=W[8],Pt=W[9],kt=W[10],Ut=W[11],Nt=W[12],Lt=W[13],Wt=W[14],jt=W[15];A=D[0],ne+=A*Y,X+=A*St,pe+=A*It,Te+=A*Tt,We+=A*At,qe+=A*xt,wt+=A*Mt,He+=A*Ot,ot+=A*Ft,st+=A*Pt,pt+=A*kt,ht+=A*Ut,ut+=A*Nt,dt+=A*Lt,ct+=A*Wt,Ke+=A*jt,A=D[1],X+=A*Y,pe+=A*St,Te+=A*It,We+=A*Tt,qe+=A*At,wt+=A*xt,He+=A*Mt,ot+=A*Ot,st+=A*Ft,pt+=A*Pt,ht+=A*kt,ut+=A*Ut,dt+=A*Nt,ct+=A*Lt,Ke+=A*Wt,rt+=A*jt,A=D[2],pe+=A*Y,Te+=A*St,We+=A*It,qe+=A*Tt,wt+=A*At,He+=A*xt,ot+=A*Mt,st+=A*Ot,pt+=A*Ft,ht+=A*Pt,ut+=A*kt,dt+=A*Ut,ct+=A*Nt,Ke+=A*Lt,rt+=A*Wt,ze+=A*jt,A=D[3],Te+=A*Y,We+=A*St,qe+=A*It,wt+=A*Tt,He+=A*At,ot+=A*xt,st+=A*Mt,pt+=A*Ot,ht+=A*Ft,ut+=A*Pt,dt+=A*kt,ct+=A*Ut,Ke+=A*Nt,rt+=A*Lt,ze+=A*Wt,Je+=A*jt,A=D[4],We+=A*Y,qe+=A*St,wt+=A*It,He+=A*Tt,ot+=A*At,st+=A*xt,pt+=A*Mt,ht+=A*Ot,ut+=A*Ft,dt+=A*Pt,ct+=A*kt,Ke+=A*Ut,rt+=A*Nt,ze+=A*Lt,Je+=A*Wt,Ze+=A*jt,A=D[5],qe+=A*Y,wt+=A*St,He+=A*It,ot+=A*Tt,st+=A*At,pt+=A*xt,ht+=A*Mt,ut+=A*Ot,dt+=A*Ft,ct+=A*Pt,Ke+=A*kt,rt+=A*Ut,ze+=A*Nt,Je+=A*Lt,Ze+=A*Wt,je+=A*jt,A=D[6],wt+=A*Y,He+=A*St,ot+=A*It,st+=A*Tt,pt+=A*At,ht+=A*xt,ut+=A*Mt,dt+=A*Ot,ct+=A*Ft,Ke+=A*Pt,rt+=A*kt,ze+=A*Ut,Je+=A*Nt,Ze+=A*Lt,je+=A*Wt,_e+=A*jt,A=D[7],He+=A*Y,ot+=A*St,st+=A*It,pt+=A*Tt,ht+=A*At,ut+=A*xt,dt+=A*Mt,ct+=A*Ot,Ke+=A*Ft,rt+=A*Pt,ze+=A*kt,Je+=A*Ut,Ze+=A*Nt,je+=A*Lt,_e+=A*Wt,Ee+=A*jt,A=D[8],ot+=A*Y,st+=A*St,pt+=A*It,ht+=A*Tt,ut+=A*At,dt+=A*xt,ct+=A*Mt,Ke+=A*Ot,rt+=A*Ft,ze+=A*Pt,Je+=A*kt,Ze+=A*Ut,je+=A*Nt,_e+=A*Lt,Ee+=A*Wt,Ue+=A*jt,A=D[9],st+=A*Y,pt+=A*St,ht+=A*It,ut+=A*Tt,dt+=A*At,ct+=A*xt,Ke+=A*Mt,rt+=A*Ot,ze+=A*Ft,Je+=A*Pt,Ze+=A*kt,je+=A*Ut,_e+=A*Nt,Ee+=A*Lt,Ue+=A*Wt,Re+=A*jt,A=D[10],pt+=A*Y,ht+=A*St,ut+=A*It,dt+=A*Tt,ct+=A*At,Ke+=A*xt,rt+=A*Mt,ze+=A*Ot,Je+=A*Ft,Ze+=A*Pt,je+=A*kt,_e+=A*Ut,Ee+=A*Nt,Ue+=A*Lt,Re+=A*Wt,Fe+=A*jt,A=D[11],ht+=A*Y,ut+=A*St,dt+=A*It,ct+=A*Tt,Ke+=A*At,rt+=A*xt,ze+=A*Mt,Je+=A*Ot,Ze+=A*Ft,je+=A*Pt,_e+=A*kt,Ee+=A*Ut,Ue+=A*Nt,Re+=A*Lt,Fe+=A*Wt,De+=A*jt,A=D[12],ut+=A*Y,dt+=A*St,ct+=A*It,Ke+=A*Tt,rt+=A*At,ze+=A*xt,Je+=A*Mt,Ze+=A*Ot,je+=A*Ft,_e+=A*Pt,Ee+=A*kt,Ue+=A*Ut,Re+=A*Nt,Fe+=A*Lt,De+=A*Wt,yt+=A*jt,A=D[13],dt+=A*Y,ct+=A*St,Ke+=A*It,rt+=A*Tt,ze+=A*At,Je+=A*xt,Ze+=A*Mt,je+=A*Ot,_e+=A*Ft,Ee+=A*Pt,Ue+=A*kt,Re+=A*Ut,Fe+=A*Nt,De+=A*Lt,yt+=A*Wt,$t+=A*jt,A=D[14],ct+=A*Y,Ke+=A*St,rt+=A*It,ze+=A*Tt,Je+=A*At,Ze+=A*xt,je+=A*Mt,_e+=A*Ot,Ee+=A*Ft,Ue+=A*Pt,Re+=A*kt,Fe+=A*Ut,De+=A*Nt,yt+=A*Lt,$t+=A*Wt,Et+=A*jt,A=D[15],Ke+=A*Y,rt+=A*St,ze+=A*It,Je+=A*Tt,Ze+=A*At,je+=A*xt,_e+=A*Mt,Ee+=A*Ot,Ue+=A*Ft,Re+=A*Pt,Fe+=A*kt,De+=A*Ut,yt+=A*Nt,$t+=A*Lt,Et+=A*Wt,Ct+=A*jt,ne+=38*rt,X+=38*ze,pe+=38*Je,Te+=38*Ze,We+=38*je,qe+=38*_e,wt+=38*Ee,He+=38*Ue,ot+=38*Re,st+=38*Fe,pt+=38*De,ht+=38*yt,ut+=38*$t,dt+=38*Et,ct+=38*Ct,q=1,A=ne+q+65535,q=Math.floor(A/65536),ne=A-q*65536,A=X+q+65535,q=Math.floor(A/65536),X=A-q*65536,A=pe+q+65535,q=Math.floor(A/65536),pe=A-q*65536,A=Te+q+65535,q=Math.floor(A/65536),Te=A-q*65536,A=We+q+65535,q=Math.floor(A/65536),We=A-q*65536,A=qe+q+65535,q=Math.floor(A/65536),qe=A-q*65536,A=wt+q+65535,q=Math.floor(A/65536),wt=A-q*65536,A=He+q+65535,q=Math.floor(A/65536),He=A-q*65536,A=ot+q+65535,q=Math.floor(A/65536),ot=A-q*65536,A=st+q+65535,q=Math.floor(A/65536),st=A-q*65536,A=pt+q+65535,q=Math.floor(A/65536),pt=A-q*65536,A=ht+q+65535,q=Math.floor(A/65536),ht=A-q*65536,A=ut+q+65535,q=Math.floor(A/65536),ut=A-q*65536,A=dt+q+65535,q=Math.floor(A/65536),dt=A-q*65536,A=ct+q+65535,q=Math.floor(A/65536),ct=A-q*65536,A=Ke+q+65535,q=Math.floor(A/65536),Ke=A-q*65536,ne+=q-1+37*(q-1),q=1,A=ne+q+65535,q=Math.floor(A/65536),ne=A-q*65536,A=X+q+65535,q=Math.floor(A/65536),X=A-q*65536,A=pe+q+65535,q=Math.floor(A/65536),pe=A-q*65536,A=Te+q+65535,q=Math.floor(A/65536),Te=A-q*65536,A=We+q+65535,q=Math.floor(A/65536),We=A-q*65536,A=qe+q+65535,q=Math.floor(A/65536),qe=A-q*65536,A=wt+q+65535,q=Math.floor(A/65536),wt=A-q*65536,A=He+q+65535,q=Math.floor(A/65536),He=A-q*65536,A=ot+q+65535,q=Math.floor(A/65536),ot=A-q*65536,A=st+q+65535,q=Math.floor(A/65536),st=A-q*65536,A=pt+q+65535,q=Math.floor(A/65536),pt=A-q*65536,A=ht+q+65535,q=Math.floor(A/65536),ht=A-q*65536,A=ut+q+65535,q=Math.floor(A/65536),ut=A-q*65536,A=dt+q+65535,q=Math.floor(A/65536),dt=A-q*65536,A=ct+q+65535,q=Math.floor(A/65536),ct=A-q*65536,A=Ke+q+65535,q=Math.floor(A/65536),Ke=A-q*65536,ne+=q-1+37*(q-1),F[0]=ne,F[1]=X,F[2]=pe,F[3]=Te,F[4]=We,F[5]=qe,F[6]=wt,F[7]=He,F[8]=ot,F[9]=st,F[10]=pt,F[11]=ht,F[12]=ut,F[13]=dt,F[14]=ct,F[15]=Ke}function Pe(F,D){ve(F,D,D)}function at(F,D){var W=n(),A;for(A=0;A<16;A++)W[A]=D[A];for(A=253;A>=0;A--)Pe(W,W),A!==2&&A!==4&&ve(W,W,D);for(A=0;A<16;A++)F[A]=W[A]}function Le(F,D){var W=n(),A;for(A=0;A<16;A++)W[A]=D[A];for(A=250;A>=0;A--)Pe(W,W),A!==1&&ve(W,W,D);for(A=0;A<16;A++)F[A]=W[A]}function Ge(F,D,W){var A=new Uint8Array(32),q=new Float64Array(80),ne,X,pe=n(),Te=n(),We=n(),qe=n(),wt=n(),He=n();for(X=0;X<31;X++)A[X]=D[X];for(A[31]=D[31]&127|64,A[0]&=248,O(q,W),X=0;X<16;X++)Te[X]=q[X],qe[X]=pe[X]=We[X]=0;for(pe[0]=qe[0]=1,X=254;X>=0;--X)ne=A[X>>>3]>>>(X&7)&1,$(pe,Te,ne),$(We,qe,ne),oe(wt,pe,We),he(pe,pe,We),oe(We,Te,qe),he(Te,Te,qe),Pe(qe,wt),Pe(He,pe),ve(pe,We,pe),ve(We,Te,wt),oe(wt,pe,We),he(pe,pe,We),Pe(Te,pe),he(We,qe,He),ve(pe,We,v),oe(pe,pe,qe),ve(We,We,pe),ve(pe,qe,He),ve(qe,Te,q),Pe(Te,wt),$(pe,Te,ne),$(We,qe,ne);for(X=0;X<16;X++)q[X+16]=pe[X],q[X+32]=We[X],q[X+48]=Te[X],q[X+64]=qe[X];var ot=q.subarray(32),st=q.subarray(16);return at(ot,ot),ve(st,st,ot),f(F,st),0}function _t(F,D){return Ge(F,D,s)}function Xe(F,D){return o(D,32),_t(F,D)}function K(F,D,W){var A=new Uint8Array(32);return Ge(A,W,D),J(F,a,A,le)}var Z=g,ie=m;function be(F,D,W,A,q,ne){var X=new Uint8Array(32);return K(X,q,ne),Z(F,D,W,A,X)}function Ae(F,D,W,A,q,ne){var X=new Uint8Array(32);return K(X,q,ne),ie(F,D,W,A,X)}var ge=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xe(F,D,W,A){for(var q=new Int32Array(16),ne=new Int32Array(16),X,pe,Te,We,qe,wt,He,ot,st,pt,ht,ut,dt,ct,Ke,rt,ze,Je,Ze,je,_e,Ee,Ue,Re,Fe,De,yt=F[0],$t=F[1],Et=F[2],Ct=F[3],Y=F[4],St=F[5],It=F[6],Tt=F[7],At=D[0],xt=D[1],Mt=D[2],Ot=D[3],Ft=D[4],Pt=D[5],kt=D[6],Ut=D[7],Nt=0;A>=128;){for(Ze=0;Ze<16;Ze++)je=8*Ze+Nt,q[Ze]=W[je+0]<<24|W[je+1]<<16|W[je+2]<<8|W[je+3],ne[Ze]=W[je+4]<<24|W[je+5]<<16|W[je+6]<<8|W[je+7];for(Ze=0;Ze<80;Ze++)if(X=yt,pe=$t,Te=Et,We=Ct,qe=Y,wt=St,He=It,ot=Tt,st=At,pt=xt,ht=Mt,ut=Ot,dt=Ft,ct=Pt,Ke=kt,rt=Ut,_e=Tt,Ee=Ut,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=(Y>>>14|Ft<<32-14)^(Y>>>18|Ft<<32-18)^(Ft>>>41-32|Y<<32-(41-32)),Ee=(Ft>>>14|Y<<32-14)^(Ft>>>18|Y<<32-18)^(Y>>>41-32|Ft<<32-(41-32)),Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,_e=Y&St^~Y&It,Ee=Ft&Pt^~Ft&kt,Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,_e=ge[Ze*2],Ee=ge[Ze*2+1],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,_e=q[Ze%16],Ee=ne[Ze%16],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,ze=Fe&65535|De<<16,Je=Ue&65535|Re<<16,_e=ze,Ee=Je,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=(yt>>>28|At<<32-28)^(At>>>34-32|yt<<32-(34-32))^(At>>>39-32|yt<<32-(39-32)),Ee=(At>>>28|yt<<32-28)^(yt>>>34-32|At<<32-(34-32))^(yt>>>39-32|At<<32-(39-32)),Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,_e=yt&$t^yt&Et^$t&Et,Ee=At&xt^At&Mt^xt&Mt,Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,ot=Fe&65535|De<<16,rt=Ue&65535|Re<<16,_e=We,Ee=ut,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=ze,Ee=Je,Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,We=Fe&65535|De<<16,ut=Ue&65535|Re<<16,$t=X,Et=pe,Ct=Te,Y=We,St=qe,It=wt,Tt=He,yt=ot,xt=st,Mt=pt,Ot=ht,Ft=ut,Pt=dt,kt=ct,Ut=Ke,At=rt,Ze%16===15)for(je=0;je<16;je++)_e=q[je],Ee=ne[je],Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=q[(je+9)%16],Ee=ne[(je+9)%16],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,ze=q[(je+1)%16],Je=ne[(je+1)%16],_e=(ze>>>1|Je<<32-1)^(ze>>>8|Je<<32-8)^ze>>>7,Ee=(Je>>>1|ze<<32-1)^(Je>>>8|ze<<32-8)^(Je>>>7|ze<<32-7),Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,ze=q[(je+14)%16],Je=ne[(je+14)%16],_e=(ze>>>19|Je<<32-19)^(Je>>>61-32|ze<<32-(61-32))^ze>>>6,Ee=(Je>>>19|ze<<32-19)^(ze>>>61-32|Je<<32-(61-32))^(Je>>>6|ze<<32-6),Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,q[je]=Fe&65535|De<<16,ne[je]=Ue&65535|Re<<16;_e=yt,Ee=At,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[0],Ee=D[0],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[0]=yt=Fe&65535|De<<16,D[0]=At=Ue&65535|Re<<16,_e=$t,Ee=xt,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[1],Ee=D[1],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[1]=$t=Fe&65535|De<<16,D[1]=xt=Ue&65535|Re<<16,_e=Et,Ee=Mt,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[2],Ee=D[2],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[2]=Et=Fe&65535|De<<16,D[2]=Mt=Ue&65535|Re<<16,_e=Ct,Ee=Ot,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[3],Ee=D[3],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[3]=Ct=Fe&65535|De<<16,D[3]=Ot=Ue&65535|Re<<16,_e=Y,Ee=Ft,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[4],Ee=D[4],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[4]=Y=Fe&65535|De<<16,D[4]=Ft=Ue&65535|Re<<16,_e=St,Ee=Pt,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[5],Ee=D[5],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[5]=St=Fe&65535|De<<16,D[5]=Pt=Ue&65535|Re<<16,_e=It,Ee=kt,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[6],Ee=D[6],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[6]=It=Fe&65535|De<<16,D[6]=kt=Ue&65535|Re<<16,_e=Tt,Ee=Ut,Ue=Ee&65535,Re=Ee>>>16,Fe=_e&65535,De=_e>>>16,_e=F[7],Ee=D[7],Ue+=Ee&65535,Re+=Ee>>>16,Fe+=_e&65535,De+=_e>>>16,Re+=Ue>>>16,Fe+=Re>>>16,De+=Fe>>>16,F[7]=Tt=Fe&65535|De<<16,D[7]=Ut=Ue&65535|Re<<16,Nt+=128,A-=128}return A}function Me(F,D,W){var A=new Int32Array(8),q=new Int32Array(8),ne=new Uint8Array(256),X,pe=W;for(A[0]=1779033703,A[1]=3144134277,A[2]=1013904242,A[3]=2773480762,A[4]=1359893119,A[5]=2600822924,A[6]=528734635,A[7]=1541459225,q[0]=4089235720,q[1]=2227873595,q[2]=4271175723,q[3]=1595750129,q[4]=2917565137,q[5]=725511199,q[6]=4215389547,q[7]=327033209,xe(A,q,D,W),W%=128,X=0;X<W;X++)ne[X]=D[pe-W+X];for(ne[W]=128,W=256-128*(W<112?1:0),ne[W-9]=0,ee(ne,W-8,pe/536870912|0,pe<<3),xe(A,q,ne,W),X=0;X<8;X++)ee(F,8*X,A[X],q[X]);return 0}function me(F,D){var W=n(),A=n(),q=n(),ne=n(),X=n(),pe=n(),Te=n(),We=n(),qe=n();he(W,F[1],F[0]),he(qe,D[1],D[0]),ve(W,W,qe),oe(A,F[0],F[1]),oe(qe,D[0],D[1]),ve(A,A,qe),ve(q,F[3],D[3]),ve(q,q,M),ve(ne,F[2],D[2]),oe(ne,ne,ne),he(X,A,W),he(pe,ne,q),oe(Te,ne,q),oe(We,A,W),ve(F[0],X,pe),ve(F[1],We,Te),ve(F[2],Te,pe),ve(F[3],X,We)}function we(F,D,W){var A;for(A=0;A<4;A++)$(F[A],D[A],W)}function Oe(F,D){var W=n(),A=n(),q=n();at(q,D[2]),ve(W,D[0],q),ve(A,D[1],q),f(F,A),F[31]^=B(W)<<7}function Se(F,D,W){var A,q;for(w(F[0],l),w(F[1],h),w(F[2],h),w(F[3],l),q=255;q>=0;--q)A=W[q/8|0]>>(q&7)&1,we(F,D,A),me(D,F),me(F,F),we(F,D,A)}function ke(F,D){var W=[n(),n(),n(),n()];w(W[0],P),w(W[1],j),w(W[2],h),ve(W[3],P,j),Se(F,W,D)}function z(F,D,W){var A=new Uint8Array(64),q=[n(),n(),n(),n()],ne;for(W||o(D,32),Me(A,D,32),A[0]&=248,A[31]&=127,A[31]|=64,ke(q,A),Oe(F,q),ne=0;ne<32;ne++)D[ne+32]=F[ne];return 0}var N=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function I(F,D){var W,A,q,ne;for(A=63;A>=32;--A){for(W=0,q=A-32,ne=A-12;q<ne;++q)D[q]+=W-16*D[A]*N[q-(A-32)],W=Math.floor((D[q]+128)/256),D[q]-=W*256;D[q]+=W,D[A]=0}for(W=0,q=0;q<32;q++)D[q]+=W-(D[31]>>4)*N[q],W=D[q]>>8,D[q]&=255;for(q=0;q<32;q++)D[q]-=W*N[q];for(A=0;A<32;A++)D[A+1]+=D[A]>>8,F[A]=D[A]&255}function b(F){var D=new Float64Array(64),W;for(W=0;W<64;W++)D[W]=F[W];for(W=0;W<64;W++)F[W]=0;I(F,D)}function C(F,D,W,A){var q=new Uint8Array(64),ne=new Uint8Array(64),X=new Uint8Array(64),pe,Te,We=new Float64Array(64),qe=[n(),n(),n(),n()];Me(q,A,32),q[0]&=248,q[31]&=127,q[31]|=64;var wt=W+64;for(pe=0;pe<W;pe++)F[64+pe]=D[pe];for(pe=0;pe<32;pe++)F[32+pe]=q[32+pe];for(Me(X,F.subarray(32),W+32),b(X),ke(qe,X),Oe(F,qe),pe=32;pe<64;pe++)F[pe]=A[pe];for(Me(ne,F,W+64),b(ne),pe=0;pe<64;pe++)We[pe]=0;for(pe=0;pe<32;pe++)We[pe]=X[pe];for(pe=0;pe<32;pe++)for(Te=0;Te<32;Te++)We[pe+Te]+=ne[pe]*q[Te];return I(F.subarray(32),We),wt}function T(F,D){var W=n(),A=n(),q=n(),ne=n(),X=n(),pe=n(),Te=n();return w(F[2],h),O(F[1],D),Pe(q,F[1]),ve(ne,q,x),he(q,q,F[2]),oe(ne,F[2],ne),Pe(X,ne),Pe(pe,X),ve(Te,pe,X),ve(W,Te,q),ve(W,W,ne),Le(W,W),ve(W,W,q),ve(W,W,ne),ve(W,W,ne),ve(F[0],W,ne),Pe(A,F[0]),ve(A,A,ne),y(A,q)&&ve(F[0],F[0],V),Pe(A,F[0]),ve(A,A,ne),y(A,q)?-1:(B(F[0])===D[31]>>7&&he(F[0],l,F[0]),ve(F[3],F[0],F[1]),0)}function U(F,D,W,A){var q,ne=new Uint8Array(32),X=new Uint8Array(64),pe=[n(),n(),n(),n()],Te=[n(),n(),n(),n()];if(W<64||T(Te,A))return-1;for(q=0;q<W;q++)F[q]=D[q];for(q=0;q<32;q++)F[q+32]=A[q];if(Me(X,F,W),b(X),Se(pe,Te,X),ke(Te,D.subarray(32)),me(pe,Te),Oe(ne,pe),W-=64,$e(D,0,ne,0)){for(q=0;q<W;q++)F[q]=0;return-1}for(q=0;q<W;q++)F[q]=D[q+64];return W}var k=32,L=24,ue=32,ce=16,fe=32,Be=32,de=32,Ce=32,Qe=32,Ne=L,Ye=ue,mt=ce,Ve=64,nt=32,bt=64,et=32,vt=64;r.lowlevel={crypto_core_hsalsa20:J,crypto_stream_xor:E,crypto_stream:te,crypto_stream_salsa20_xor:ae,crypto_stream_salsa20:H,crypto_onetimeauth:d,crypto_onetimeauth_verify:c,crypto_verify_16:Q,crypto_verify_32:$e,crypto_secretbox:g,crypto_secretbox_open:m,crypto_scalarmult:Ge,crypto_scalarmult_base:_t,crypto_box_beforenm:K,crypto_box_afternm:Z,crypto_box:be,crypto_box_open:Ae,crypto_box_keypair:Xe,crypto_hash:Me,crypto_sign:C,crypto_sign_keypair:z,crypto_sign_open:U,crypto_secretbox_KEYBYTES:k,crypto_secretbox_NONCEBYTES:L,crypto_secretbox_ZEROBYTES:ue,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:fe,crypto_scalarmult_SCALARBYTES:Be,crypto_box_PUBLICKEYBYTES:de,crypto_box_SECRETKEYBYTES:Ce,crypto_box_BEFORENMBYTES:Qe,crypto_box_NONCEBYTES:Ne,crypto_box_ZEROBYTES:Ye,crypto_box_BOXZEROBYTES:mt,crypto_sign_BYTES:Ve,crypto_sign_PUBLICKEYBYTES:nt,crypto_sign_SECRETKEYBYTES:bt,crypto_sign_SEEDBYTES:et,crypto_hash_BYTES:vt,gf:n,D:x,L:N,pack25519:f,unpack25519:O,M:ve,A:oe,S:Pe,Z:he,pow2523:Le,add:me,set25519:w,modL:I,scalarmult:Se,scalarbase:ke};function Bt(F,D){if(F.length!==k)throw new Error("bad key size");if(D.length!==L)throw new Error("bad nonce size")}function tt(F,D){if(F.length!==de)throw new Error("bad public key size");if(D.length!==Ce)throw new Error("bad secret key size")}function it(){for(var F=0;F<arguments.length;F++)if(!(arguments[F]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Rt(F){for(var D=0;D<F.length;D++)F[D]=0}r.randomBytes=function(F){var D=new Uint8Array(F);return o(D,F),D},r.secretbox=function(F,D,W){it(F,D,W),Bt(W,D);for(var A=new Uint8Array(ue+F.length),q=new Uint8Array(A.length),ne=0;ne<F.length;ne++)A[ne+ue]=F[ne];return g(q,A,A.length,D,W),q.subarray(ce)},r.secretbox.open=function(F,D,W){it(F,D,W),Bt(W,D);for(var A=new Uint8Array(ce+F.length),q=new Uint8Array(A.length),ne=0;ne<F.length;ne++)A[ne+ce]=F[ne];return A.length<32||m(q,A,A.length,D,W)!==0?null:q.subarray(ue)},r.secretbox.keyLength=k,r.secretbox.nonceLength=L,r.secretbox.overheadLength=ce,r.scalarMult=function(F,D){if(it(F,D),F.length!==Be)throw new Error("bad n size");if(D.length!==fe)throw new Error("bad p size");var W=new Uint8Array(fe);return Ge(W,F,D),W},r.scalarMult.base=function(F){if(it(F),F.length!==Be)throw new Error("bad n size");var D=new Uint8Array(fe);return _t(D,F),D},r.scalarMult.scalarLength=Be,r.scalarMult.groupElementLength=fe,r.box=function(F,D,W,A){var q=r.box.before(W,A);return r.secretbox(F,D,q)},r.box.before=function(F,D){it(F,D),tt(F,D);var W=new Uint8Array(Qe);return K(W,F,D),W},r.box.after=r.secretbox,r.box.open=function(F,D,W,A){var q=r.box.before(W,A);return r.secretbox.open(F,D,q)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var F=new Uint8Array(de),D=new Uint8Array(Ce);return Xe(F,D),{publicKey:F,secretKey:D}},r.box.keyPair.fromSecretKey=function(F){if(it(F),F.length!==Ce)throw new Error("bad secret key size");var D=new Uint8Array(de);return _t(D,F),{publicKey:D,secretKey:new Uint8Array(F)}},r.box.publicKeyLength=de,r.box.secretKeyLength=Ce,r.box.sharedKeyLength=Qe,r.box.nonceLength=Ne,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(F,D){if(it(F,D),D.length!==bt)throw new Error("bad secret key size");var W=new Uint8Array(Ve+F.length);return C(W,F,F.length,D),W},r.sign.open=function(F,D){if(it(F,D),D.length!==nt)throw new Error("bad public key size");var W=new Uint8Array(F.length),A=U(W,F,F.length,D);if(A<0)return null;for(var q=new Uint8Array(A),ne=0;ne<q.length;ne++)q[ne]=W[ne];return q},r.sign.detached=function(F,D){for(var W=r.sign(F,D),A=new Uint8Array(Ve),q=0;q<A.length;q++)A[q]=W[q];return A},r.sign.detached.verify=function(F,D,W){if(it(F,D,W),D.length!==Ve)throw new Error("bad signature size");if(W.length!==nt)throw new Error("bad public key size");var A=new Uint8Array(Ve+F.length),q=new Uint8Array(Ve+F.length),ne;for(ne=0;ne<Ve;ne++)A[ne]=D[ne];for(ne=0;ne<F.length;ne++)A[ne+Ve]=F[ne];return U(q,A,A.length,W)>=0},r.sign.keyPair=function(){var F=new Uint8Array(nt),D=new Uint8Array(bt);return z(F,D),{publicKey:F,secretKey:D}},r.sign.keyPair.fromSecretKey=function(F){if(it(F),F.length!==bt)throw new Error("bad secret key size");for(var D=new Uint8Array(nt),W=0;W<D.length;W++)D[W]=F[32+W];return{publicKey:D,secretKey:new Uint8Array(F)}},r.sign.keyPair.fromSeed=function(F){if(it(F),F.length!==et)throw new Error("bad seed size");for(var D=new Uint8Array(nt),W=new Uint8Array(bt),A=0;A<32;A++)W[A]=F[A];return z(D,W,!0),{publicKey:D,secretKey:W}},r.sign.publicKeyLength=nt,r.sign.secretKeyLength=bt,r.sign.seedLength=et,r.sign.signatureLength=Ve,r.hash=function(F){it(F);var D=new Uint8Array(vt);return Me(D,F,F.length),D},r.hash.hashLength=vt,r.verify=function(F,D){return it(F,D),F.length===0||D.length===0||F.length!==D.length?!1:se(F,0,D,0,F.length)===0},r.setPRNG=function(F){o=F},function(){var F=typeof self<"u"?self.crypto||self.msCrypto:null;if(F&&F.getRandomValues){var D=65536;r.setPRNG(function(W,A){var q,ne=new Uint8Array(A);for(q=0;q<A;q+=D)F.getRandomValues(ne.subarray(q,q+Math.min(A-q,D)));for(q=0;q<A;q++)W[q]=ne[q];Rt(ne)})}else typeof commonjsRequire<"u"&&(F=require$$3$2,F&&F.randomBytes&&r.setPRNG(function(W,A){var q,ne=F.randomBytes(A);for(q=0;q<A;q++)W[q]=ne[q];Rt(ne)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(naclFast);class SessionCrypto{constructor(r){this.nonceLength=24,this.keyPair=r?this.createKeypairFromString(r):this.createKeypair(),this.sessionId=toHexString(this.keyPair.publicKey)}createKeypair(){return naclFastExports.box.keyPair()}createKeypairFromString(r){return{publicKey:hexToByteArray(r.publicKey),secretKey:hexToByteArray(r.secretKey)}}createNonce(){return naclFastExports.randomBytes(this.nonceLength)}encrypt(r,n){const o=new TextEncoder().encode(r),a=this.createNonce(),s=naclFastExports.box(o,a,n,this.keyPair.secretKey);return concatUint8Arrays(a,s)}decrypt(r,n){const[o,a]=splitToUint8Arrays(r,this.nonceLength),s=naclFastExports.box.open(a,o,n,this.keyPair.secretKey);if(!s)throw new Error(`Decryption error: 
 message: ${r.toString()} 
 sender pubkey: ${n.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(s)}stringifyKeypair(){return{publicKey:toHexString(this.keyPair.publicKey),secretKey:toHexString(this.keyPair.secretKey)}}}class TonConnectError extends Error{constructor(r,n){r&&(r=TonConnectError.prefix+" "+r),super(r,n),Object.setPrototypeOf(this,TonConnectError.prototype)}}TonConnectError.prefix="[TON_CONNECT_SDK_ERROR]";class DappMetadataError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,DappMetadataError.prototype)}}class ManifestContentErrorError extends TonConnectError{constructor(r){super(r||""+ManifestContentErrorError.additionalMessage),Object.setPrototypeOf(this,ManifestContentErrorError.prototype)}}ManifestContentErrorError.additionalMessage="\nPassed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest";class ManifestNotFoundError extends TonConnectError{constructor(r){super(r||""+ManifestNotFoundError.additionalMessage),Object.setPrototypeOf(this,ManifestNotFoundError.prototype)}}ManifestNotFoundError.additionalMessage="\nManifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest";class WalletAlreadyConnectedError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,WalletAlreadyConnectedError.prototype)}}class WalletNotConnectedError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,WalletNotConnectedError.prototype)}}class WalletNotSupportFeatureError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,WalletNotSupportFeatureError.prototype)}}function isWalletConnectionSourceJS(e){return"jsBridgeKey"in e}class UserRejectsError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,UserRejectsError.prototype)}}class BadRequestError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,BadRequestError.prototype)}}class UnknownAppError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,UnknownAppError.prototype)}}class WalletNotInjectedError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,WalletNotInjectedError.prototype)}}class LocalstorageNotFoundError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,LocalstorageNotFoundError.prototype)}}class FetchWalletsError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,FetchWalletsError.prototype)}}class UnknownError extends TonConnectError{constructor(...r){super(...r),Object.setPrototypeOf(this,UnknownError.prototype)}}const connectEventErrorsCodes={[CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR]:UnknownError,[CONNECT_EVENT_ERROR_CODES.USER_REJECTS_ERROR]:UserRejectsError,[CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR]:BadRequestError,[CONNECT_EVENT_ERROR_CODES.UNKNOWN_APP_ERROR]:UnknownAppError,[CONNECT_EVENT_ERROR_CODES.MANIFEST_NOT_FOUND_ERROR]:ManifestNotFoundError,[CONNECT_EVENT_ERROR_CODES.MANIFEST_CONTENT_ERROR]:ManifestContentErrorError};class ConnectErrorsParser{parseError(r){let n=UnknownError;return r.code in connectEventErrorsCodes&&(n=connectEventErrorsCodes[r.code]||UnknownError),new n(r.message)}}const connectErrorsParser=new ConnectErrorsParser;class RpcParser{isError(r){return"error"in r}}const sendTransactionErrors={[SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR]:UnknownError,[SEND_TRANSACTION_ERROR_CODES.USER_REJECTS_ERROR]:UserRejectsError,[SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR]:BadRequestError,[SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR]:UnknownAppError};class SendTransactionParser extends RpcParser{convertToRpcRequest(r){return{method:"sendTransaction",params:[JSON.stringify(r)]}}parseAndThrowError(r){let n=UnknownError;throw r.error.code in sendTransactionErrors&&(n=sendTransactionErrors[r.error.code]||UnknownError),new n(r.error.message)}convertFromRpcResponse(r){return{boc:r.result}}}const sendTransactionParser=new SendTransactionParser;var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};class HttpBridgeGatewayStorage{constructor(r){this.storage=r,this.storeKey="ton-connect-storage_http-bridge-gateway"}storeLastEventId(r){return __awaiter$7(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,r)})}removeLastEventId(){return __awaiter$7(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return __awaiter$7(this,void 0,void 0,function*(){const r=yield this.storage.getItem(this.storeKey);return r||null})}}function removeUrlLastSlash(e){return e.slice(-1)==="/"?e.slice(0,-1):e}function addPathToUrl(e,r){return removeUrlLastSlash(e)+"/"+r}var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};if(isNode())try{eval("global.EventSource = require('eventsource')"),eval("global.fetch = require('node-fetch')")}catch(e){console.error(e)}class BridgeGateway{constructor(r,n,o,a,s){this.bridgeUrl=n,this.sessionId=o,this.listener=a,this.errorsListener=s,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.isClosed=!1,this.bridgeGatewayStorage=new HttpBridgeGatewayStorage(r)}registerSession(){return __awaiter$6(this,void 0,void 0,function*(){const r=new URL(addPathToUrl(this.bridgeUrl,this.ssePath));r.searchParams.append("client_id",this.sessionId);const n=yield this.bridgeGatewayStorage.getLastEventId();return n&&r.searchParams.append("last_event_id",n),this.eventSource=new EventSource(r.toString()),new Promise((o,a)=>{this.eventSource.onerror=a,this.eventSource.onopen=()=>{this.eventSource.onerror=this.errorsHandler.bind(this),this.eventSource.onmessage=this.messagesHandler.bind(this),o()}})})}send(r,n,o){return __awaiter$6(this,void 0,void 0,function*(){const a=new URL(addPathToUrl(this.bridgeUrl,this.postPath));a.searchParams.append("client_id",this.sessionId),a.searchParams.append("to",n),a.searchParams.append("ttl",(o||this.defaultTtl).toString()),yield fetch(a,{method:"post",body:Base64.encode(r)})})}close(){var r;this.isClosed=!0,(r=this.eventSource)===null||r===void 0||r.close()}errorsHandler(r){var n,o;if(!this.isClosed){if(((n=this.eventSource)===null||n===void 0?void 0:n.readyState)===EventSource.CLOSED){this.eventSource.close(),this.registerSession();return}if(((o=this.eventSource)===null||o===void 0?void 0:o.readyState)===EventSource.CONNECTING){console.debug("[TON_CONNET_SDK_ERROR]: Bridge error",JSON.stringify(r));return}this.errorsListener(r)}}messagesHandler(r){return __awaiter$6(this,void 0,void 0,function*(){if(r.data!==this.heartbeatMessage&&(yield this.bridgeGatewayStorage.storeLastEventId(r.lastEventId),!this.isClosed)){let n;try{n=JSON.parse(r.data)}catch(o){throw new TonConnectError(`Bridge message parse failed, message ${o.data}`)}this.listener(n)}})}}var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};class BridgeConnectionStorage{constructor(r){this.storage=r,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(r){return __awaiter$5(this,void 0,void 0,function*(){if(r.type==="injected")return this.storage.setItem(this.storeKey,JSON.stringify(r));const n={sessionKeyPair:r.session.sessionCrypto.stringifyKeypair(),walletPublicKey:r.session.walletPublicKey,walletConnectionSource:r.session.walletConnectionSource},o={type:"http",connectEvent:r.connectEvent,session:n};return this.storage.setItem(this.storeKey,JSON.stringify(o))})}removeConnection(){return __awaiter$5(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return __awaiter$5(this,void 0,void 0,function*(){const r=yield this.storage.getItem(this.storeKey);if(!r)return null;const n=JSON.parse(r);if(n.type==="injected")return n;const o=new SessionCrypto(n.session.sessionKeyPair);return{type:"http",connectEvent:n.connectEvent,session:{sessionCrypto:o,walletConnectionSource:n.session.walletConnectionSource,walletPublicKey:n.session.walletPublicKey}}})}getHttpConnection(){return __awaiter$5(this,void 0,void 0,function*(){const r=yield this.getConnection();if(!r)throw new TonConnectError("Trying to read HTTP connection source while nothing is stored");if(r.type==="injected")throw new TonConnectError("Trying to read HTTP connection source while injected connection is stored");return r})}getInjectedConnection(){return __awaiter$5(this,void 0,void 0,function*(){const r=yield this.getConnection();if(!r)throw new TonConnectError("Trying to read Injected bridge connection source while nothing is stored");if((r==null?void 0:r.type)==="http")throw new TonConnectError("Trying to read Injected bridge connection source while HTTP connection is stored");return r})}storedConnectionType(){return __awaiter$5(this,void 0,void 0,function*(){const r=yield this.storage.getItem(this.storeKey);return r?JSON.parse(r).type:null})}}const PROTOCOL_VERSION=2;var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};class BridgeProvider{constructor(r,n){this.storage=r,this.walletConnectionSource=n,this.type="http",this.pendingRequests=new Map,this.nextRequestId=0,this.session=null,this.bridge=null,this.listeners=[],this.connectionStorage=new BridgeConnectionStorage(r)}static fromStorage(r){return __awaiter$4(this,void 0,void 0,function*(){const o=yield new BridgeConnectionStorage(r).getHttpConnection();return new BridgeProvider(r,o.session.walletConnectionSource)})}connect(r){var n;(n=this.bridge)===null||n===void 0||n.close();const o=new SessionCrypto;return this.session={sessionCrypto:o,walletConnectionSource:this.walletConnectionSource},this.bridge=new BridgeGateway(this.storage,this.walletConnectionSource.bridgeUrl,o.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),this.bridge.registerSession(),this.generateUniversalLink(r)}restoreConnection(){var r;return __awaiter$4(this,void 0,void 0,function*(){(r=this.bridge)===null||r===void 0||r.close();const n=yield this.connectionStorage.getHttpConnection();n&&(this.session=n.session,this.bridge=new BridgeGateway(this.storage,this.walletConnectionSource.bridgeUrl,n.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),yield this.bridge.registerSession(),this.listeners.forEach(o=>o(n.connectEvent)))})}sendRequest(r){return new Promise((n,o)=>{const a=this.nextRequestId;if(this.nextRequestId++,!this.bridge||!this.session||!("walletPublicKey"in this.session))throw new TonConnectError("Trying to send bridge request without session");const s=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{id:a})),hexToByteArray(this.session.walletPublicKey));this.bridge.send(s,this.session.walletPublicKey).catch(o),this.pendingRequests.set(a.toString(),n)})}closeConnection(){var r;(r=this.bridge)===null||r===void 0||r.close(),this.listeners=[],this.session=null,this.bridge=null}disconnect(){var r;return(r=this.bridge)===null||r===void 0||r.close(),this.listeners=[],this.removeBridgeAndSession()}listen(r){return this.listeners.push(r),()=>this.listeners=this.listeners.filter(n=>n!==r)}gatewayListener(r){return __awaiter$4(this,void 0,void 0,function*(){const n=JSON.parse(this.session.sessionCrypto.decrypt(Base64.decode(r.message).toUint8Array(),hexToByteArray(r.from)));if(!("event"in n)){const o=n.id.toString(),a=this.pendingRequests.get(o);if(!a)throw new TonConnectError(`Response id ${o} doesn't match any request's id`);a(n),this.pendingRequests.delete(o);return}n.event==="connect"&&(yield this.updateSession(n,r.from)),n.event==="disconnect"&&(yield this.removeBridgeAndSession()),this.listeners.forEach(o=>o(n))})}gatewayErrorsListener(r){return __awaiter$4(this,void 0,void 0,function*(){throw new TonConnectError(`Bridge error ${JSON.stringify(r)}`)})}updateSession(r,n){return __awaiter$4(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:n});const o=r.payload.items.find(s=>s.name==="ton_addr"),a=Object.assign(Object.assign({},r),{payload:Object.assign(Object.assign({},r.payload),{items:[o]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,connectEvent:a})})}removeBridgeAndSession(){return __awaiter$4(this,void 0,void 0,function*(){this.session=null,this.bridge=null,yield this.connectionStorage.removeConnection()})}generateUniversalLink(r){const n=new URL(this.walletConnectionSource.universalLink);return n.searchParams.append("v",PROTOCOL_VERSION.toString()),n.searchParams.append("id",this.session.sessionCrypto.sessionId),n.searchParams.append("r",JSON.stringify(r)),n.toString()}}function getWindow(){if(!(typeof window>"u"))return window}function getWebPageManifest(){var e;const r=(e=getWindow())===null||e===void 0?void 0:e.location.origin;return r?r+"/tonconnect-manifest.json":""}var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};class InjectedProvider{constructor(r,n){this.injectedWalletKey=n,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];const o=InjectedProvider.window;if(!InjectedProvider.isWindowContainsWallet(o,n))throw new WalletNotInjectedError;this.connectionStorage=new BridgeConnectionStorage(r),this.injectedWallet=o[n].tonconnect}static fromStorage(r){return __awaiter$3(this,void 0,void 0,function*(){const o=yield new BridgeConnectionStorage(r).getInjectedConnection();return new InjectedProvider(r,o.jsBridgeKey)})}static isWalletInjected(r){return InjectedProvider.isWindowContainsWallet(this.window,r)}static isInsideWalletBrowser(r){return InjectedProvider.isWindowContainsWallet(this.window,r)?this.window[r].tonconnect.isWalletBrowser:!1}static isWindowContainsWallet(r,n){return!!r&&n in r&&typeof r[n]=="object"&&"tonconnect"in r[n]}connect(r){this._connect(PROTOCOL_VERSION,r)}restoreConnection(){return __awaiter$3(this,void 0,void 0,function*(){try{const r=yield this.injectedWallet.restoreConnection();r.event==="connect"?(this.makeSubscriptions(),this.listeners.forEach(n=>n(r))):yield this.connectionStorage.removeConnection()}catch(r){yield this.connectionStorage.removeConnection(),console.error(r)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return this.closeAllListeners(),this.injectedWallet.disconnect(),this.connectionStorage.removeConnection()}closeAllListeners(){var r;this.listenSubscriptions=!1,this.listeners=[],(r=this.unsubscribeCallback)===null||r===void 0||r.call(this)}listen(r){return this.listeners.push(r),()=>this.listeners=this.listeners.filter(n=>n!==r)}sendRequest(r){return __awaiter$3(this,void 0,void 0,function*(){return this.injectedWallet.send(Object.assign(Object.assign({},r),{id:"0"}))})}_connect(r,n){return __awaiter$3(this,void 0,void 0,function*(){try{const o=yield this.injectedWallet.connect(r,n);o.event==="connect"&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(a=>a(o))}catch(o){console.debug(o);const a={event:"connect_error",payload:{code:0,message:o==null?void 0:o.toString()}};this.listeners.forEach(s=>s(a))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(r=>{this.listenSubscriptions&&this.listeners.forEach(n=>n(r)),r.event==="disconnect"&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey})}}InjectedProvider.window=getWindow();var __awaiter$2=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};class DefaultStorage{constructor(){const r=getWindow();if(!(r!=null&&r.localStorage))throw new LocalstorageNotFoundError;this.window=r}getItem(r){return __awaiter$2(this,void 0,void 0,function*(){return Promise.resolve(this.window.localStorage.getItem(r))})}removeItem(r){return __awaiter$2(this,void 0,void 0,function*(){return this.window.localStorage.removeItem(r),Promise.resolve()})}setItem(r,n){return this.window.localStorage.setItem(r,n),Promise.resolve()}}function isWalletInfoInjected(e){return"jsBridgeKey"in e}var __awaiter$1=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})};class WalletsListManager{constructor(r){this.walletsListCache=null,this.walletsListSource="https://raw.githubusercontent.com/ton-connect/wallets-list/main/wallets.json",r&&(this.walletsListSource=r)}getWallets(){return __awaiter$1(this,void 0,void 0,function*(){return this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.catch(()=>this.walletsListCache=null)),this.walletsListCache})}getEmbeddedWallet(){return __awaiter$1(this,void 0,void 0,function*(){const n=(yield this.getWallets()).filter(o=>isWalletInfoInjected(o)&&o.embedded);return n.length!==1?null:n[0]})}fetchWalletsList(){return __awaiter$1(this,void 0,void 0,function*(){try{const n=yield(yield fetch(this.walletsListSource)).json();if(!Array.isArray(n)||!n.every(o=>this.isCorrectWalletConfigDTO(o)))throw new FetchWalletsError("Wrong wallets list format");return this.walletConfigDTOListToWalletConfigList(n)}catch(r){throw new FetchWalletsError(r)}})}walletConfigDTOListToWalletConfigList(r){return r.map(n=>{const o={name:n.name,imageUrl:n.image,aboutUrl:n.about_url,tondns:n.tondns};return n.bridge.forEach(a=>{if(a.type==="sse"&&(o.bridgeUrl=a.url,o.universalLink=n.universal_url,o.deepLink=n.deepLink),a.type==="js"){const s=a.key;o.jsBridgeKey=s,o.injected=InjectedProvider.isWalletInjected(s),o.embedded=InjectedProvider.isInsideWalletBrowser(s)}}),o})}isCorrectWalletConfigDTO(r){if(!r||typeof r!="object")return!1;const n="name"in r,o="image"in r,a="about_url"in r;if(!n||!o||!a||!("bridge"in r)||!Array.isArray(r.bridge)||!r.bridge.length)return!1;const s=r.bridge;if(s.some(v=>!v||typeof v!="object"||!("type"in v)))return!1;const l=s.find(v=>v.type==="sse");if(l&&(!("url"in l)||!l.url||!r.universal_url))return!1;const h=s.find(v=>v.type==="js");return!(h&&(!("key"in h)||!h.key))}}var __awaiter=globalThis&&globalThis.__awaiter||function(e,r,n,o){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function h(M){try{x(o.next(M))}catch(P){l(P)}}function v(M){try{x(o.throw(M))}catch(P){l(P)}}function x(M){M.done?s(M.value):a(M.value).then(h,v)}x((o=o.apply(e,r||[])).next())})},__rest=globalThis&&globalThis.__rest||function(e,r){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};let TonConnect$1=class{constructor(r){if(this.walletsList=new WalletsListManager,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:(r==null?void 0:r.manifestUrl)||getWebPageManifest(),storage:(r==null?void 0:r.storage)||new DefaultStorage},this.walletsList=new WalletsListManager(r==null?void 0:r.walletsListSource),!this.dappSettings.manifestUrl)throw new DappMetadataError("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new BridgeConnectionStorage(this.dappSettings.storage)}static getWallets(){return this.walletsList.getWallets()}get connected(){return this._wallet!==null}get account(){var r;return((r=this._wallet)===null||r===void 0?void 0:r.account)||null}get wallet(){return this._wallet}set wallet(r){this._wallet=r,this.statusChangeSubscriptions.forEach(n=>n(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(r,n){return this.statusChangeSubscriptions.push(r),n&&this.statusChangeErrorSubscriptions.push(n),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(o=>o!==r),n&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(o=>o!==n))}}connect(r,n){var o;if(this.connected)throw new WalletAlreadyConnectedError;return(o=this.provider)===null||o===void 0||o.closeConnection(),this.provider=this.createProvider(r),this.provider.connect(this.createConnectRequest(n))}restoreConnection(){return __awaiter(this,void 0,void 0,function*(){const[r,n]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);switch(r){case"http":this.provider=yield BridgeProvider.fromStorage(this.dappSettings.storage);break;case"injected":this.provider=yield InjectedProvider.fromStorage(this.dappSettings.storage);break;default:if(n)this.provider=yield this.createProvider(n);else return}return this.provider.listen(this.walletEventsListener.bind(this)),this.provider.restoreConnection()})}sendTransaction(r){return __awaiter(this,void 0,void 0,function*(){this.checkConnection(),this.checkFeatureSupport("SendTransaction");const{validUntil:n}=r,o=__rest(r,["validUntil"]),a=yield this.provider.sendRequest(sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},o),{valid_until:n})));return sendTransactionParser.isError(a)?sendTransactionParser.parseAndThrowError(a):sendTransactionParser.convertFromRpcResponse(a)})}disconnect(){return __awaiter(this,void 0,void 0,function*(){if(!this.connected)throw new WalletNotConnectedError;yield this.provider.disconnect(),this.onWalletDisconnected()})}createProvider(r){let n;return isWalletConnectionSourceJS(r)?n=new InjectedProvider(this.dappSettings.storage,r.jsBridgeKey):n=new BridgeProvider(this.dappSettings.storage,r),n.listen(this.walletEventsListener.bind(this)),n}walletEventsListener(r){switch(r.event){case"connect":this.onWalletConnected(r.payload);break;case"connect_error":this.onWalletConnectError(r.payload);break;case"disconnect":this.onWalletDisconnected()}}onWalletConnected(r){const n=r.items.find(s=>s.name==="ton_addr"),o=r.items.find(s=>s.name==="ton_proof");if(!n)throw new TonConnectError("ton_addr connection item was not found");const a={device:r.device,provider:this.provider.type,account:{address:n.address,chain:n.network,walletStateInit:n.walletStateInit}};o&&(a.connectItems={tonProof:o}),this.wallet=a}onWalletConnectError(r){const n=connectErrorsParser.parseError(r);if(this.statusChangeErrorSubscriptions.forEach(o=>o(n)),console.debug(n),n instanceof ManifestNotFoundError||n instanceof ManifestContentErrorError)throw console.error(n),n}onWalletDisconnected(){this.wallet=null}checkConnection(){if(!this.connected)throw new WalletNotConnectedError}checkFeatureSupport(r){var n;if(!(!((n=this.wallet)===null||n===void 0)&&n.device.features.includes(r)))throw new WalletNotSupportFeatureError}createConnectRequest(r){const n=[{name:"ton_addr"}];return r!=null&&r.tonProof&&n.push({name:"ton_proof",payload:r.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:n}}};TonConnect$1.walletsList=new WalletsListManager;TonConnect$1.isWalletInjected=e=>InjectedProvider.isWalletInjected(e);TonConnect$1.isInsideWalletBrowser=e=>InjectedProvider.isInsideWalletBrowser(e);for(let e=0;e<=255;e++){let r=e.toString(16);r.length<2&&(r="0"+r)}var bnExports$2={},bn$2={get exports(){return bnExports$2},set exports(e){bnExports$2=e}};(function(e){(function(r,n){function o(d,c){if(!d)throw new Error(c||"Assertion failed")}function a(d,c){d.super_=c;var g=function(){};g.prototype=c.prototype,d.prototype=new g,d.prototype.constructor=d}function s(d,c,g){if(s.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((c==="le"||c==="be")&&(g=c,c=10),this._init(d||0,c||10,g||"be"))}typeof r=="object"?r.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var l;try{l=buffer.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,g){return c.cmp(g)>0?c:g},s.min=function(c,g){return c.cmp(g)<0?c:g},s.prototype._init=function(c,g,m){if(typeof c=="number")return this._initNumber(c,g,m);if(typeof c=="object")return this._initArray(c,g,m);g==="hex"&&(g=16),o(g===(g|0)&&g>=2&&g<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&w++,g===16?this._parseHex(c,w):this._parseBase(c,g,w),c[0]==="-"&&(this.negative=1),this._strip(),m==="le"&&this._initArray(this.toArray(),g,m)},s.prototype._initNumber=function(c,g,m){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(o(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),g,m)},s.prototype._initArray=function(c,g,m){if(o(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,$,f=0;if(m==="be")for(w=c.length-1,S=0;w>=0;w-=3)$=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[S]|=$<<f&67108863,this.words[S+1]=$>>>26-f&67108863,f+=24,f>=26&&(f-=26,S++);else if(m==="le")for(w=0,S=0;w<c.length;w+=3)$=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[S]|=$<<f&67108863,this.words[S+1]=$>>>26-f&67108863,f+=24,f>=26&&(f-=26,S++);return this._strip()};function h(d,c,g){for(var m=0,w=Math.min(d.length,g),S=0,$=c;$<w;$++){var f=d.charCodeAt($)-48;m<<=4;var y;f>=49&&f<=54?y=f-49+10:f>=17&&f<=22?y=f-17+10:y=f,m|=y,S|=y}return o(!(S&240),"Invalid character in "+d),m}s.prototype._parseHex=function(c,g){this.length=Math.ceil((c.length-g)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,S,$=0;for(m=c.length-6,w=0;m>=g;m-=6)S=h(c,m,m+6),this.words[w]|=S<<$&67108863,this.words[w+1]|=S>>>26-$&4194303,$+=24,$>=26&&($-=26,w++);m+6!==g&&(S=h(c,g,m+6),this.words[w]|=S<<$&67108863,this.words[w+1]|=S>>>26-$&4194303),this._strip()};function v(d,c,g,m){for(var w=0,S=0,$=Math.min(d.length,g),f=c;f<$;f++){var y=d.charCodeAt(f)-48;w*=m,y>=49?S=y-49+10:y>=17?S=y-17+10:S=y,o(y>=0&&S<m,"Invalid character"),w+=S}return w}s.prototype._parseBase=function(c,g,m){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=g)w++;w--,S=S/g|0;for(var $=c.length-m,f=$%w,y=Math.min($,$-f)+m,B=0,O=m;O<y;O+=w)B=v(c,O,O+w,g),this.imuln(S),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(f!==0){var oe=1;for(B=v(c,O,c.length,g),O=0;O<f;O++)oe*=g;this.imuln(oe),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}},s.prototype.copy=function(c){c.words=new Array(this.length);for(var g=0;g<this.length;g++)c.words[g]=this.words[g];c.length=this.length,c.negative=this.negative,c.red=this.red};function x(d,c){d.words=c.words,d.length=c.length,d.negative=c.negative,d.red=c.red}s.prototype._move=function(c){x(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function"?s.prototype[Symbol.for("nodejs.util.inspect.custom")]=M:s.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var P=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,g){c=c||10,g=g|0||1;var m;if(c===16||c==="hex"){m="";for(var w=0,S=0,$=0;$<this.length;$++){var f=this.words[$],y=((f<<w|S)&16777215).toString(16);S=f>>>24-w&16777215,S!==0||$!==this.length-1?m=P[6-y.length]+y+m:m=y+m,w+=2,w>=26&&(w-=26,$--)}for(S!==0&&(m=S.toString(16)+m);m.length%g!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(c===(c|0)&&c>=2&&c<=36){var B=j[c],O=V[c];m="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var he=oe.modrn(O).toString(c);oe=oe.idivn(O),oe.isZero()?m=he+m:m=P[B-he.length]+he+m}for(this.isZero()&&(m="0"+m);m.length%g!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}o(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},l&&(s.prototype.toBuffer=function(c,g){return this.toArrayLike(l,c,g)}),s.prototype.toArray=function(c,g){return this.toArrayLike(Array,c,g)};var ee=function(c,g){return c.allocUnsafe?c.allocUnsafe(g):new c(g)};s.prototype.toArrayLike=function(c,g,m){this._strip();var w=this.byteLength(),S=m||Math.max(1,w);o(w<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0");var $=ee(c,S),f=g==="le"?"LE":"BE";return this["_toArrayLike"+f]($,w),$},s.prototype._toArrayLikeLE=function(c,g){for(var m=0,w=0,S=0,$=0;S<this.length;S++){var f=this.words[S]<<$|w;c[m++]=f&255,m<c.length&&(c[m++]=f>>8&255),m<c.length&&(c[m++]=f>>16&255),$===6?(m<c.length&&(c[m++]=f>>24&255),w=0,$=0):(w=f>>>24,$+=2)}if(m<c.length)for(c[m++]=w;m<c.length;)c[m++]=0},s.prototype._toArrayLikeBE=function(c,g){for(var m=c.length-1,w=0,S=0,$=0;S<this.length;S++){var f=this.words[S]<<$|w;c[m--]=f&255,m>=0&&(c[m--]=f>>8&255),m>=0&&(c[m--]=f>>16&255),$===6?(m>=0&&(c[m--]=f>>24&255),w=0,$=0):(w=f>>>24,$+=2)}if(m>=0)for(c[m--]=w;m>=0;)c[m--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var g=c,m=0;return g>=4096&&(m+=13,g>>>=13),g>=64&&(m+=7,g>>>=7),g>=8&&(m+=4,g>>>=4),g>=2&&(m+=2,g>>>=2),m+g},s.prototype._zeroBits=function(c){if(c===0)return 26;var g=c,m=0;return g&8191||(m+=13,g>>>=13),g&127||(m+=7,g>>>=7),g&15||(m+=4,g>>>=4),g&3||(m+=2,g>>>=2),g&1||m++,m},s.prototype.bitLength=function(){var c=this.words[this.length-1],g=this._countBits(c);return(this.length-1)*26+g};function se(d){for(var c=new Array(d.bitLength()),g=0;g<c.length;g++){var m=g/26|0,w=g%26;c[g]=d.words[m]>>>w&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,g=0;g<this.length;g++){var m=this._zeroBits(this.words[g]);if(c+=m,m!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var g=0;g<c.length;g++)this.words[g]=this.words[g]|c.words[g];return this._strip()},s.prototype.ior=function(c){return o((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var g;this.length>c.length?g=c:g=this;for(var m=0;m<g.length;m++)this.words[m]=this.words[m]&c.words[m];return this.length=g.length,this._strip()},s.prototype.iand=function(c){return o((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var g,m;this.length>c.length?(g=this,m=c):(g=c,m=this);for(var w=0;w<m.length;w++)this.words[w]=g.words[w]^m.words[w];if(this!==g)for(;w<g.length;w++)this.words[w]=g.words[w];return this.length=g.length,this._strip()},s.prototype.ixor=function(c){return o((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){o(typeof c=="number"&&c>=0);var g=Math.ceil(c/26)|0,m=c%26;this._expand(g),m>0&&g--;for(var w=0;w<g;w++)this.words[w]=~this.words[w]&67108863;return m>0&&(this.words[w]=~this.words[w]&67108863>>26-m),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,g){o(typeof c=="number"&&c>=0);var m=c/26|0,w=c%26;return this._expand(m+1),g?this.words[m]=this.words[m]|1<<w:this.words[m]=this.words[m]&~(1<<w),this._strip()},s.prototype.iadd=function(c){var g;if(this.negative!==0&&c.negative===0)return this.negative=0,g=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,g=this.isub(c),c.negative=1,g._normSign();var m,w;this.length>c.length?(m=this,w=c):(m=c,w=this);for(var S=0,$=0;$<w.length;$++)g=(m.words[$]|0)+(w.words[$]|0)+S,this.words[$]=g&67108863,S=g>>>26;for(;S!==0&&$<m.length;$++)g=(m.words[$]|0)+S,this.words[$]=g&67108863,S=g>>>26;if(this.length=m.length,S!==0)this.words[this.length]=S,this.length++;else if(m!==this)for(;$<m.length;$++)this.words[$]=m.words[$];return this},s.prototype.add=function(c){var g;return c.negative!==0&&this.negative===0?(c.negative=0,g=this.sub(c),c.negative^=1,g):c.negative===0&&this.negative!==0?(this.negative=0,g=c.sub(this),this.negative=1,g):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var g=this.iadd(c);return c.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var m=this.cmp(c);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,S;m>0?(w=this,S=c):(w=c,S=this);for(var $=0,f=0;f<S.length;f++)g=(w.words[f]|0)-(S.words[f]|0)+$,$=g>>26,this.words[f]=g&67108863;for(;$!==0&&f<w.length;f++)g=(w.words[f]|0)+$,$=g>>26,this.words[f]=g&67108863;if($===0&&f<w.length&&w!==this)for(;f<w.length;f++)this.words[f]=w.words[f];return this.length=Math.max(this.length,f),w!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function Q(d,c,g){g.negative=c.negative^d.negative;var m=d.length+c.length|0;g.length=m,m=m-1|0;var w=d.words[0]|0,S=c.words[0]|0,$=w*S,f=$&67108863,y=$/67108864|0;g.words[0]=f;for(var B=1;B<m;B++){for(var O=y>>>26,oe=y&67108863,he=Math.min(B,c.length-1),ve=Math.max(0,B-d.length+1);ve<=he;ve++){var Pe=B-ve|0;w=d.words[Pe]|0,S=c.words[ve]|0,$=w*S+oe,O+=$/67108864|0,oe=$&67108863}g.words[B]=oe|0,y=O|0}return y!==0?g.words[B]=y|0:g.length--,g._strip()}var $e=function(c,g,m){var w=c.words,S=g.words,$=m.words,f=0,y,B,O,oe=w[0]|0,he=oe&8191,ve=oe>>>13,Pe=w[1]|0,at=Pe&8191,Le=Pe>>>13,Ge=w[2]|0,_t=Ge&8191,Xe=Ge>>>13,K=w[3]|0,Z=K&8191,ie=K>>>13,be=w[4]|0,Ae=be&8191,ge=be>>>13,xe=w[5]|0,Me=xe&8191,me=xe>>>13,we=w[6]|0,Oe=we&8191,Se=we>>>13,ke=w[7]|0,z=ke&8191,N=ke>>>13,I=w[8]|0,b=I&8191,C=I>>>13,T=w[9]|0,U=T&8191,k=T>>>13,L=S[0]|0,ue=L&8191,ce=L>>>13,fe=S[1]|0,Be=fe&8191,de=fe>>>13,Ce=S[2]|0,Qe=Ce&8191,Ne=Ce>>>13,Ye=S[3]|0,mt=Ye&8191,Ve=Ye>>>13,nt=S[4]|0,bt=nt&8191,et=nt>>>13,vt=S[5]|0,Bt=vt&8191,tt=vt>>>13,it=S[6]|0,Rt=it&8191,F=it>>>13,D=S[7]|0,W=D&8191,A=D>>>13,q=S[8]|0,ne=q&8191,X=q>>>13,pe=S[9]|0,Te=pe&8191,We=pe>>>13;m.negative=c.negative^g.negative,m.length=19,y=Math.imul(he,ue),B=Math.imul(he,ce),B=B+Math.imul(ve,ue)|0,O=Math.imul(ve,ce);var qe=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(qe>>>26)|0,qe&=67108863,y=Math.imul(at,ue),B=Math.imul(at,ce),B=B+Math.imul(Le,ue)|0,O=Math.imul(Le,ce),y=y+Math.imul(he,Be)|0,B=B+Math.imul(he,de)|0,B=B+Math.imul(ve,Be)|0,O=O+Math.imul(ve,de)|0;var wt=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(wt>>>26)|0,wt&=67108863,y=Math.imul(_t,ue),B=Math.imul(_t,ce),B=B+Math.imul(Xe,ue)|0,O=Math.imul(Xe,ce),y=y+Math.imul(at,Be)|0,B=B+Math.imul(at,de)|0,B=B+Math.imul(Le,Be)|0,O=O+Math.imul(Le,de)|0,y=y+Math.imul(he,Qe)|0,B=B+Math.imul(he,Ne)|0,B=B+Math.imul(ve,Qe)|0,O=O+Math.imul(ve,Ne)|0;var He=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(He>>>26)|0,He&=67108863,y=Math.imul(Z,ue),B=Math.imul(Z,ce),B=B+Math.imul(ie,ue)|0,O=Math.imul(ie,ce),y=y+Math.imul(_t,Be)|0,B=B+Math.imul(_t,de)|0,B=B+Math.imul(Xe,Be)|0,O=O+Math.imul(Xe,de)|0,y=y+Math.imul(at,Qe)|0,B=B+Math.imul(at,Ne)|0,B=B+Math.imul(Le,Qe)|0,O=O+Math.imul(Le,Ne)|0,y=y+Math.imul(he,mt)|0,B=B+Math.imul(he,Ve)|0,B=B+Math.imul(ve,mt)|0,O=O+Math.imul(ve,Ve)|0;var ot=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(ot>>>26)|0,ot&=67108863,y=Math.imul(Ae,ue),B=Math.imul(Ae,ce),B=B+Math.imul(ge,ue)|0,O=Math.imul(ge,ce),y=y+Math.imul(Z,Be)|0,B=B+Math.imul(Z,de)|0,B=B+Math.imul(ie,Be)|0,O=O+Math.imul(ie,de)|0,y=y+Math.imul(_t,Qe)|0,B=B+Math.imul(_t,Ne)|0,B=B+Math.imul(Xe,Qe)|0,O=O+Math.imul(Xe,Ne)|0,y=y+Math.imul(at,mt)|0,B=B+Math.imul(at,Ve)|0,B=B+Math.imul(Le,mt)|0,O=O+Math.imul(Le,Ve)|0,y=y+Math.imul(he,bt)|0,B=B+Math.imul(he,et)|0,B=B+Math.imul(ve,bt)|0,O=O+Math.imul(ve,et)|0;var st=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(st>>>26)|0,st&=67108863,y=Math.imul(Me,ue),B=Math.imul(Me,ce),B=B+Math.imul(me,ue)|0,O=Math.imul(me,ce),y=y+Math.imul(Ae,Be)|0,B=B+Math.imul(Ae,de)|0,B=B+Math.imul(ge,Be)|0,O=O+Math.imul(ge,de)|0,y=y+Math.imul(Z,Qe)|0,B=B+Math.imul(Z,Ne)|0,B=B+Math.imul(ie,Qe)|0,O=O+Math.imul(ie,Ne)|0,y=y+Math.imul(_t,mt)|0,B=B+Math.imul(_t,Ve)|0,B=B+Math.imul(Xe,mt)|0,O=O+Math.imul(Xe,Ve)|0,y=y+Math.imul(at,bt)|0,B=B+Math.imul(at,et)|0,B=B+Math.imul(Le,bt)|0,O=O+Math.imul(Le,et)|0,y=y+Math.imul(he,Bt)|0,B=B+Math.imul(he,tt)|0,B=B+Math.imul(ve,Bt)|0,O=O+Math.imul(ve,tt)|0;var pt=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(pt>>>26)|0,pt&=67108863,y=Math.imul(Oe,ue),B=Math.imul(Oe,ce),B=B+Math.imul(Se,ue)|0,O=Math.imul(Se,ce),y=y+Math.imul(Me,Be)|0,B=B+Math.imul(Me,de)|0,B=B+Math.imul(me,Be)|0,O=O+Math.imul(me,de)|0,y=y+Math.imul(Ae,Qe)|0,B=B+Math.imul(Ae,Ne)|0,B=B+Math.imul(ge,Qe)|0,O=O+Math.imul(ge,Ne)|0,y=y+Math.imul(Z,mt)|0,B=B+Math.imul(Z,Ve)|0,B=B+Math.imul(ie,mt)|0,O=O+Math.imul(ie,Ve)|0,y=y+Math.imul(_t,bt)|0,B=B+Math.imul(_t,et)|0,B=B+Math.imul(Xe,bt)|0,O=O+Math.imul(Xe,et)|0,y=y+Math.imul(at,Bt)|0,B=B+Math.imul(at,tt)|0,B=B+Math.imul(Le,Bt)|0,O=O+Math.imul(Le,tt)|0,y=y+Math.imul(he,Rt)|0,B=B+Math.imul(he,F)|0,B=B+Math.imul(ve,Rt)|0,O=O+Math.imul(ve,F)|0;var ht=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(ht>>>26)|0,ht&=67108863,y=Math.imul(z,ue),B=Math.imul(z,ce),B=B+Math.imul(N,ue)|0,O=Math.imul(N,ce),y=y+Math.imul(Oe,Be)|0,B=B+Math.imul(Oe,de)|0,B=B+Math.imul(Se,Be)|0,O=O+Math.imul(Se,de)|0,y=y+Math.imul(Me,Qe)|0,B=B+Math.imul(Me,Ne)|0,B=B+Math.imul(me,Qe)|0,O=O+Math.imul(me,Ne)|0,y=y+Math.imul(Ae,mt)|0,B=B+Math.imul(Ae,Ve)|0,B=B+Math.imul(ge,mt)|0,O=O+Math.imul(ge,Ve)|0,y=y+Math.imul(Z,bt)|0,B=B+Math.imul(Z,et)|0,B=B+Math.imul(ie,bt)|0,O=O+Math.imul(ie,et)|0,y=y+Math.imul(_t,Bt)|0,B=B+Math.imul(_t,tt)|0,B=B+Math.imul(Xe,Bt)|0,O=O+Math.imul(Xe,tt)|0,y=y+Math.imul(at,Rt)|0,B=B+Math.imul(at,F)|0,B=B+Math.imul(Le,Rt)|0,O=O+Math.imul(Le,F)|0,y=y+Math.imul(he,W)|0,B=B+Math.imul(he,A)|0,B=B+Math.imul(ve,W)|0,O=O+Math.imul(ve,A)|0;var ut=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(ut>>>26)|0,ut&=67108863,y=Math.imul(b,ue),B=Math.imul(b,ce),B=B+Math.imul(C,ue)|0,O=Math.imul(C,ce),y=y+Math.imul(z,Be)|0,B=B+Math.imul(z,de)|0,B=B+Math.imul(N,Be)|0,O=O+Math.imul(N,de)|0,y=y+Math.imul(Oe,Qe)|0,B=B+Math.imul(Oe,Ne)|0,B=B+Math.imul(Se,Qe)|0,O=O+Math.imul(Se,Ne)|0,y=y+Math.imul(Me,mt)|0,B=B+Math.imul(Me,Ve)|0,B=B+Math.imul(me,mt)|0,O=O+Math.imul(me,Ve)|0,y=y+Math.imul(Ae,bt)|0,B=B+Math.imul(Ae,et)|0,B=B+Math.imul(ge,bt)|0,O=O+Math.imul(ge,et)|0,y=y+Math.imul(Z,Bt)|0,B=B+Math.imul(Z,tt)|0,B=B+Math.imul(ie,Bt)|0,O=O+Math.imul(ie,tt)|0,y=y+Math.imul(_t,Rt)|0,B=B+Math.imul(_t,F)|0,B=B+Math.imul(Xe,Rt)|0,O=O+Math.imul(Xe,F)|0,y=y+Math.imul(at,W)|0,B=B+Math.imul(at,A)|0,B=B+Math.imul(Le,W)|0,O=O+Math.imul(Le,A)|0,y=y+Math.imul(he,ne)|0,B=B+Math.imul(he,X)|0,B=B+Math.imul(ve,ne)|0,O=O+Math.imul(ve,X)|0;var dt=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(dt>>>26)|0,dt&=67108863,y=Math.imul(U,ue),B=Math.imul(U,ce),B=B+Math.imul(k,ue)|0,O=Math.imul(k,ce),y=y+Math.imul(b,Be)|0,B=B+Math.imul(b,de)|0,B=B+Math.imul(C,Be)|0,O=O+Math.imul(C,de)|0,y=y+Math.imul(z,Qe)|0,B=B+Math.imul(z,Ne)|0,B=B+Math.imul(N,Qe)|0,O=O+Math.imul(N,Ne)|0,y=y+Math.imul(Oe,mt)|0,B=B+Math.imul(Oe,Ve)|0,B=B+Math.imul(Se,mt)|0,O=O+Math.imul(Se,Ve)|0,y=y+Math.imul(Me,bt)|0,B=B+Math.imul(Me,et)|0,B=B+Math.imul(me,bt)|0,O=O+Math.imul(me,et)|0,y=y+Math.imul(Ae,Bt)|0,B=B+Math.imul(Ae,tt)|0,B=B+Math.imul(ge,Bt)|0,O=O+Math.imul(ge,tt)|0,y=y+Math.imul(Z,Rt)|0,B=B+Math.imul(Z,F)|0,B=B+Math.imul(ie,Rt)|0,O=O+Math.imul(ie,F)|0,y=y+Math.imul(_t,W)|0,B=B+Math.imul(_t,A)|0,B=B+Math.imul(Xe,W)|0,O=O+Math.imul(Xe,A)|0,y=y+Math.imul(at,ne)|0,B=B+Math.imul(at,X)|0,B=B+Math.imul(Le,ne)|0,O=O+Math.imul(Le,X)|0,y=y+Math.imul(he,Te)|0,B=B+Math.imul(he,We)|0,B=B+Math.imul(ve,Te)|0,O=O+Math.imul(ve,We)|0;var ct=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(ct>>>26)|0,ct&=67108863,y=Math.imul(U,Be),B=Math.imul(U,de),B=B+Math.imul(k,Be)|0,O=Math.imul(k,de),y=y+Math.imul(b,Qe)|0,B=B+Math.imul(b,Ne)|0,B=B+Math.imul(C,Qe)|0,O=O+Math.imul(C,Ne)|0,y=y+Math.imul(z,mt)|0,B=B+Math.imul(z,Ve)|0,B=B+Math.imul(N,mt)|0,O=O+Math.imul(N,Ve)|0,y=y+Math.imul(Oe,bt)|0,B=B+Math.imul(Oe,et)|0,B=B+Math.imul(Se,bt)|0,O=O+Math.imul(Se,et)|0,y=y+Math.imul(Me,Bt)|0,B=B+Math.imul(Me,tt)|0,B=B+Math.imul(me,Bt)|0,O=O+Math.imul(me,tt)|0,y=y+Math.imul(Ae,Rt)|0,B=B+Math.imul(Ae,F)|0,B=B+Math.imul(ge,Rt)|0,O=O+Math.imul(ge,F)|0,y=y+Math.imul(Z,W)|0,B=B+Math.imul(Z,A)|0,B=B+Math.imul(ie,W)|0,O=O+Math.imul(ie,A)|0,y=y+Math.imul(_t,ne)|0,B=B+Math.imul(_t,X)|0,B=B+Math.imul(Xe,ne)|0,O=O+Math.imul(Xe,X)|0,y=y+Math.imul(at,Te)|0,B=B+Math.imul(at,We)|0,B=B+Math.imul(Le,Te)|0,O=O+Math.imul(Le,We)|0;var Ke=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,y=Math.imul(U,Qe),B=Math.imul(U,Ne),B=B+Math.imul(k,Qe)|0,O=Math.imul(k,Ne),y=y+Math.imul(b,mt)|0,B=B+Math.imul(b,Ve)|0,B=B+Math.imul(C,mt)|0,O=O+Math.imul(C,Ve)|0,y=y+Math.imul(z,bt)|0,B=B+Math.imul(z,et)|0,B=B+Math.imul(N,bt)|0,O=O+Math.imul(N,et)|0,y=y+Math.imul(Oe,Bt)|0,B=B+Math.imul(Oe,tt)|0,B=B+Math.imul(Se,Bt)|0,O=O+Math.imul(Se,tt)|0,y=y+Math.imul(Me,Rt)|0,B=B+Math.imul(Me,F)|0,B=B+Math.imul(me,Rt)|0,O=O+Math.imul(me,F)|0,y=y+Math.imul(Ae,W)|0,B=B+Math.imul(Ae,A)|0,B=B+Math.imul(ge,W)|0,O=O+Math.imul(ge,A)|0,y=y+Math.imul(Z,ne)|0,B=B+Math.imul(Z,X)|0,B=B+Math.imul(ie,ne)|0,O=O+Math.imul(ie,X)|0,y=y+Math.imul(_t,Te)|0,B=B+Math.imul(_t,We)|0,B=B+Math.imul(Xe,Te)|0,O=O+Math.imul(Xe,We)|0;var rt=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(rt>>>26)|0,rt&=67108863,y=Math.imul(U,mt),B=Math.imul(U,Ve),B=B+Math.imul(k,mt)|0,O=Math.imul(k,Ve),y=y+Math.imul(b,bt)|0,B=B+Math.imul(b,et)|0,B=B+Math.imul(C,bt)|0,O=O+Math.imul(C,et)|0,y=y+Math.imul(z,Bt)|0,B=B+Math.imul(z,tt)|0,B=B+Math.imul(N,Bt)|0,O=O+Math.imul(N,tt)|0,y=y+Math.imul(Oe,Rt)|0,B=B+Math.imul(Oe,F)|0,B=B+Math.imul(Se,Rt)|0,O=O+Math.imul(Se,F)|0,y=y+Math.imul(Me,W)|0,B=B+Math.imul(Me,A)|0,B=B+Math.imul(me,W)|0,O=O+Math.imul(me,A)|0,y=y+Math.imul(Ae,ne)|0,B=B+Math.imul(Ae,X)|0,B=B+Math.imul(ge,ne)|0,O=O+Math.imul(ge,X)|0,y=y+Math.imul(Z,Te)|0,B=B+Math.imul(Z,We)|0,B=B+Math.imul(ie,Te)|0,O=O+Math.imul(ie,We)|0;var ze=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(ze>>>26)|0,ze&=67108863,y=Math.imul(U,bt),B=Math.imul(U,et),B=B+Math.imul(k,bt)|0,O=Math.imul(k,et),y=y+Math.imul(b,Bt)|0,B=B+Math.imul(b,tt)|0,B=B+Math.imul(C,Bt)|0,O=O+Math.imul(C,tt)|0,y=y+Math.imul(z,Rt)|0,B=B+Math.imul(z,F)|0,B=B+Math.imul(N,Rt)|0,O=O+Math.imul(N,F)|0,y=y+Math.imul(Oe,W)|0,B=B+Math.imul(Oe,A)|0,B=B+Math.imul(Se,W)|0,O=O+Math.imul(Se,A)|0,y=y+Math.imul(Me,ne)|0,B=B+Math.imul(Me,X)|0,B=B+Math.imul(me,ne)|0,O=O+Math.imul(me,X)|0,y=y+Math.imul(Ae,Te)|0,B=B+Math.imul(Ae,We)|0,B=B+Math.imul(ge,Te)|0,O=O+Math.imul(ge,We)|0;var Je=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(Je>>>26)|0,Je&=67108863,y=Math.imul(U,Bt),B=Math.imul(U,tt),B=B+Math.imul(k,Bt)|0,O=Math.imul(k,tt),y=y+Math.imul(b,Rt)|0,B=B+Math.imul(b,F)|0,B=B+Math.imul(C,Rt)|0,O=O+Math.imul(C,F)|0,y=y+Math.imul(z,W)|0,B=B+Math.imul(z,A)|0,B=B+Math.imul(N,W)|0,O=O+Math.imul(N,A)|0,y=y+Math.imul(Oe,ne)|0,B=B+Math.imul(Oe,X)|0,B=B+Math.imul(Se,ne)|0,O=O+Math.imul(Se,X)|0,y=y+Math.imul(Me,Te)|0,B=B+Math.imul(Me,We)|0,B=B+Math.imul(me,Te)|0,O=O+Math.imul(me,We)|0;var Ze=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,y=Math.imul(U,Rt),B=Math.imul(U,F),B=B+Math.imul(k,Rt)|0,O=Math.imul(k,F),y=y+Math.imul(b,W)|0,B=B+Math.imul(b,A)|0,B=B+Math.imul(C,W)|0,O=O+Math.imul(C,A)|0,y=y+Math.imul(z,ne)|0,B=B+Math.imul(z,X)|0,B=B+Math.imul(N,ne)|0,O=O+Math.imul(N,X)|0,y=y+Math.imul(Oe,Te)|0,B=B+Math.imul(Oe,We)|0,B=B+Math.imul(Se,Te)|0,O=O+Math.imul(Se,We)|0;var je=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(je>>>26)|0,je&=67108863,y=Math.imul(U,W),B=Math.imul(U,A),B=B+Math.imul(k,W)|0,O=Math.imul(k,A),y=y+Math.imul(b,ne)|0,B=B+Math.imul(b,X)|0,B=B+Math.imul(C,ne)|0,O=O+Math.imul(C,X)|0,y=y+Math.imul(z,Te)|0,B=B+Math.imul(z,We)|0,B=B+Math.imul(N,Te)|0,O=O+Math.imul(N,We)|0;var _e=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(_e>>>26)|0,_e&=67108863,y=Math.imul(U,ne),B=Math.imul(U,X),B=B+Math.imul(k,ne)|0,O=Math.imul(k,X),y=y+Math.imul(b,Te)|0,B=B+Math.imul(b,We)|0,B=B+Math.imul(C,Te)|0,O=O+Math.imul(C,We)|0;var Ee=(f+y|0)+((B&8191)<<13)|0;f=(O+(B>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,y=Math.imul(U,Te),B=Math.imul(U,We),B=B+Math.imul(k,Te)|0,O=Math.imul(k,We);var Ue=(f+y|0)+((B&8191)<<13)|0;return f=(O+(B>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,$[0]=qe,$[1]=wt,$[2]=He,$[3]=ot,$[4]=st,$[5]=pt,$[6]=ht,$[7]=ut,$[8]=dt,$[9]=ct,$[10]=Ke,$[11]=rt,$[12]=ze,$[13]=Je,$[14]=Ze,$[15]=je,$[16]=_e,$[17]=Ee,$[18]=Ue,f!==0&&($[19]=f,m.length++),m};Math.imul||($e=Q);function Ie(d,c,g){g.negative=c.negative^d.negative,g.length=d.length+c.length;for(var m=0,w=0,S=0;S<g.length-1;S++){var $=w;w=0;for(var f=m&67108863,y=Math.min(S,c.length-1),B=Math.max(0,S-d.length+1);B<=y;B++){var O=S-B,oe=d.words[O]|0,he=c.words[B]|0,ve=oe*he,Pe=ve&67108863;$=$+(ve/67108864|0)|0,Pe=Pe+f|0,f=Pe&67108863,$=$+(Pe>>>26)|0,w+=$>>>26,$&=67108863}g.words[S]=f,m=$,$=w}return m!==0?g.words[S]=m:g.length--,g._strip()}function ye(d,c,g){return Ie(d,c,g)}s.prototype.mulTo=function(c,g){var m,w=this.length+c.length;return this.length===10&&c.length===10?m=$e(this,c,g):w<63?m=Q(this,c,g):w<1024?m=Ie(this,c,g):m=ye(this,c,g),m},s.prototype.mul=function(c){var g=new s(null);return g.words=new Array(this.length+c.length),this.mulTo(c,g)},s.prototype.mulf=function(c){var g=new s(null);return g.words=new Array(this.length+c.length),ye(this,c,g)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var g=c<0;g&&(c=-c),o(typeof c=="number"),o(c<67108864);for(var m=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*c,$=(S&67108863)+(m&67108863);m>>=26,m+=S/67108864|0,m+=$>>>26,this.words[w]=$&67108863}return m!==0&&(this.words[w]=m,this.length++),g?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var g=se(c);if(g.length===0)return new s(1);for(var m=this,w=0;w<g.length&&g[w]===0;w++,m=m.sqr());if(++w<g.length)for(var S=m.sqr();w<g.length;w++,S=S.sqr())g[w]!==0&&(m=m.mul(S));return m},s.prototype.iushln=function(c){o(typeof c=="number"&&c>=0);var g=c%26,m=(c-g)/26,w=67108863>>>26-g<<26-g,S;if(g!==0){var $=0;for(S=0;S<this.length;S++){var f=this.words[S]&w,y=(this.words[S]|0)-f<<g;this.words[S]=y|$,$=f>>>26-g}$&&(this.words[S]=$,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(c){return o(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,g,m){o(typeof c=="number"&&c>=0);var w;g?w=(g-g%26)/26:w=0;var S=c%26,$=Math.min((c-S)/26,this.length),f=67108863^67108863>>>S<<S,y=m;if(w-=$,w=Math.max(0,w),y){for(var B=0;B<$;B++)y.words[B]=this.words[B];y.length=$}if($!==0)if(this.length>$)for(this.length-=$,B=0;B<this.length;B++)this.words[B]=this.words[B+$];else this.words[0]=0,this.length=1;var O=0;for(B=this.length-1;B>=0&&(O!==0||B>=w);B--){var oe=this.words[B]|0;this.words[B]=O<<26-S|oe>>>S,O=oe&f}return y&&O!==0&&(y.words[y.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,g,m){return o(this.negative===0),this.iushrn(c,g,m)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){o(typeof c=="number"&&c>=0);var g=c%26,m=(c-g)/26,w=1<<g;if(this.length<=m)return!1;var S=this.words[m];return!!(S&w)},s.prototype.imaskn=function(c){o(typeof c=="number"&&c>=0);var g=c%26,m=(c-g)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(g!==0&&m++,this.length=Math.min(m,this.length),g!==0){var w=67108863^67108863>>>g<<g;this.words[this.length-1]&=w}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return o(typeof c=="number"),o(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(c){if(o(typeof c=="number"),o(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,g,m){var w=c.length+m,S;this._expand(w);var $,f=0;for(S=0;S<c.length;S++){$=(this.words[S+m]|0)+f;var y=(c.words[S]|0)*g;$-=y&67108863,f=($>>26)-(y/67108864|0),this.words[S+m]=$&67108863}for(;S<this.length-m;S++)$=(this.words[S+m]|0)+f,f=$>>26,this.words[S+m]=$&67108863;if(f===0)return this._strip();for(o(f===-1),f=0,S=0;S<this.length;S++)$=-(this.words[S]|0)+f,f=$>>26,this.words[S]=$&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,g){var m=this.length-c.length,w=this.clone(),S=c,$=S.words[S.length-1]|0,f=this._countBits($);m=26-f,m!==0&&(S=S.ushln(m),w.iushln(m),$=S.words[S.length-1]|0);var y=w.length-S.length,B;if(g!=="mod"){B=new s(null),B.length=y+1,B.words=new Array(B.length);for(var O=0;O<B.length;O++)B.words[O]=0}var oe=w.clone()._ishlnsubmul(S,1,y);oe.negative===0&&(w=oe,B&&(B.words[y]=1));for(var he=y-1;he>=0;he--){var ve=(w.words[S.length+he]|0)*67108864+(w.words[S.length+he-1]|0);for(ve=Math.min(ve/$|0,67108863),w._ishlnsubmul(S,ve,he);w.negative!==0;)ve--,w.negative=0,w._ishlnsubmul(S,1,he),w.isZero()||(w.negative^=1);B&&(B.words[he]=ve)}return B&&B._strip(),w._strip(),g!=="div"&&m!==0&&w.iushrn(m),{div:B||null,mod:w}},s.prototype.divmod=function(c,g,m){if(o(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var w,S,$;return this.negative!==0&&c.negative===0?($=this.neg().divmod(c,g),g!=="mod"&&(w=$.div.neg()),g!=="div"&&(S=$.mod.neg(),m&&S.negative!==0&&S.iadd(c)),{div:w,mod:S}):this.negative===0&&c.negative!==0?($=this.divmod(c.neg(),g),g!=="mod"&&(w=$.div.neg()),{div:w,mod:$.mod}):this.negative&c.negative?($=this.neg().divmod(c.neg(),g),g!=="div"&&(S=$.mod.neg(),m&&S.negative!==0&&S.isub(c)),{div:$.div,mod:S}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?g==="div"?{div:this.divn(c.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,g)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var g=this.divmod(c);if(g.mod.isZero())return g.div;var m=g.div.negative!==0?g.mod.isub(c):g.mod,w=c.ushrn(1),S=c.andln(1),$=m.cmp(w);return $<0||S===1&&$===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(c){var g=c<0;g&&(c=-c),o(c<=67108863);for(var m=(1<<26)%c,w=0,S=this.length-1;S>=0;S--)w=(m*w+(this.words[S]|0))%c;return g?-w:w},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var g=c<0;g&&(c=-c),o(c<=67108863);for(var m=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+m*67108864;this.words[w]=S/c|0,m=S%c}return this._strip(),g?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){o(c.negative===0),o(!c.isZero());var g=this,m=c.clone();g.negative!==0?g=g.umod(c):g=g.clone();for(var w=new s(1),S=new s(0),$=new s(0),f=new s(1),y=0;g.isEven()&&m.isEven();)g.iushrn(1),m.iushrn(1),++y;for(var B=m.clone(),O=g.clone();!g.isZero();){for(var oe=0,he=1;!(g.words[0]&he)&&oe<26;++oe,he<<=1);if(oe>0)for(g.iushrn(oe);oe-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(B),S.isub(O)),w.iushrn(1),S.iushrn(1);for(var ve=0,Pe=1;!(m.words[0]&Pe)&&ve<26;++ve,Pe<<=1);if(ve>0)for(m.iushrn(ve);ve-- >0;)($.isOdd()||f.isOdd())&&($.iadd(B),f.isub(O)),$.iushrn(1),f.iushrn(1);g.cmp(m)>=0?(g.isub(m),w.isub($),S.isub(f)):(m.isub(g),$.isub(w),f.isub(S))}return{a:$,b:f,gcd:m.iushln(y)}},s.prototype._invmp=function(c){o(c.negative===0),o(!c.isZero());var g=this,m=c.clone();g.negative!==0?g=g.umod(c):g=g.clone();for(var w=new s(1),S=new s(0),$=m.clone();g.cmpn(1)>0&&m.cmpn(1)>0;){for(var f=0,y=1;!(g.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(g.iushrn(f);f-- >0;)w.isOdd()&&w.iadd($),w.iushrn(1);for(var B=0,O=1;!(m.words[0]&O)&&B<26;++B,O<<=1);if(B>0)for(m.iushrn(B);B-- >0;)S.isOdd()&&S.iadd($),S.iushrn(1);g.cmp(m)>=0?(g.isub(m),w.isub(S)):(m.isub(g),S.isub(w))}var oe;return g.cmpn(1)===0?oe=w:oe=S,oe.cmpn(0)<0&&oe.iadd(c),oe},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var g=this.clone(),m=c.clone();g.negative=0,m.negative=0;for(var w=0;g.isEven()&&m.isEven();w++)g.iushrn(1),m.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;m.isEven();)m.iushrn(1);var S=g.cmp(m);if(S<0){var $=g;g=m,m=$}else if(S===0||m.cmpn(1)===0)break;g.isub(m)}while(!0);return m.iushln(w)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){o(typeof c=="number");var g=c%26,m=(c-g)/26,w=1<<g;if(this.length<=m)return this._expand(m+1),this.words[m]|=w,this;for(var S=w,$=m;S!==0&&$<this.length;$++){var f=this.words[$]|0;f+=S,S=f>>>26,f&=67108863,this.words[$]=f}return S!==0&&(this.words[$]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var g=c<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var m;if(this.length>1)m=1;else{g&&(c=-c),o(c<=67108863,"Number is too big");var w=this.words[0]|0;m=w===c?0:w<c?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var g=this.ucmp(c);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var g=0,m=this.length-1;m>=0;m--){var w=this.words[m]|0,S=c.words[m]|0;if(w!==S){w<S?g=-1:w>S&&(g=1);break}}return g},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new E(c)},s.prototype.toRed=function(c){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return o(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return o(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function J(d,c){this.name=d,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},J.prototype.ireduce=function(c){var g=c,m;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),m=g.bitLength();while(m>this.n);var w=m<this.n?-1:g.ucmp(this.p);return w===0?(g.words[0]=0,g.length=1):w>0?g.isub(this.p):g._strip(),g},J.prototype.split=function(c,g){c.iushrn(this.n,0,g)},J.prototype.imulK=function(c){return c.imul(this.k)};function le(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(le,J),le.prototype.split=function(c,g){for(var m=4194303,w=Math.min(c.length,9),S=0;S<w;S++)g.words[S]=c.words[S];if(g.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var $=c.words[9];for(g.words[g.length++]=$&m,S=10;S<c.length;S++){var f=c.words[S]|0;c.words[S-10]=(f&m)<<4|$>>>22,$=f}$>>>=22,c.words[S-10]=$,$===0&&c.length>10?c.length-=10:c.length-=9},le.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var g=0,m=0;m<c.length;m++){var w=c.words[m]|0;g+=w*977,c.words[m]=g&67108863,g=w*64+(g/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ae(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(ae,J);function H(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(H,J);function te(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(te,J),te.prototype.imulK=function(c){for(var g=0,m=0;m<c.length;m++){var w=(c.words[m]|0)*19+g,S=w&67108863;w>>>=26,c.words[m]=S,g=w}return g!==0&&(c.words[c.length++]=g),c},s._prime=function(c){if(G[c])return G[c];var g;if(c==="k256")g=new le;else if(c==="p224")g=new ae;else if(c==="p192")g=new H;else if(c==="p25519")g=new te;else throw new Error("Unknown prime "+c);return G[c]=g,g};function E(d){if(typeof d=="string"){var c=s._prime(d);this.m=c.p,this.prime=c}else o(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}E.prototype._verify1=function(c){o(c.negative===0,"red works only with positives"),o(c.red,"red works only with red numbers")},E.prototype._verify2=function(c,g){o((c.negative|g.negative)===0,"red works only with positives"),o(c.red&&c.red===g.red,"red works only with red numbers")},E.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(x(c,c.umod(this.m)._forceRed(this)),c)},E.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},E.prototype.add=function(c,g){this._verify2(c,g);var m=c.add(g);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},E.prototype.iadd=function(c,g){this._verify2(c,g);var m=c.iadd(g);return m.cmp(this.m)>=0&&m.isub(this.m),m},E.prototype.sub=function(c,g){this._verify2(c,g);var m=c.sub(g);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},E.prototype.isub=function(c,g){this._verify2(c,g);var m=c.isub(g);return m.cmpn(0)<0&&m.iadd(this.m),m},E.prototype.shl=function(c,g){return this._verify1(c),this.imod(c.ushln(g))},E.prototype.imul=function(c,g){return this._verify2(c,g),this.imod(c.imul(g))},E.prototype.mul=function(c,g){return this._verify2(c,g),this.imod(c.mul(g))},E.prototype.isqr=function(c){return this.imul(c,c.clone())},E.prototype.sqr=function(c){return this.mul(c,c)},E.prototype.sqrt=function(c){if(c.isZero())return c.clone();var g=this.m.andln(3);if(o(g%2===1),g===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(c,m)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);o(!w.isZero());var $=new s(1).toRed(this),f=$.redNeg(),y=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new s(2*B*B).toRed(this);this.pow(B,y).cmp(f)!==0;)B.redIAdd(f);for(var O=this.pow(B,w),oe=this.pow(c,w.addn(1).iushrn(1)),he=this.pow(c,w),ve=S;he.cmp($)!==0;){for(var Pe=he,at=0;Pe.cmp($)!==0;at++)Pe=Pe.redSqr();o(at<ve);var Le=this.pow(O,new s(1).iushln(ve-at-1));oe=oe.redMul(Le),O=Le.redSqr(),he=he.redMul(O),ve=at}return oe},E.prototype.invm=function(c){var g=c._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},E.prototype.pow=function(c,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return c.clone();var m=4,w=new Array(1<<m);w[0]=new s(1).toRed(this),w[1]=c;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],c);var $=w[0],f=0,y=0,B=g.bitLength()%26;for(B===0&&(B=26),S=g.length-1;S>=0;S--){for(var O=g.words[S],oe=B-1;oe>=0;oe--){var he=O>>oe&1;if($!==w[0]&&($=this.sqr($)),he===0&&f===0){y=0;continue}f<<=1,f|=he,y++,!(y!==m&&(S!==0||oe!==0))&&($=this.mul($,w[f]),y=0,f=0)}B=26}return $},E.prototype.convertTo=function(c){var g=c.umod(this.m);return g===c?g.clone():g},E.prototype.convertFrom=function(c){var g=c.clone();return g.red=null,g},s.mont=function(c){return new u(c)};function u(d){E.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(u,E),u.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},u.prototype.convertFrom=function(c){var g=this.imod(c.mul(this.rinv));return g.red=null,g},u.prototype.imul=function(c,g){if(c.isZero()||g.isZero())return c.words[0]=0,c.length=1,c;var m=c.imul(g),w=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(w).iushrn(this.shift),$=S;return S.cmp(this.m)>=0?$=S.isub(this.m):S.cmpn(0)<0&&($=S.iadd(this.m)),$._forceRed(this)},u.prototype.mul=function(c,g){if(c.isZero()||g.isZero())return new s(0)._forceRed(this);var m=c.mul(g),w=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(w).iushrn(this.shift),$=S;return S.cmp(this.m)>=0?$=S.isub(this.m):S.cmpn(0)<0&&($=S.iadd(this.m)),$._forceRed(this)},u.prototype.invm=function(c){var g=this.imod(c._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(e,commonjsGlobal)})(bn$2);var bnExports$1={},bn$1={get exports(){return bnExports$1},set exports(e){bnExports$1=e}};(function(e){(function(r,n){function o(E,u){if(!E)throw new Error(u||"Assertion failed")}function a(E,u){E.super_=u;var d=function(){};d.prototype=u.prototype,E.prototype=new d,E.prototype.constructor=E}function s(E,u,d){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(E||0,u||10,d||"be"))}typeof r=="object"?r.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var l;try{l=commonjsRequire("buffer").Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,c){if(typeof u=="number")return this._initNumber(u,d,c);if(typeof u=="object")return this._initArray(u,d,c);d==="hex"&&(d=16),o(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var g=0;u[0]==="-"&&g++,d===16?this._parseHex(u,g):this._parseBase(u,d,g),u[0]==="-"&&(this.negative=1),this.strip(),c==="le"&&this._initArray(this.toArray(),d,c)},s.prototype._initNumber=function(u,d,c){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(o(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),d,c)},s.prototype._initArray=function(u,d,c){if(o(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,w,S=0;if(c==="be")for(g=u.length-1,m=0;g>=0;g-=3)w=u[g]|u[g-1]<<8|u[g-2]<<16,this.words[m]|=w<<S&67108863,this.words[m+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,m++);else if(c==="le")for(g=0,m=0;g<u.length;g+=3)w=u[g]|u[g+1]<<8|u[g+2]<<16,this.words[m]|=w<<S&67108863,this.words[m+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,m++);return this.strip()};function h(E,u,d){for(var c=0,g=Math.min(E.length,d),m=u;m<g;m++){var w=E.charCodeAt(m)-48;c<<=4,w>=49&&w<=54?c|=w-49+10:w>=17&&w<=22?c|=w-17+10:c|=w&15}return c}s.prototype._parseHex=function(u,d){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var g,m,w=0;for(c=u.length-6,g=0;c>=d;c-=6)m=h(u,c,c+6),this.words[g]|=m<<w&67108863,this.words[g+1]|=m>>>26-w&4194303,w+=24,w>=26&&(w-=26,g++);c+6!==d&&(m=h(u,d,c+6),this.words[g]|=m<<w&67108863,this.words[g+1]|=m>>>26-w&4194303),this.strip()};function v(E,u,d,c){for(var g=0,m=Math.min(E.length,d),w=u;w<m;w++){var S=E.charCodeAt(w)-48;g*=c,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}s.prototype._parseBase=function(u,d,c){this.words=[0],this.length=1;for(var g=0,m=1;m<=67108863;m*=d)g++;g--,m=m/d|0;for(var w=u.length-c,S=w%g,$=Math.min(w,w-S)+c,f=0,y=c;y<$;y+=g)f=v(u,y,y+g,d),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(S!==0){var B=1;for(f=v(u,y,u.length,d),y=0;y<S;y++)B*=d;this.imuln(B),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var c;if(u===16||u==="hex"){c="";for(var g=0,m=0,w=0;w<this.length;w++){var S=this.words[w],$=((S<<g|m)&16777215).toString(16);m=S>>>24-g&16777215,m!==0||w!==this.length-1?c=x[6-$.length]+$+c:c=$+c,g+=2,g>=26&&(g-=26,w--)}for(m!==0&&(c=m.toString(16)+c);c.length%d!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(u===(u|0)&&u>=2&&u<=36){var f=M[u],y=P[u];c="";var B=this.clone();for(B.negative=0;!B.isZero();){var O=B.modn(y).toString(u);B=B.idivn(y),B.isZero()?c=O+c:c=x[f-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%d!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}o(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(u,d){return o(typeof l<"u"),this.toArrayLike(l,u,d)},s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)},s.prototype.toArrayLike=function(u,d,c){var g=this.byteLength(),m=c||Math.max(1,g);o(g<=m,"byte array longer than desired length"),o(m>0,"Requested array length <= 0"),this.strip();var w=d==="le",S=new u(m),$,f,y=this.clone();if(w){for(f=0;!y.isZero();f++)$=y.andln(255),y.iushrn(8),S[f]=$;for(;f<m;f++)S[f]=0}else{for(f=0;f<m-g;f++)S[f]=0;for(f=0;!y.isZero();f++)$=y.andln(255),y.iushrn(8),S[m-f-1]=$}return S},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,c=0;return d>=4096&&(c+=13,d>>>=13),d>=64&&(c+=7,d>>>=7),d>=8&&(c+=4,d>>>=4),d>=2&&(c+=2,d>>>=2),c+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,c=0;return d&8191||(c+=13,d>>>=13),d&127||(c+=7,d>>>=7),d&15||(c+=4,d>>>=4),d&3||(c+=2,d>>>=2),d&1||c++,c},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function j(E){for(var u=new Array(E.bitLength()),d=0;d<u.length;d++){var c=d/26|0,g=d%26;u[d]=(E.words[c]&1<<g)>>>g}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var c=this._zeroBits(this.words[d]);if(u+=c,c!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this.strip()},s.prototype.ior=function(u){return o((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var c=0;c<d.length;c++)this.words[c]=this.words[c]&u.words[c];return this.length=d.length,this.strip()},s.prototype.iand=function(u){return o((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,c;this.length>u.length?(d=this,c=u):(d=u,c=this);for(var g=0;g<c.length;g++)this.words[g]=d.words[g]^c.words[g];if(this!==d)for(;g<d.length;g++)this.words[g]=d.words[g];return this.length=d.length,this.strip()},s.prototype.ixor=function(u){return o((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){o(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,c=u%26;this._expand(d),c>0&&d--;for(var g=0;g<d;g++)this.words[g]=~this.words[g]&67108863;return c>0&&(this.words[g]=~this.words[g]&67108863>>26-c),this.strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){o(typeof u=="number"&&u>=0);var c=u/26|0,g=u%26;return this._expand(c+1),d?this.words[c]=this.words[c]|1<<g:this.words[c]=this.words[c]&~(1<<g),this.strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var c,g;this.length>u.length?(c=this,g=u):(c=u,g=this);for(var m=0,w=0;w<g.length;w++)d=(c.words[w]|0)+(g.words[w]|0)+m,this.words[w]=d&67108863,m=d>>>26;for(;m!==0&&w<c.length;w++)d=(c.words[w]|0)+m,this.words[w]=d&67108863,m=d>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var c=this.cmp(u);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,m;c>0?(g=this,m=u):(g=u,m=this);for(var w=0,S=0;S<m.length;S++)d=(g.words[S]|0)-(m.words[S]|0)+w,w=d>>26,this.words[S]=d&67108863;for(;w!==0&&S<g.length;S++)d=(g.words[S]|0)+w,w=d>>26,this.words[S]=d&67108863;if(w===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function V(E,u,d){d.negative=u.negative^E.negative;var c=E.length+u.length|0;d.length=c,c=c-1|0;var g=E.words[0]|0,m=u.words[0]|0,w=g*m,S=w&67108863,$=w/67108864|0;d.words[0]=S;for(var f=1;f<c;f++){for(var y=$>>>26,B=$&67108863,O=Math.min(f,u.length-1),oe=Math.max(0,f-E.length+1);oe<=O;oe++){var he=f-oe|0;g=E.words[he]|0,m=u.words[oe]|0,w=g*m+B,y+=w/67108864|0,B=w&67108863}d.words[f]=B|0,$=y|0}return $!==0?d.words[f]=$|0:d.length--,d.strip()}var ee=function(u,d,c){var g=u.words,m=d.words,w=c.words,S=0,$,f,y,B=g[0]|0,O=B&8191,oe=B>>>13,he=g[1]|0,ve=he&8191,Pe=he>>>13,at=g[2]|0,Le=at&8191,Ge=at>>>13,_t=g[3]|0,Xe=_t&8191,K=_t>>>13,Z=g[4]|0,ie=Z&8191,be=Z>>>13,Ae=g[5]|0,ge=Ae&8191,xe=Ae>>>13,Me=g[6]|0,me=Me&8191,we=Me>>>13,Oe=g[7]|0,Se=Oe&8191,ke=Oe>>>13,z=g[8]|0,N=z&8191,I=z>>>13,b=g[9]|0,C=b&8191,T=b>>>13,U=m[0]|0,k=U&8191,L=U>>>13,ue=m[1]|0,ce=ue&8191,fe=ue>>>13,Be=m[2]|0,de=Be&8191,Ce=Be>>>13,Qe=m[3]|0,Ne=Qe&8191,Ye=Qe>>>13,mt=m[4]|0,Ve=mt&8191,nt=mt>>>13,bt=m[5]|0,et=bt&8191,vt=bt>>>13,Bt=m[6]|0,tt=Bt&8191,it=Bt>>>13,Rt=m[7]|0,F=Rt&8191,D=Rt>>>13,W=m[8]|0,A=W&8191,q=W>>>13,ne=m[9]|0,X=ne&8191,pe=ne>>>13;c.negative=u.negative^d.negative,c.length=19,$=Math.imul(O,k),f=Math.imul(O,L),f=f+Math.imul(oe,k)|0,y=Math.imul(oe,L);var Te=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Te>>>26)|0,Te&=67108863,$=Math.imul(ve,k),f=Math.imul(ve,L),f=f+Math.imul(Pe,k)|0,y=Math.imul(Pe,L),$=$+Math.imul(O,ce)|0,f=f+Math.imul(O,fe)|0,f=f+Math.imul(oe,ce)|0,y=y+Math.imul(oe,fe)|0;var We=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(We>>>26)|0,We&=67108863,$=Math.imul(Le,k),f=Math.imul(Le,L),f=f+Math.imul(Ge,k)|0,y=Math.imul(Ge,L),$=$+Math.imul(ve,ce)|0,f=f+Math.imul(ve,fe)|0,f=f+Math.imul(Pe,ce)|0,y=y+Math.imul(Pe,fe)|0,$=$+Math.imul(O,de)|0,f=f+Math.imul(O,Ce)|0,f=f+Math.imul(oe,de)|0,y=y+Math.imul(oe,Ce)|0;var qe=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(qe>>>26)|0,qe&=67108863,$=Math.imul(Xe,k),f=Math.imul(Xe,L),f=f+Math.imul(K,k)|0,y=Math.imul(K,L),$=$+Math.imul(Le,ce)|0,f=f+Math.imul(Le,fe)|0,f=f+Math.imul(Ge,ce)|0,y=y+Math.imul(Ge,fe)|0,$=$+Math.imul(ve,de)|0,f=f+Math.imul(ve,Ce)|0,f=f+Math.imul(Pe,de)|0,y=y+Math.imul(Pe,Ce)|0,$=$+Math.imul(O,Ne)|0,f=f+Math.imul(O,Ye)|0,f=f+Math.imul(oe,Ne)|0,y=y+Math.imul(oe,Ye)|0;var wt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,$=Math.imul(ie,k),f=Math.imul(ie,L),f=f+Math.imul(be,k)|0,y=Math.imul(be,L),$=$+Math.imul(Xe,ce)|0,f=f+Math.imul(Xe,fe)|0,f=f+Math.imul(K,ce)|0,y=y+Math.imul(K,fe)|0,$=$+Math.imul(Le,de)|0,f=f+Math.imul(Le,Ce)|0,f=f+Math.imul(Ge,de)|0,y=y+Math.imul(Ge,Ce)|0,$=$+Math.imul(ve,Ne)|0,f=f+Math.imul(ve,Ye)|0,f=f+Math.imul(Pe,Ne)|0,y=y+Math.imul(Pe,Ye)|0,$=$+Math.imul(O,Ve)|0,f=f+Math.imul(O,nt)|0,f=f+Math.imul(oe,Ve)|0,y=y+Math.imul(oe,nt)|0;var He=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(He>>>26)|0,He&=67108863,$=Math.imul(ge,k),f=Math.imul(ge,L),f=f+Math.imul(xe,k)|0,y=Math.imul(xe,L),$=$+Math.imul(ie,ce)|0,f=f+Math.imul(ie,fe)|0,f=f+Math.imul(be,ce)|0,y=y+Math.imul(be,fe)|0,$=$+Math.imul(Xe,de)|0,f=f+Math.imul(Xe,Ce)|0,f=f+Math.imul(K,de)|0,y=y+Math.imul(K,Ce)|0,$=$+Math.imul(Le,Ne)|0,f=f+Math.imul(Le,Ye)|0,f=f+Math.imul(Ge,Ne)|0,y=y+Math.imul(Ge,Ye)|0,$=$+Math.imul(ve,Ve)|0,f=f+Math.imul(ve,nt)|0,f=f+Math.imul(Pe,Ve)|0,y=y+Math.imul(Pe,nt)|0,$=$+Math.imul(O,et)|0,f=f+Math.imul(O,vt)|0,f=f+Math.imul(oe,et)|0,y=y+Math.imul(oe,vt)|0;var ot=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,$=Math.imul(me,k),f=Math.imul(me,L),f=f+Math.imul(we,k)|0,y=Math.imul(we,L),$=$+Math.imul(ge,ce)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(xe,ce)|0,y=y+Math.imul(xe,fe)|0,$=$+Math.imul(ie,de)|0,f=f+Math.imul(ie,Ce)|0,f=f+Math.imul(be,de)|0,y=y+Math.imul(be,Ce)|0,$=$+Math.imul(Xe,Ne)|0,f=f+Math.imul(Xe,Ye)|0,f=f+Math.imul(K,Ne)|0,y=y+Math.imul(K,Ye)|0,$=$+Math.imul(Le,Ve)|0,f=f+Math.imul(Le,nt)|0,f=f+Math.imul(Ge,Ve)|0,y=y+Math.imul(Ge,nt)|0,$=$+Math.imul(ve,et)|0,f=f+Math.imul(ve,vt)|0,f=f+Math.imul(Pe,et)|0,y=y+Math.imul(Pe,vt)|0,$=$+Math.imul(O,tt)|0,f=f+Math.imul(O,it)|0,f=f+Math.imul(oe,tt)|0,y=y+Math.imul(oe,it)|0;var st=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(st>>>26)|0,st&=67108863,$=Math.imul(Se,k),f=Math.imul(Se,L),f=f+Math.imul(ke,k)|0,y=Math.imul(ke,L),$=$+Math.imul(me,ce)|0,f=f+Math.imul(me,fe)|0,f=f+Math.imul(we,ce)|0,y=y+Math.imul(we,fe)|0,$=$+Math.imul(ge,de)|0,f=f+Math.imul(ge,Ce)|0,f=f+Math.imul(xe,de)|0,y=y+Math.imul(xe,Ce)|0,$=$+Math.imul(ie,Ne)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(be,Ne)|0,y=y+Math.imul(be,Ye)|0,$=$+Math.imul(Xe,Ve)|0,f=f+Math.imul(Xe,nt)|0,f=f+Math.imul(K,Ve)|0,y=y+Math.imul(K,nt)|0,$=$+Math.imul(Le,et)|0,f=f+Math.imul(Le,vt)|0,f=f+Math.imul(Ge,et)|0,y=y+Math.imul(Ge,vt)|0,$=$+Math.imul(ve,tt)|0,f=f+Math.imul(ve,it)|0,f=f+Math.imul(Pe,tt)|0,y=y+Math.imul(Pe,it)|0,$=$+Math.imul(O,F)|0,f=f+Math.imul(O,D)|0,f=f+Math.imul(oe,F)|0,y=y+Math.imul(oe,D)|0;var pt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,$=Math.imul(N,k),f=Math.imul(N,L),f=f+Math.imul(I,k)|0,y=Math.imul(I,L),$=$+Math.imul(Se,ce)|0,f=f+Math.imul(Se,fe)|0,f=f+Math.imul(ke,ce)|0,y=y+Math.imul(ke,fe)|0,$=$+Math.imul(me,de)|0,f=f+Math.imul(me,Ce)|0,f=f+Math.imul(we,de)|0,y=y+Math.imul(we,Ce)|0,$=$+Math.imul(ge,Ne)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(xe,Ne)|0,y=y+Math.imul(xe,Ye)|0,$=$+Math.imul(ie,Ve)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(be,Ve)|0,y=y+Math.imul(be,nt)|0,$=$+Math.imul(Xe,et)|0,f=f+Math.imul(Xe,vt)|0,f=f+Math.imul(K,et)|0,y=y+Math.imul(K,vt)|0,$=$+Math.imul(Le,tt)|0,f=f+Math.imul(Le,it)|0,f=f+Math.imul(Ge,tt)|0,y=y+Math.imul(Ge,it)|0,$=$+Math.imul(ve,F)|0,f=f+Math.imul(ve,D)|0,f=f+Math.imul(Pe,F)|0,y=y+Math.imul(Pe,D)|0,$=$+Math.imul(O,A)|0,f=f+Math.imul(O,q)|0,f=f+Math.imul(oe,A)|0,y=y+Math.imul(oe,q)|0;var ht=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,$=Math.imul(C,k),f=Math.imul(C,L),f=f+Math.imul(T,k)|0,y=Math.imul(T,L),$=$+Math.imul(N,ce)|0,f=f+Math.imul(N,fe)|0,f=f+Math.imul(I,ce)|0,y=y+Math.imul(I,fe)|0,$=$+Math.imul(Se,de)|0,f=f+Math.imul(Se,Ce)|0,f=f+Math.imul(ke,de)|0,y=y+Math.imul(ke,Ce)|0,$=$+Math.imul(me,Ne)|0,f=f+Math.imul(me,Ye)|0,f=f+Math.imul(we,Ne)|0,y=y+Math.imul(we,Ye)|0,$=$+Math.imul(ge,Ve)|0,f=f+Math.imul(ge,nt)|0,f=f+Math.imul(xe,Ve)|0,y=y+Math.imul(xe,nt)|0,$=$+Math.imul(ie,et)|0,f=f+Math.imul(ie,vt)|0,f=f+Math.imul(be,et)|0,y=y+Math.imul(be,vt)|0,$=$+Math.imul(Xe,tt)|0,f=f+Math.imul(Xe,it)|0,f=f+Math.imul(K,tt)|0,y=y+Math.imul(K,it)|0,$=$+Math.imul(Le,F)|0,f=f+Math.imul(Le,D)|0,f=f+Math.imul(Ge,F)|0,y=y+Math.imul(Ge,D)|0,$=$+Math.imul(ve,A)|0,f=f+Math.imul(ve,q)|0,f=f+Math.imul(Pe,A)|0,y=y+Math.imul(Pe,q)|0,$=$+Math.imul(O,X)|0,f=f+Math.imul(O,pe)|0,f=f+Math.imul(oe,X)|0,y=y+Math.imul(oe,pe)|0;var ut=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,$=Math.imul(C,ce),f=Math.imul(C,fe),f=f+Math.imul(T,ce)|0,y=Math.imul(T,fe),$=$+Math.imul(N,de)|0,f=f+Math.imul(N,Ce)|0,f=f+Math.imul(I,de)|0,y=y+Math.imul(I,Ce)|0,$=$+Math.imul(Se,Ne)|0,f=f+Math.imul(Se,Ye)|0,f=f+Math.imul(ke,Ne)|0,y=y+Math.imul(ke,Ye)|0,$=$+Math.imul(me,Ve)|0,f=f+Math.imul(me,nt)|0,f=f+Math.imul(we,Ve)|0,y=y+Math.imul(we,nt)|0,$=$+Math.imul(ge,et)|0,f=f+Math.imul(ge,vt)|0,f=f+Math.imul(xe,et)|0,y=y+Math.imul(xe,vt)|0,$=$+Math.imul(ie,tt)|0,f=f+Math.imul(ie,it)|0,f=f+Math.imul(be,tt)|0,y=y+Math.imul(be,it)|0,$=$+Math.imul(Xe,F)|0,f=f+Math.imul(Xe,D)|0,f=f+Math.imul(K,F)|0,y=y+Math.imul(K,D)|0,$=$+Math.imul(Le,A)|0,f=f+Math.imul(Le,q)|0,f=f+Math.imul(Ge,A)|0,y=y+Math.imul(Ge,q)|0,$=$+Math.imul(ve,X)|0,f=f+Math.imul(ve,pe)|0,f=f+Math.imul(Pe,X)|0,y=y+Math.imul(Pe,pe)|0;var dt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,$=Math.imul(C,de),f=Math.imul(C,Ce),f=f+Math.imul(T,de)|0,y=Math.imul(T,Ce),$=$+Math.imul(N,Ne)|0,f=f+Math.imul(N,Ye)|0,f=f+Math.imul(I,Ne)|0,y=y+Math.imul(I,Ye)|0,$=$+Math.imul(Se,Ve)|0,f=f+Math.imul(Se,nt)|0,f=f+Math.imul(ke,Ve)|0,y=y+Math.imul(ke,nt)|0,$=$+Math.imul(me,et)|0,f=f+Math.imul(me,vt)|0,f=f+Math.imul(we,et)|0,y=y+Math.imul(we,vt)|0,$=$+Math.imul(ge,tt)|0,f=f+Math.imul(ge,it)|0,f=f+Math.imul(xe,tt)|0,y=y+Math.imul(xe,it)|0,$=$+Math.imul(ie,F)|0,f=f+Math.imul(ie,D)|0,f=f+Math.imul(be,F)|0,y=y+Math.imul(be,D)|0,$=$+Math.imul(Xe,A)|0,f=f+Math.imul(Xe,q)|0,f=f+Math.imul(K,A)|0,y=y+Math.imul(K,q)|0,$=$+Math.imul(Le,X)|0,f=f+Math.imul(Le,pe)|0,f=f+Math.imul(Ge,X)|0,y=y+Math.imul(Ge,pe)|0;var ct=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ct>>>26)|0,ct&=67108863,$=Math.imul(C,Ne),f=Math.imul(C,Ye),f=f+Math.imul(T,Ne)|0,y=Math.imul(T,Ye),$=$+Math.imul(N,Ve)|0,f=f+Math.imul(N,nt)|0,f=f+Math.imul(I,Ve)|0,y=y+Math.imul(I,nt)|0,$=$+Math.imul(Se,et)|0,f=f+Math.imul(Se,vt)|0,f=f+Math.imul(ke,et)|0,y=y+Math.imul(ke,vt)|0,$=$+Math.imul(me,tt)|0,f=f+Math.imul(me,it)|0,f=f+Math.imul(we,tt)|0,y=y+Math.imul(we,it)|0,$=$+Math.imul(ge,F)|0,f=f+Math.imul(ge,D)|0,f=f+Math.imul(xe,F)|0,y=y+Math.imul(xe,D)|0,$=$+Math.imul(ie,A)|0,f=f+Math.imul(ie,q)|0,f=f+Math.imul(be,A)|0,y=y+Math.imul(be,q)|0,$=$+Math.imul(Xe,X)|0,f=f+Math.imul(Xe,pe)|0,f=f+Math.imul(K,X)|0,y=y+Math.imul(K,pe)|0;var Ke=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$=Math.imul(C,Ve),f=Math.imul(C,nt),f=f+Math.imul(T,Ve)|0,y=Math.imul(T,nt),$=$+Math.imul(N,et)|0,f=f+Math.imul(N,vt)|0,f=f+Math.imul(I,et)|0,y=y+Math.imul(I,vt)|0,$=$+Math.imul(Se,tt)|0,f=f+Math.imul(Se,it)|0,f=f+Math.imul(ke,tt)|0,y=y+Math.imul(ke,it)|0,$=$+Math.imul(me,F)|0,f=f+Math.imul(me,D)|0,f=f+Math.imul(we,F)|0,y=y+Math.imul(we,D)|0,$=$+Math.imul(ge,A)|0,f=f+Math.imul(ge,q)|0,f=f+Math.imul(xe,A)|0,y=y+Math.imul(xe,q)|0,$=$+Math.imul(ie,X)|0,f=f+Math.imul(ie,pe)|0,f=f+Math.imul(be,X)|0,y=y+Math.imul(be,pe)|0;var rt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,$=Math.imul(C,et),f=Math.imul(C,vt),f=f+Math.imul(T,et)|0,y=Math.imul(T,vt),$=$+Math.imul(N,tt)|0,f=f+Math.imul(N,it)|0,f=f+Math.imul(I,tt)|0,y=y+Math.imul(I,it)|0,$=$+Math.imul(Se,F)|0,f=f+Math.imul(Se,D)|0,f=f+Math.imul(ke,F)|0,y=y+Math.imul(ke,D)|0,$=$+Math.imul(me,A)|0,f=f+Math.imul(me,q)|0,f=f+Math.imul(we,A)|0,y=y+Math.imul(we,q)|0,$=$+Math.imul(ge,X)|0,f=f+Math.imul(ge,pe)|0,f=f+Math.imul(xe,X)|0,y=y+Math.imul(xe,pe)|0;var ze=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,$=Math.imul(C,tt),f=Math.imul(C,it),f=f+Math.imul(T,tt)|0,y=Math.imul(T,it),$=$+Math.imul(N,F)|0,f=f+Math.imul(N,D)|0,f=f+Math.imul(I,F)|0,y=y+Math.imul(I,D)|0,$=$+Math.imul(Se,A)|0,f=f+Math.imul(Se,q)|0,f=f+Math.imul(ke,A)|0,y=y+Math.imul(ke,q)|0,$=$+Math.imul(me,X)|0,f=f+Math.imul(me,pe)|0,f=f+Math.imul(we,X)|0,y=y+Math.imul(we,pe)|0;var Je=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,$=Math.imul(C,F),f=Math.imul(C,D),f=f+Math.imul(T,F)|0,y=Math.imul(T,D),$=$+Math.imul(N,A)|0,f=f+Math.imul(N,q)|0,f=f+Math.imul(I,A)|0,y=y+Math.imul(I,q)|0,$=$+Math.imul(Se,X)|0,f=f+Math.imul(Se,pe)|0,f=f+Math.imul(ke,X)|0,y=y+Math.imul(ke,pe)|0;var Ze=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,$=Math.imul(C,A),f=Math.imul(C,q),f=f+Math.imul(T,A)|0,y=Math.imul(T,q),$=$+Math.imul(N,X)|0,f=f+Math.imul(N,pe)|0,f=f+Math.imul(I,X)|0,y=y+Math.imul(I,pe)|0;var je=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(je>>>26)|0,je&=67108863,$=Math.imul(C,X),f=Math.imul(C,pe),f=f+Math.imul(T,X)|0,y=Math.imul(T,pe);var _e=(S+$|0)+((f&8191)<<13)|0;return S=(y+(f>>>13)|0)+(_e>>>26)|0,_e&=67108863,w[0]=Te,w[1]=We,w[2]=qe,w[3]=wt,w[4]=He,w[5]=ot,w[6]=st,w[7]=pt,w[8]=ht,w[9]=ut,w[10]=dt,w[11]=ct,w[12]=Ke,w[13]=rt,w[14]=ze,w[15]=Je,w[16]=Ze,w[17]=je,w[18]=_e,S!==0&&(w[19]=S,c.length++),c};Math.imul||(ee=V);function se(E,u,d){d.negative=u.negative^E.negative,d.length=E.length+u.length;for(var c=0,g=0,m=0;m<d.length-1;m++){var w=g;g=0;for(var S=c&67108863,$=Math.min(m,u.length-1),f=Math.max(0,m-E.length+1);f<=$;f++){var y=m-f,B=E.words[y]|0,O=u.words[f]|0,oe=B*O,he=oe&67108863;w=w+(oe/67108864|0)|0,he=he+S|0,S=he&67108863,w=w+(he>>>26)|0,g+=w>>>26,w&=67108863}d.words[m]=S,c=w,w=g}return c!==0?d.words[m]=c:d.length--,d.strip()}function Q(E,u,d){var c=new $e;return c.mulp(E,u,d)}s.prototype.mulTo=function(u,d){var c,g=this.length+u.length;return this.length===10&&u.length===10?c=ee(this,u,d):g<63?c=V(this,u,d):g<1024?c=se(this,u,d):c=Q(this,u,d),c};function $e(E,u){this.x=E,this.y=u}$e.prototype.makeRBT=function(u){for(var d=new Array(u),c=s.prototype._countBits(u)-1,g=0;g<u;g++)d[g]=this.revBin(g,c,u);return d},$e.prototype.revBin=function(u,d,c){if(u===0||u===c-1)return u;for(var g=0,m=0;m<d;m++)g|=(u&1)<<d-m-1,u>>=1;return g},$e.prototype.permute=function(u,d,c,g,m,w){for(var S=0;S<w;S++)g[S]=d[u[S]],m[S]=c[u[S]]},$e.prototype.transform=function(u,d,c,g,m,w){this.permute(w,u,d,c,g,m);for(var S=1;S<m;S<<=1)for(var $=S<<1,f=Math.cos(2*Math.PI/$),y=Math.sin(2*Math.PI/$),B=0;B<m;B+=$)for(var O=f,oe=y,he=0;he<S;he++){var ve=c[B+he],Pe=g[B+he],at=c[B+he+S],Le=g[B+he+S],Ge=O*at-oe*Le;Le=O*Le+oe*at,at=Ge,c[B+he]=ve+at,g[B+he]=Pe+Le,c[B+he+S]=ve-at,g[B+he+S]=Pe-Le,he!==$&&(Ge=f*O-y*oe,oe=f*oe+y*O,O=Ge)}},$e.prototype.guessLen13b=function(u,d){var c=Math.max(d,u)|1,g=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+g},$e.prototype.conjugate=function(u,d,c){if(!(c<=1))for(var g=0;g<c/2;g++){var m=u[g];u[g]=u[c-g-1],u[c-g-1]=m,m=d[g],d[g]=-d[c-g-1],d[c-g-1]=-m}},$e.prototype.normalize13b=function(u,d){for(var c=0,g=0;g<d/2;g++){var m=Math.round(u[2*g+1]/d)*8192+Math.round(u[2*g]/d)+c;u[g]=m&67108863,m<67108864?c=0:c=m/67108864|0}return u},$e.prototype.convert13b=function(u,d,c,g){for(var m=0,w=0;w<d;w++)m=m+(u[w]|0),c[2*w]=m&8191,m=m>>>13,c[2*w+1]=m&8191,m=m>>>13;for(w=2*d;w<g;++w)c[w]=0;o(m===0),o((m&-8192)===0)},$e.prototype.stub=function(u){for(var d=new Array(u),c=0;c<u;c++)d[c]=0;return d},$e.prototype.mulp=function(u,d,c){var g=2*this.guessLen13b(u.length,d.length),m=this.makeRBT(g),w=this.stub(g),S=new Array(g),$=new Array(g),f=new Array(g),y=new Array(g),B=new Array(g),O=new Array(g),oe=c.words;oe.length=g,this.convert13b(u.words,u.length,S,g),this.convert13b(d.words,d.length,y,g),this.transform(S,w,$,f,g,m),this.transform(y,w,B,O,g,m);for(var he=0;he<g;he++){var ve=$[he]*B[he]-f[he]*O[he];f[he]=$[he]*O[he]+f[he]*B[he],$[he]=ve}return this.conjugate($,f,g),this.transform($,f,oe,w,g,m),this.conjugate(oe,w,g),this.normalize13b(oe,g),c.negative=u.negative^d.negative,c.length=u.length+d.length,c.strip()},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),Q(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){o(typeof u=="number"),o(u<67108864);for(var d=0,c=0;c<this.length;c++){var g=(this.words[c]|0)*u,m=(g&67108863)+(d&67108863);d>>=26,d+=g/67108864|0,d+=m>>>26,this.words[c]=m&67108863}return d!==0&&(this.words[c]=d,this.length++),this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=j(u);if(d.length===0)return new s(1);for(var c=this,g=0;g<d.length&&d[g]===0;g++,c=c.sqr());if(++g<d.length)for(var m=c.sqr();g<d.length;g++,m=m.sqr())d[g]!==0&&(c=c.mul(m));return c},s.prototype.iushln=function(u){o(typeof u=="number"&&u>=0);var d=u%26,c=(u-d)/26,g=67108863>>>26-d<<26-d,m;if(d!==0){var w=0;for(m=0;m<this.length;m++){var S=this.words[m]&g,$=(this.words[m]|0)-S<<d;this.words[m]=$|w,w=S>>>26-d}w&&(this.words[m]=w,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(u){return o(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,c){o(typeof u=="number"&&u>=0);var g;d?g=(d-d%26)/26:g=0;var m=u%26,w=Math.min((u-m)/26,this.length),S=67108863^67108863>>>m<<m,$=c;if(g-=w,g=Math.max(0,g),$){for(var f=0;f<w;f++)$.words[f]=this.words[f];$.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=g);f--){var B=this.words[f]|0;this.words[f]=y<<26-m|B>>>m,y=B&S}return $&&y!==0&&($.words[$.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(u,d,c){return o(this.negative===0),this.iushrn(u,d,c)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){o(typeof u=="number"&&u>=0);var d=u%26,c=(u-d)/26,g=1<<d;if(this.length<=c)return!1;var m=this.words[c];return!!(m&g)},s.prototype.imaskn=function(u){o(typeof u=="number"&&u>=0);var d=u%26,c=(u-d)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(d!==0&&c++,this.length=Math.min(c,this.length),d!==0){var g=67108863^67108863>>>d<<d;this.words[this.length-1]&=g}return this.strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return o(typeof u=="number"),o(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(o(typeof u=="number"),o(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,c){var g=u.length+c,m;this._expand(g);var w,S=0;for(m=0;m<u.length;m++){w=(this.words[m+c]|0)+S;var $=(u.words[m]|0)*d;w-=$&67108863,S=(w>>26)-($/67108864|0),this.words[m+c]=w&67108863}for(;m<this.length-c;m++)w=(this.words[m+c]|0)+S,S=w>>26,this.words[m+c]=w&67108863;if(S===0)return this.strip();for(o(S===-1),S=0,m=0;m<this.length;m++)w=-(this.words[m]|0)+S,S=w>>26,this.words[m]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(u,d){var c=this.length-u.length,g=this.clone(),m=u,w=m.words[m.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(m=m.ushln(c),g.iushln(c),w=m.words[m.length-1]|0);var $=g.length-m.length,f;if(d!=="mod"){f=new s(null),f.length=$+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var B=g.clone()._ishlnsubmul(m,1,$);B.negative===0&&(g=B,f&&(f.words[$]=1));for(var O=$-1;O>=0;O--){var oe=(g.words[m.length+O]|0)*67108864+(g.words[m.length+O-1]|0);for(oe=Math.min(oe/w|0,67108863),g._ishlnsubmul(m,oe,O);g.negative!==0;)oe--,g.negative=0,g._ishlnsubmul(m,1,O),g.isZero()||(g.negative^=1);f&&(f.words[O]=oe)}return f&&f.strip(),g.strip(),d!=="div"&&c!==0&&g.iushrn(c),{div:f||null,mod:g}},s.prototype.divmod=function(u,d,c){if(o(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var g,m,w;return this.negative!==0&&u.negative===0?(w=this.neg().divmod(u,d),d!=="mod"&&(g=w.div.neg()),d!=="div"&&(m=w.mod.neg(),c&&m.negative!==0&&m.iadd(u)),{div:g,mod:m}):this.negative===0&&u.negative!==0?(w=this.divmod(u.neg(),d),d!=="mod"&&(g=w.div.neg()),{div:g,mod:w.mod}):this.negative&u.negative?(w=this.neg().divmod(u.neg(),d),d!=="div"&&(m=w.mod.neg(),c&&m.negative!==0&&m.isub(u)),{div:w.div,mod:m}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var c=d.div.negative!==0?d.mod.isub(u):d.mod,g=u.ushrn(1),m=u.andln(1),w=c.cmp(g);return w<0||m===1&&w===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modn=function(u){o(u<=67108863);for(var d=(1<<26)%u,c=0,g=this.length-1;g>=0;g--)c=(d*c+(this.words[g]|0))%u;return c},s.prototype.idivn=function(u){o(u<=67108863);for(var d=0,c=this.length-1;c>=0;c--){var g=(this.words[c]|0)+d*67108864;this.words[c]=g/u|0,d=g%u}return this.strip()},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){o(u.negative===0),o(!u.isZero());var d=this,c=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new s(1),m=new s(0),w=new s(0),S=new s(1),$=0;d.isEven()&&c.isEven();)d.iushrn(1),c.iushrn(1),++$;for(var f=c.clone(),y=d.clone();!d.isZero();){for(var B=0,O=1;!(d.words[0]&O)&&B<26;++B,O<<=1);if(B>0)for(d.iushrn(B);B-- >0;)(g.isOdd()||m.isOdd())&&(g.iadd(f),m.isub(y)),g.iushrn(1),m.iushrn(1);for(var oe=0,he=1;!(c.words[0]&he)&&oe<26;++oe,he<<=1);if(oe>0)for(c.iushrn(oe);oe-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(f),S.isub(y)),w.iushrn(1),S.iushrn(1);d.cmp(c)>=0?(d.isub(c),g.isub(w),m.isub(S)):(c.isub(d),w.isub(g),S.isub(m))}return{a:w,b:S,gcd:c.iushln($)}},s.prototype._invmp=function(u){o(u.negative===0),o(!u.isZero());var d=this,c=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new s(1),m=new s(0),w=c.clone();d.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,$=1;!(d.words[0]&$)&&S<26;++S,$<<=1);if(S>0)for(d.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);for(var f=0,y=1;!(c.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(c.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);d.cmp(c)>=0?(d.isub(c),g.isub(m)):(c.isub(d),m.isub(g))}var B;return d.cmpn(1)===0?B=g:B=m,B.cmpn(0)<0&&B.iadd(u),B},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),c=u.clone();d.negative=0,c.negative=0;for(var g=0;d.isEven()&&c.isEven();g++)d.iushrn(1),c.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=d.cmp(c);if(m<0){var w=d;d=c,c=w}else if(m===0||c.cmpn(1)===0)break;d.isub(c)}while(!0);return c.iushln(g)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){o(typeof u=="number");var d=u%26,c=(u-d)/26,g=1<<d;if(this.length<=c)return this._expand(c+1),this.words[c]|=g,this;for(var m=g,w=c;m!==0&&w<this.length;w++){var S=this.words[w]|0;S+=m,m=S>>>26,S&=67108863,this.words[w]=S}return m!==0&&(this.words[w]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var c;if(this.length>1)c=1;else{d&&(u=-u),o(u<=67108863,"Number is too big");var g=this.words[0]|0;c=g===u?0:g<u?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,c=this.length-1;c>=0;c--){var g=this.words[c]|0,m=u.words[c]|0;if(g!==m){g<m?d=-1:g>m&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new H(u)},s.prototype.toRed=function(u){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return o(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return o(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var Ie={k256:null,p224:null,p192:null,p25519:null};function ye(E,u){this.name=E,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ye.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},ye.prototype.ireduce=function(u){var d=u,c;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),c=d.bitLength();while(c>this.n);var g=c<this.n?-1:d.ucmp(this.p);return g===0?(d.words[0]=0,d.length=1):g>0?d.isub(this.p):d.strip(),d},ye.prototype.split=function(u,d){u.iushrn(this.n,0,d)},ye.prototype.imulK=function(u){return u.imul(this.k)};function G(){ye.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(G,ye),G.prototype.split=function(u,d){for(var c=4194303,g=Math.min(u.length,9),m=0;m<g;m++)d.words[m]=u.words[m];if(d.length=g,u.length<=9){u.words[0]=0,u.length=1;return}var w=u.words[9];for(d.words[d.length++]=w&c,m=10;m<u.length;m++){var S=u.words[m]|0;u.words[m-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,u.words[m-10]=w,w===0&&u.length>10?u.length-=10:u.length-=9},G.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,c=0;c<u.length;c++){var g=u.words[c]|0;d+=g*977,u.words[c]=d&67108863,d=g*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function J(){ye.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,ye);function le(){ye.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(le,ye);function ae(){ye.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ae,ye),ae.prototype.imulK=function(u){for(var d=0,c=0;c<u.length;c++){var g=(u.words[c]|0)*19+d,m=g&67108863;g>>>=26,u.words[c]=m,d=g}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(Ie[u])return Ie[u];var d;if(u==="k256")d=new G;else if(u==="p224")d=new J;else if(u==="p192")d=new le;else if(u==="p25519")d=new ae;else throw new Error("Unknown prime "+u);return Ie[u]=d,d};function H(E){if(typeof E=="string"){var u=s._prime(E);this.m=u.p,this.prime=u}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}H.prototype._verify1=function(u){o(u.negative===0,"red works only with positives"),o(u.red,"red works only with red numbers")},H.prototype._verify2=function(u,d){o((u.negative|d.negative)===0,"red works only with positives"),o(u.red&&u.red===d.red,"red works only with red numbers")},H.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},H.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},H.prototype.add=function(u,d){this._verify2(u,d);var c=u.add(d);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},H.prototype.iadd=function(u,d){this._verify2(u,d);var c=u.iadd(d);return c.cmp(this.m)>=0&&c.isub(this.m),c},H.prototype.sub=function(u,d){this._verify2(u,d);var c=u.sub(d);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},H.prototype.isub=function(u,d){this._verify2(u,d);var c=u.isub(d);return c.cmpn(0)<0&&c.iadd(this.m),c},H.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},H.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},H.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},H.prototype.isqr=function(u){return this.imul(u,u.clone())},H.prototype.sqr=function(u){return this.mul(u,u)},H.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(o(d%2===1),d===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(u,c)}for(var g=this.m.subn(1),m=0;!g.isZero()&&g.andln(1)===0;)m++,g.iushrn(1);o(!g.isZero());var w=new s(1).toRed(this),S=w.redNeg(),$=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,$).cmp(S)!==0;)f.redIAdd(S);for(var y=this.pow(f,g),B=this.pow(u,g.addn(1).iushrn(1)),O=this.pow(u,g),oe=m;O.cmp(w)!==0;){for(var he=O,ve=0;he.cmp(w)!==0;ve++)he=he.redSqr();o(ve<oe);var Pe=this.pow(y,new s(1).iushln(oe-ve-1));B=B.redMul(Pe),y=Pe.redSqr(),O=O.redMul(y),oe=ve}return B},H.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},H.prototype.pow=function(u,d){if(d.isZero())return new s(1);if(d.cmpn(1)===0)return u.clone();var c=4,g=new Array(1<<c);g[0]=new s(1).toRed(this),g[1]=u;for(var m=2;m<g.length;m++)g[m]=this.mul(g[m-1],u);var w=g[0],S=0,$=0,f=d.bitLength()%26;for(f===0&&(f=26),m=d.length-1;m>=0;m--){for(var y=d.words[m],B=f-1;B>=0;B--){var O=y>>B&1;if(w!==g[0]&&(w=this.sqr(w)),O===0&&S===0){$=0;continue}S<<=1,S|=O,$++,!($!==c&&(m!==0||B!==0))&&(w=this.mul(w,g[S]),$=0,S=0)}f=26}return w},H.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},H.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new te(u)};function te(E){H.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(te,H),te.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},te.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},te.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var c=u.imul(d),g=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(g).iushrn(this.shift),w=m;return m.cmp(this.m)>=0?w=m.isub(this.m):m.cmpn(0)<0&&(w=m.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var c=u.mul(d),g=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(g).iushrn(this.shift),w=m;return m.cmp(this.m)>=0?w=m.isub(this.m):m.cmpn(0)<0&&(w=m.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)})(bn$1);var bnExports={},bn={get exports(){return bnExports},set exports(e){bnExports=e}};(function(e){(function(r,n){function o(E,u){if(!E)throw new Error(u||"Assertion failed")}function a(E,u){E.super_=u;var d=function(){};d.prototype=u.prototype,E.prototype=new d,E.prototype.constructor=E}function s(E,u,d){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(E||0,u||10,d||"be"))}typeof r=="object"?r.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var l;try{l=commonjsRequire("buffer").Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,c){if(typeof u=="number")return this._initNumber(u,d,c);if(typeof u=="object")return this._initArray(u,d,c);d==="hex"&&(d=16),o(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var g=0;u[0]==="-"&&g++,d===16?this._parseHex(u,g):this._parseBase(u,d,g),u[0]==="-"&&(this.negative=1),this.strip(),c==="le"&&this._initArray(this.toArray(),d,c)},s.prototype._initNumber=function(u,d,c){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(o(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),d,c)},s.prototype._initArray=function(u,d,c){if(o(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,w,S=0;if(c==="be")for(g=u.length-1,m=0;g>=0;g-=3)w=u[g]|u[g-1]<<8|u[g-2]<<16,this.words[m]|=w<<S&67108863,this.words[m+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,m++);else if(c==="le")for(g=0,m=0;g<u.length;g+=3)w=u[g]|u[g+1]<<8|u[g+2]<<16,this.words[m]|=w<<S&67108863,this.words[m+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,m++);return this.strip()};function h(E,u,d){for(var c=0,g=Math.min(E.length,d),m=u;m<g;m++){var w=E.charCodeAt(m)-48;c<<=4,w>=49&&w<=54?c|=w-49+10:w>=17&&w<=22?c|=w-17+10:c|=w&15}return c}s.prototype._parseHex=function(u,d){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var g,m,w=0;for(c=u.length-6,g=0;c>=d;c-=6)m=h(u,c,c+6),this.words[g]|=m<<w&67108863,this.words[g+1]|=m>>>26-w&4194303,w+=24,w>=26&&(w-=26,g++);c+6!==d&&(m=h(u,d,c+6),this.words[g]|=m<<w&67108863,this.words[g+1]|=m>>>26-w&4194303),this.strip()};function v(E,u,d,c){for(var g=0,m=Math.min(E.length,d),w=u;w<m;w++){var S=E.charCodeAt(w)-48;g*=c,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}s.prototype._parseBase=function(u,d,c){this.words=[0],this.length=1;for(var g=0,m=1;m<=67108863;m*=d)g++;g--,m=m/d|0;for(var w=u.length-c,S=w%g,$=Math.min(w,w-S)+c,f=0,y=c;y<$;y+=g)f=v(u,y,y+g,d),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(S!==0){var B=1;for(f=v(u,y,u.length,d),y=0;y<S;y++)B*=d;this.imuln(B),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var c;if(u===16||u==="hex"){c="";for(var g=0,m=0,w=0;w<this.length;w++){var S=this.words[w],$=((S<<g|m)&16777215).toString(16);m=S>>>24-g&16777215,m!==0||w!==this.length-1?c=x[6-$.length]+$+c:c=$+c,g+=2,g>=26&&(g-=26,w--)}for(m!==0&&(c=m.toString(16)+c);c.length%d!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(u===(u|0)&&u>=2&&u<=36){var f=M[u],y=P[u];c="";var B=this.clone();for(B.negative=0;!B.isZero();){var O=B.modn(y).toString(u);B=B.idivn(y),B.isZero()?c=O+c:c=x[f-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%d!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}o(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(u,d){return o(typeof l<"u"),this.toArrayLike(l,u,d)},s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)},s.prototype.toArrayLike=function(u,d,c){var g=this.byteLength(),m=c||Math.max(1,g);o(g<=m,"byte array longer than desired length"),o(m>0,"Requested array length <= 0"),this.strip();var w=d==="le",S=new u(m),$,f,y=this.clone();if(w){for(f=0;!y.isZero();f++)$=y.andln(255),y.iushrn(8),S[f]=$;for(;f<m;f++)S[f]=0}else{for(f=0;f<m-g;f++)S[f]=0;for(f=0;!y.isZero();f++)$=y.andln(255),y.iushrn(8),S[m-f-1]=$}return S},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,c=0;return d>=4096&&(c+=13,d>>>=13),d>=64&&(c+=7,d>>>=7),d>=8&&(c+=4,d>>>=4),d>=2&&(c+=2,d>>>=2),c+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,c=0;return d&8191||(c+=13,d>>>=13),d&127||(c+=7,d>>>=7),d&15||(c+=4,d>>>=4),d&3||(c+=2,d>>>=2),d&1||c++,c},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function j(E){for(var u=new Array(E.bitLength()),d=0;d<u.length;d++){var c=d/26|0,g=d%26;u[d]=(E.words[c]&1<<g)>>>g}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var c=this._zeroBits(this.words[d]);if(u+=c,c!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this.strip()},s.prototype.ior=function(u){return o((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var c=0;c<d.length;c++)this.words[c]=this.words[c]&u.words[c];return this.length=d.length,this.strip()},s.prototype.iand=function(u){return o((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,c;this.length>u.length?(d=this,c=u):(d=u,c=this);for(var g=0;g<c.length;g++)this.words[g]=d.words[g]^c.words[g];if(this!==d)for(;g<d.length;g++)this.words[g]=d.words[g];return this.length=d.length,this.strip()},s.prototype.ixor=function(u){return o((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){o(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,c=u%26;this._expand(d),c>0&&d--;for(var g=0;g<d;g++)this.words[g]=~this.words[g]&67108863;return c>0&&(this.words[g]=~this.words[g]&67108863>>26-c),this.strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){o(typeof u=="number"&&u>=0);var c=u/26|0,g=u%26;return this._expand(c+1),d?this.words[c]=this.words[c]|1<<g:this.words[c]=this.words[c]&~(1<<g),this.strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var c,g;this.length>u.length?(c=this,g=u):(c=u,g=this);for(var m=0,w=0;w<g.length;w++)d=(c.words[w]|0)+(g.words[w]|0)+m,this.words[w]=d&67108863,m=d>>>26;for(;m!==0&&w<c.length;w++)d=(c.words[w]|0)+m,this.words[w]=d&67108863,m=d>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;w<c.length;w++)this.words[w]=c.words[w];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var c=this.cmp(u);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,m;c>0?(g=this,m=u):(g=u,m=this);for(var w=0,S=0;S<m.length;S++)d=(g.words[S]|0)-(m.words[S]|0)+w,w=d>>26,this.words[S]=d&67108863;for(;w!==0&&S<g.length;S++)d=(g.words[S]|0)+w,w=d>>26,this.words[S]=d&67108863;if(w===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function V(E,u,d){d.negative=u.negative^E.negative;var c=E.length+u.length|0;d.length=c,c=c-1|0;var g=E.words[0]|0,m=u.words[0]|0,w=g*m,S=w&67108863,$=w/67108864|0;d.words[0]=S;for(var f=1;f<c;f++){for(var y=$>>>26,B=$&67108863,O=Math.min(f,u.length-1),oe=Math.max(0,f-E.length+1);oe<=O;oe++){var he=f-oe|0;g=E.words[he]|0,m=u.words[oe]|0,w=g*m+B,y+=w/67108864|0,B=w&67108863}d.words[f]=B|0,$=y|0}return $!==0?d.words[f]=$|0:d.length--,d.strip()}var ee=function(u,d,c){var g=u.words,m=d.words,w=c.words,S=0,$,f,y,B=g[0]|0,O=B&8191,oe=B>>>13,he=g[1]|0,ve=he&8191,Pe=he>>>13,at=g[2]|0,Le=at&8191,Ge=at>>>13,_t=g[3]|0,Xe=_t&8191,K=_t>>>13,Z=g[4]|0,ie=Z&8191,be=Z>>>13,Ae=g[5]|0,ge=Ae&8191,xe=Ae>>>13,Me=g[6]|0,me=Me&8191,we=Me>>>13,Oe=g[7]|0,Se=Oe&8191,ke=Oe>>>13,z=g[8]|0,N=z&8191,I=z>>>13,b=g[9]|0,C=b&8191,T=b>>>13,U=m[0]|0,k=U&8191,L=U>>>13,ue=m[1]|0,ce=ue&8191,fe=ue>>>13,Be=m[2]|0,de=Be&8191,Ce=Be>>>13,Qe=m[3]|0,Ne=Qe&8191,Ye=Qe>>>13,mt=m[4]|0,Ve=mt&8191,nt=mt>>>13,bt=m[5]|0,et=bt&8191,vt=bt>>>13,Bt=m[6]|0,tt=Bt&8191,it=Bt>>>13,Rt=m[7]|0,F=Rt&8191,D=Rt>>>13,W=m[8]|0,A=W&8191,q=W>>>13,ne=m[9]|0,X=ne&8191,pe=ne>>>13;c.negative=u.negative^d.negative,c.length=19,$=Math.imul(O,k),f=Math.imul(O,L),f=f+Math.imul(oe,k)|0,y=Math.imul(oe,L);var Te=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Te>>>26)|0,Te&=67108863,$=Math.imul(ve,k),f=Math.imul(ve,L),f=f+Math.imul(Pe,k)|0,y=Math.imul(Pe,L),$=$+Math.imul(O,ce)|0,f=f+Math.imul(O,fe)|0,f=f+Math.imul(oe,ce)|0,y=y+Math.imul(oe,fe)|0;var We=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(We>>>26)|0,We&=67108863,$=Math.imul(Le,k),f=Math.imul(Le,L),f=f+Math.imul(Ge,k)|0,y=Math.imul(Ge,L),$=$+Math.imul(ve,ce)|0,f=f+Math.imul(ve,fe)|0,f=f+Math.imul(Pe,ce)|0,y=y+Math.imul(Pe,fe)|0,$=$+Math.imul(O,de)|0,f=f+Math.imul(O,Ce)|0,f=f+Math.imul(oe,de)|0,y=y+Math.imul(oe,Ce)|0;var qe=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(qe>>>26)|0,qe&=67108863,$=Math.imul(Xe,k),f=Math.imul(Xe,L),f=f+Math.imul(K,k)|0,y=Math.imul(K,L),$=$+Math.imul(Le,ce)|0,f=f+Math.imul(Le,fe)|0,f=f+Math.imul(Ge,ce)|0,y=y+Math.imul(Ge,fe)|0,$=$+Math.imul(ve,de)|0,f=f+Math.imul(ve,Ce)|0,f=f+Math.imul(Pe,de)|0,y=y+Math.imul(Pe,Ce)|0,$=$+Math.imul(O,Ne)|0,f=f+Math.imul(O,Ye)|0,f=f+Math.imul(oe,Ne)|0,y=y+Math.imul(oe,Ye)|0;var wt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(wt>>>26)|0,wt&=67108863,$=Math.imul(ie,k),f=Math.imul(ie,L),f=f+Math.imul(be,k)|0,y=Math.imul(be,L),$=$+Math.imul(Xe,ce)|0,f=f+Math.imul(Xe,fe)|0,f=f+Math.imul(K,ce)|0,y=y+Math.imul(K,fe)|0,$=$+Math.imul(Le,de)|0,f=f+Math.imul(Le,Ce)|0,f=f+Math.imul(Ge,de)|0,y=y+Math.imul(Ge,Ce)|0,$=$+Math.imul(ve,Ne)|0,f=f+Math.imul(ve,Ye)|0,f=f+Math.imul(Pe,Ne)|0,y=y+Math.imul(Pe,Ye)|0,$=$+Math.imul(O,Ve)|0,f=f+Math.imul(O,nt)|0,f=f+Math.imul(oe,Ve)|0,y=y+Math.imul(oe,nt)|0;var He=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(He>>>26)|0,He&=67108863,$=Math.imul(ge,k),f=Math.imul(ge,L),f=f+Math.imul(xe,k)|0,y=Math.imul(xe,L),$=$+Math.imul(ie,ce)|0,f=f+Math.imul(ie,fe)|0,f=f+Math.imul(be,ce)|0,y=y+Math.imul(be,fe)|0,$=$+Math.imul(Xe,de)|0,f=f+Math.imul(Xe,Ce)|0,f=f+Math.imul(K,de)|0,y=y+Math.imul(K,Ce)|0,$=$+Math.imul(Le,Ne)|0,f=f+Math.imul(Le,Ye)|0,f=f+Math.imul(Ge,Ne)|0,y=y+Math.imul(Ge,Ye)|0,$=$+Math.imul(ve,Ve)|0,f=f+Math.imul(ve,nt)|0,f=f+Math.imul(Pe,Ve)|0,y=y+Math.imul(Pe,nt)|0,$=$+Math.imul(O,et)|0,f=f+Math.imul(O,vt)|0,f=f+Math.imul(oe,et)|0,y=y+Math.imul(oe,vt)|0;var ot=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ot>>>26)|0,ot&=67108863,$=Math.imul(me,k),f=Math.imul(me,L),f=f+Math.imul(we,k)|0,y=Math.imul(we,L),$=$+Math.imul(ge,ce)|0,f=f+Math.imul(ge,fe)|0,f=f+Math.imul(xe,ce)|0,y=y+Math.imul(xe,fe)|0,$=$+Math.imul(ie,de)|0,f=f+Math.imul(ie,Ce)|0,f=f+Math.imul(be,de)|0,y=y+Math.imul(be,Ce)|0,$=$+Math.imul(Xe,Ne)|0,f=f+Math.imul(Xe,Ye)|0,f=f+Math.imul(K,Ne)|0,y=y+Math.imul(K,Ye)|0,$=$+Math.imul(Le,Ve)|0,f=f+Math.imul(Le,nt)|0,f=f+Math.imul(Ge,Ve)|0,y=y+Math.imul(Ge,nt)|0,$=$+Math.imul(ve,et)|0,f=f+Math.imul(ve,vt)|0,f=f+Math.imul(Pe,et)|0,y=y+Math.imul(Pe,vt)|0,$=$+Math.imul(O,tt)|0,f=f+Math.imul(O,it)|0,f=f+Math.imul(oe,tt)|0,y=y+Math.imul(oe,it)|0;var st=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(st>>>26)|0,st&=67108863,$=Math.imul(Se,k),f=Math.imul(Se,L),f=f+Math.imul(ke,k)|0,y=Math.imul(ke,L),$=$+Math.imul(me,ce)|0,f=f+Math.imul(me,fe)|0,f=f+Math.imul(we,ce)|0,y=y+Math.imul(we,fe)|0,$=$+Math.imul(ge,de)|0,f=f+Math.imul(ge,Ce)|0,f=f+Math.imul(xe,de)|0,y=y+Math.imul(xe,Ce)|0,$=$+Math.imul(ie,Ne)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(be,Ne)|0,y=y+Math.imul(be,Ye)|0,$=$+Math.imul(Xe,Ve)|0,f=f+Math.imul(Xe,nt)|0,f=f+Math.imul(K,Ve)|0,y=y+Math.imul(K,nt)|0,$=$+Math.imul(Le,et)|0,f=f+Math.imul(Le,vt)|0,f=f+Math.imul(Ge,et)|0,y=y+Math.imul(Ge,vt)|0,$=$+Math.imul(ve,tt)|0,f=f+Math.imul(ve,it)|0,f=f+Math.imul(Pe,tt)|0,y=y+Math.imul(Pe,it)|0,$=$+Math.imul(O,F)|0,f=f+Math.imul(O,D)|0,f=f+Math.imul(oe,F)|0,y=y+Math.imul(oe,D)|0;var pt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(pt>>>26)|0,pt&=67108863,$=Math.imul(N,k),f=Math.imul(N,L),f=f+Math.imul(I,k)|0,y=Math.imul(I,L),$=$+Math.imul(Se,ce)|0,f=f+Math.imul(Se,fe)|0,f=f+Math.imul(ke,ce)|0,y=y+Math.imul(ke,fe)|0,$=$+Math.imul(me,de)|0,f=f+Math.imul(me,Ce)|0,f=f+Math.imul(we,de)|0,y=y+Math.imul(we,Ce)|0,$=$+Math.imul(ge,Ne)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(xe,Ne)|0,y=y+Math.imul(xe,Ye)|0,$=$+Math.imul(ie,Ve)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(be,Ve)|0,y=y+Math.imul(be,nt)|0,$=$+Math.imul(Xe,et)|0,f=f+Math.imul(Xe,vt)|0,f=f+Math.imul(K,et)|0,y=y+Math.imul(K,vt)|0,$=$+Math.imul(Le,tt)|0,f=f+Math.imul(Le,it)|0,f=f+Math.imul(Ge,tt)|0,y=y+Math.imul(Ge,it)|0,$=$+Math.imul(ve,F)|0,f=f+Math.imul(ve,D)|0,f=f+Math.imul(Pe,F)|0,y=y+Math.imul(Pe,D)|0,$=$+Math.imul(O,A)|0,f=f+Math.imul(O,q)|0,f=f+Math.imul(oe,A)|0,y=y+Math.imul(oe,q)|0;var ht=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,$=Math.imul(C,k),f=Math.imul(C,L),f=f+Math.imul(T,k)|0,y=Math.imul(T,L),$=$+Math.imul(N,ce)|0,f=f+Math.imul(N,fe)|0,f=f+Math.imul(I,ce)|0,y=y+Math.imul(I,fe)|0,$=$+Math.imul(Se,de)|0,f=f+Math.imul(Se,Ce)|0,f=f+Math.imul(ke,de)|0,y=y+Math.imul(ke,Ce)|0,$=$+Math.imul(me,Ne)|0,f=f+Math.imul(me,Ye)|0,f=f+Math.imul(we,Ne)|0,y=y+Math.imul(we,Ye)|0,$=$+Math.imul(ge,Ve)|0,f=f+Math.imul(ge,nt)|0,f=f+Math.imul(xe,Ve)|0,y=y+Math.imul(xe,nt)|0,$=$+Math.imul(ie,et)|0,f=f+Math.imul(ie,vt)|0,f=f+Math.imul(be,et)|0,y=y+Math.imul(be,vt)|0,$=$+Math.imul(Xe,tt)|0,f=f+Math.imul(Xe,it)|0,f=f+Math.imul(K,tt)|0,y=y+Math.imul(K,it)|0,$=$+Math.imul(Le,F)|0,f=f+Math.imul(Le,D)|0,f=f+Math.imul(Ge,F)|0,y=y+Math.imul(Ge,D)|0,$=$+Math.imul(ve,A)|0,f=f+Math.imul(ve,q)|0,f=f+Math.imul(Pe,A)|0,y=y+Math.imul(Pe,q)|0,$=$+Math.imul(O,X)|0,f=f+Math.imul(O,pe)|0,f=f+Math.imul(oe,X)|0,y=y+Math.imul(oe,pe)|0;var ut=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ut>>>26)|0,ut&=67108863,$=Math.imul(C,ce),f=Math.imul(C,fe),f=f+Math.imul(T,ce)|0,y=Math.imul(T,fe),$=$+Math.imul(N,de)|0,f=f+Math.imul(N,Ce)|0,f=f+Math.imul(I,de)|0,y=y+Math.imul(I,Ce)|0,$=$+Math.imul(Se,Ne)|0,f=f+Math.imul(Se,Ye)|0,f=f+Math.imul(ke,Ne)|0,y=y+Math.imul(ke,Ye)|0,$=$+Math.imul(me,Ve)|0,f=f+Math.imul(me,nt)|0,f=f+Math.imul(we,Ve)|0,y=y+Math.imul(we,nt)|0,$=$+Math.imul(ge,et)|0,f=f+Math.imul(ge,vt)|0,f=f+Math.imul(xe,et)|0,y=y+Math.imul(xe,vt)|0,$=$+Math.imul(ie,tt)|0,f=f+Math.imul(ie,it)|0,f=f+Math.imul(be,tt)|0,y=y+Math.imul(be,it)|0,$=$+Math.imul(Xe,F)|0,f=f+Math.imul(Xe,D)|0,f=f+Math.imul(K,F)|0,y=y+Math.imul(K,D)|0,$=$+Math.imul(Le,A)|0,f=f+Math.imul(Le,q)|0,f=f+Math.imul(Ge,A)|0,y=y+Math.imul(Ge,q)|0,$=$+Math.imul(ve,X)|0,f=f+Math.imul(ve,pe)|0,f=f+Math.imul(Pe,X)|0,y=y+Math.imul(Pe,pe)|0;var dt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(dt>>>26)|0,dt&=67108863,$=Math.imul(C,de),f=Math.imul(C,Ce),f=f+Math.imul(T,de)|0,y=Math.imul(T,Ce),$=$+Math.imul(N,Ne)|0,f=f+Math.imul(N,Ye)|0,f=f+Math.imul(I,Ne)|0,y=y+Math.imul(I,Ye)|0,$=$+Math.imul(Se,Ve)|0,f=f+Math.imul(Se,nt)|0,f=f+Math.imul(ke,Ve)|0,y=y+Math.imul(ke,nt)|0,$=$+Math.imul(me,et)|0,f=f+Math.imul(me,vt)|0,f=f+Math.imul(we,et)|0,y=y+Math.imul(we,vt)|0,$=$+Math.imul(ge,tt)|0,f=f+Math.imul(ge,it)|0,f=f+Math.imul(xe,tt)|0,y=y+Math.imul(xe,it)|0,$=$+Math.imul(ie,F)|0,f=f+Math.imul(ie,D)|0,f=f+Math.imul(be,F)|0,y=y+Math.imul(be,D)|0,$=$+Math.imul(Xe,A)|0,f=f+Math.imul(Xe,q)|0,f=f+Math.imul(K,A)|0,y=y+Math.imul(K,q)|0,$=$+Math.imul(Le,X)|0,f=f+Math.imul(Le,pe)|0,f=f+Math.imul(Ge,X)|0,y=y+Math.imul(Ge,pe)|0;var ct=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ct>>>26)|0,ct&=67108863,$=Math.imul(C,Ne),f=Math.imul(C,Ye),f=f+Math.imul(T,Ne)|0,y=Math.imul(T,Ye),$=$+Math.imul(N,Ve)|0,f=f+Math.imul(N,nt)|0,f=f+Math.imul(I,Ve)|0,y=y+Math.imul(I,nt)|0,$=$+Math.imul(Se,et)|0,f=f+Math.imul(Se,vt)|0,f=f+Math.imul(ke,et)|0,y=y+Math.imul(ke,vt)|0,$=$+Math.imul(me,tt)|0,f=f+Math.imul(me,it)|0,f=f+Math.imul(we,tt)|0,y=y+Math.imul(we,it)|0,$=$+Math.imul(ge,F)|0,f=f+Math.imul(ge,D)|0,f=f+Math.imul(xe,F)|0,y=y+Math.imul(xe,D)|0,$=$+Math.imul(ie,A)|0,f=f+Math.imul(ie,q)|0,f=f+Math.imul(be,A)|0,y=y+Math.imul(be,q)|0,$=$+Math.imul(Xe,X)|0,f=f+Math.imul(Xe,pe)|0,f=f+Math.imul(K,X)|0,y=y+Math.imul(K,pe)|0;var Ke=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,$=Math.imul(C,Ve),f=Math.imul(C,nt),f=f+Math.imul(T,Ve)|0,y=Math.imul(T,nt),$=$+Math.imul(N,et)|0,f=f+Math.imul(N,vt)|0,f=f+Math.imul(I,et)|0,y=y+Math.imul(I,vt)|0,$=$+Math.imul(Se,tt)|0,f=f+Math.imul(Se,it)|0,f=f+Math.imul(ke,tt)|0,y=y+Math.imul(ke,it)|0,$=$+Math.imul(me,F)|0,f=f+Math.imul(me,D)|0,f=f+Math.imul(we,F)|0,y=y+Math.imul(we,D)|0,$=$+Math.imul(ge,A)|0,f=f+Math.imul(ge,q)|0,f=f+Math.imul(xe,A)|0,y=y+Math.imul(xe,q)|0,$=$+Math.imul(ie,X)|0,f=f+Math.imul(ie,pe)|0,f=f+Math.imul(be,X)|0,y=y+Math.imul(be,pe)|0;var rt=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(rt>>>26)|0,rt&=67108863,$=Math.imul(C,et),f=Math.imul(C,vt),f=f+Math.imul(T,et)|0,y=Math.imul(T,vt),$=$+Math.imul(N,tt)|0,f=f+Math.imul(N,it)|0,f=f+Math.imul(I,tt)|0,y=y+Math.imul(I,it)|0,$=$+Math.imul(Se,F)|0,f=f+Math.imul(Se,D)|0,f=f+Math.imul(ke,F)|0,y=y+Math.imul(ke,D)|0,$=$+Math.imul(me,A)|0,f=f+Math.imul(me,q)|0,f=f+Math.imul(we,A)|0,y=y+Math.imul(we,q)|0,$=$+Math.imul(ge,X)|0,f=f+Math.imul(ge,pe)|0,f=f+Math.imul(xe,X)|0,y=y+Math.imul(xe,pe)|0;var ze=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,$=Math.imul(C,tt),f=Math.imul(C,it),f=f+Math.imul(T,tt)|0,y=Math.imul(T,it),$=$+Math.imul(N,F)|0,f=f+Math.imul(N,D)|0,f=f+Math.imul(I,F)|0,y=y+Math.imul(I,D)|0,$=$+Math.imul(Se,A)|0,f=f+Math.imul(Se,q)|0,f=f+Math.imul(ke,A)|0,y=y+Math.imul(ke,q)|0,$=$+Math.imul(me,X)|0,f=f+Math.imul(me,pe)|0,f=f+Math.imul(we,X)|0,y=y+Math.imul(we,pe)|0;var Je=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Je>>>26)|0,Je&=67108863,$=Math.imul(C,F),f=Math.imul(C,D),f=f+Math.imul(T,F)|0,y=Math.imul(T,D),$=$+Math.imul(N,A)|0,f=f+Math.imul(N,q)|0,f=f+Math.imul(I,A)|0,y=y+Math.imul(I,q)|0,$=$+Math.imul(Se,X)|0,f=f+Math.imul(Se,pe)|0,f=f+Math.imul(ke,X)|0,y=y+Math.imul(ke,pe)|0;var Ze=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,$=Math.imul(C,A),f=Math.imul(C,q),f=f+Math.imul(T,A)|0,y=Math.imul(T,q),$=$+Math.imul(N,X)|0,f=f+Math.imul(N,pe)|0,f=f+Math.imul(I,X)|0,y=y+Math.imul(I,pe)|0;var je=(S+$|0)+((f&8191)<<13)|0;S=(y+(f>>>13)|0)+(je>>>26)|0,je&=67108863,$=Math.imul(C,X),f=Math.imul(C,pe),f=f+Math.imul(T,X)|0,y=Math.imul(T,pe);var _e=(S+$|0)+((f&8191)<<13)|0;return S=(y+(f>>>13)|0)+(_e>>>26)|0,_e&=67108863,w[0]=Te,w[1]=We,w[2]=qe,w[3]=wt,w[4]=He,w[5]=ot,w[6]=st,w[7]=pt,w[8]=ht,w[9]=ut,w[10]=dt,w[11]=ct,w[12]=Ke,w[13]=rt,w[14]=ze,w[15]=Je,w[16]=Ze,w[17]=je,w[18]=_e,S!==0&&(w[19]=S,c.length++),c};Math.imul||(ee=V);function se(E,u,d){d.negative=u.negative^E.negative,d.length=E.length+u.length;for(var c=0,g=0,m=0;m<d.length-1;m++){var w=g;g=0;for(var S=c&67108863,$=Math.min(m,u.length-1),f=Math.max(0,m-E.length+1);f<=$;f++){var y=m-f,B=E.words[y]|0,O=u.words[f]|0,oe=B*O,he=oe&67108863;w=w+(oe/67108864|0)|0,he=he+S|0,S=he&67108863,w=w+(he>>>26)|0,g+=w>>>26,w&=67108863}d.words[m]=S,c=w,w=g}return c!==0?d.words[m]=c:d.length--,d.strip()}function Q(E,u,d){var c=new $e;return c.mulp(E,u,d)}s.prototype.mulTo=function(u,d){var c,g=this.length+u.length;return this.length===10&&u.length===10?c=ee(this,u,d):g<63?c=V(this,u,d):g<1024?c=se(this,u,d):c=Q(this,u,d),c};function $e(E,u){this.x=E,this.y=u}$e.prototype.makeRBT=function(u){for(var d=new Array(u),c=s.prototype._countBits(u)-1,g=0;g<u;g++)d[g]=this.revBin(g,c,u);return d},$e.prototype.revBin=function(u,d,c){if(u===0||u===c-1)return u;for(var g=0,m=0;m<d;m++)g|=(u&1)<<d-m-1,u>>=1;return g},$e.prototype.permute=function(u,d,c,g,m,w){for(var S=0;S<w;S++)g[S]=d[u[S]],m[S]=c[u[S]]},$e.prototype.transform=function(u,d,c,g,m,w){this.permute(w,u,d,c,g,m);for(var S=1;S<m;S<<=1)for(var $=S<<1,f=Math.cos(2*Math.PI/$),y=Math.sin(2*Math.PI/$),B=0;B<m;B+=$)for(var O=f,oe=y,he=0;he<S;he++){var ve=c[B+he],Pe=g[B+he],at=c[B+he+S],Le=g[B+he+S],Ge=O*at-oe*Le;Le=O*Le+oe*at,at=Ge,c[B+he]=ve+at,g[B+he]=Pe+Le,c[B+he+S]=ve-at,g[B+he+S]=Pe-Le,he!==$&&(Ge=f*O-y*oe,oe=f*oe+y*O,O=Ge)}},$e.prototype.guessLen13b=function(u,d){var c=Math.max(d,u)|1,g=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+g},$e.prototype.conjugate=function(u,d,c){if(!(c<=1))for(var g=0;g<c/2;g++){var m=u[g];u[g]=u[c-g-1],u[c-g-1]=m,m=d[g],d[g]=-d[c-g-1],d[c-g-1]=-m}},$e.prototype.normalize13b=function(u,d){for(var c=0,g=0;g<d/2;g++){var m=Math.round(u[2*g+1]/d)*8192+Math.round(u[2*g]/d)+c;u[g]=m&67108863,m<67108864?c=0:c=m/67108864|0}return u},$e.prototype.convert13b=function(u,d,c,g){for(var m=0,w=0;w<d;w++)m=m+(u[w]|0),c[2*w]=m&8191,m=m>>>13,c[2*w+1]=m&8191,m=m>>>13;for(w=2*d;w<g;++w)c[w]=0;o(m===0),o((m&-8192)===0)},$e.prototype.stub=function(u){for(var d=new Array(u),c=0;c<u;c++)d[c]=0;return d},$e.prototype.mulp=function(u,d,c){var g=2*this.guessLen13b(u.length,d.length),m=this.makeRBT(g),w=this.stub(g),S=new Array(g),$=new Array(g),f=new Array(g),y=new Array(g),B=new Array(g),O=new Array(g),oe=c.words;oe.length=g,this.convert13b(u.words,u.length,S,g),this.convert13b(d.words,d.length,y,g),this.transform(S,w,$,f,g,m),this.transform(y,w,B,O,g,m);for(var he=0;he<g;he++){var ve=$[he]*B[he]-f[he]*O[he];f[he]=$[he]*O[he]+f[he]*B[he],$[he]=ve}return this.conjugate($,f,g),this.transform($,f,oe,w,g,m),this.conjugate(oe,w,g),this.normalize13b(oe,g),c.negative=u.negative^d.negative,c.length=u.length+d.length,c.strip()},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),Q(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){o(typeof u=="number"),o(u<67108864);for(var d=0,c=0;c<this.length;c++){var g=(this.words[c]|0)*u,m=(g&67108863)+(d&67108863);d>>=26,d+=g/67108864|0,d+=m>>>26,this.words[c]=m&67108863}return d!==0&&(this.words[c]=d,this.length++),this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=j(u);if(d.length===0)return new s(1);for(var c=this,g=0;g<d.length&&d[g]===0;g++,c=c.sqr());if(++g<d.length)for(var m=c.sqr();g<d.length;g++,m=m.sqr())d[g]!==0&&(c=c.mul(m));return c},s.prototype.iushln=function(u){o(typeof u=="number"&&u>=0);var d=u%26,c=(u-d)/26,g=67108863>>>26-d<<26-d,m;if(d!==0){var w=0;for(m=0;m<this.length;m++){var S=this.words[m]&g,$=(this.words[m]|0)-S<<d;this.words[m]=$|w,w=S>>>26-d}w&&(this.words[m]=w,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},s.prototype.ishln=function(u){return o(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,c){o(typeof u=="number"&&u>=0);var g;d?g=(d-d%26)/26:g=0;var m=u%26,w=Math.min((u-m)/26,this.length),S=67108863^67108863>>>m<<m,$=c;if(g-=w,g=Math.max(0,g),$){for(var f=0;f<w;f++)$.words[f]=this.words[f];$.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=g);f--){var B=this.words[f]|0;this.words[f]=y<<26-m|B>>>m,y=B&S}return $&&y!==0&&($.words[$.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(u,d,c){return o(this.negative===0),this.iushrn(u,d,c)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){o(typeof u=="number"&&u>=0);var d=u%26,c=(u-d)/26,g=1<<d;if(this.length<=c)return!1;var m=this.words[c];return!!(m&g)},s.prototype.imaskn=function(u){o(typeof u=="number"&&u>=0);var d=u%26,c=(u-d)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(d!==0&&c++,this.length=Math.min(c,this.length),d!==0){var g=67108863^67108863>>>d<<d;this.words[this.length-1]&=g}return this.strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return o(typeof u=="number"),o(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(o(typeof u=="number"),o(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,c){var g=u.length+c,m;this._expand(g);var w,S=0;for(m=0;m<u.length;m++){w=(this.words[m+c]|0)+S;var $=(u.words[m]|0)*d;w-=$&67108863,S=(w>>26)-($/67108864|0),this.words[m+c]=w&67108863}for(;m<this.length-c;m++)w=(this.words[m+c]|0)+S,S=w>>26,this.words[m+c]=w&67108863;if(S===0)return this.strip();for(o(S===-1),S=0,m=0;m<this.length;m++)w=-(this.words[m]|0)+S,S=w>>26,this.words[m]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(u,d){var c=this.length-u.length,g=this.clone(),m=u,w=m.words[m.length-1]|0,S=this._countBits(w);c=26-S,c!==0&&(m=m.ushln(c),g.iushln(c),w=m.words[m.length-1]|0);var $=g.length-m.length,f;if(d!=="mod"){f=new s(null),f.length=$+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var B=g.clone()._ishlnsubmul(m,1,$);B.negative===0&&(g=B,f&&(f.words[$]=1));for(var O=$-1;O>=0;O--){var oe=(g.words[m.length+O]|0)*67108864+(g.words[m.length+O-1]|0);for(oe=Math.min(oe/w|0,67108863),g._ishlnsubmul(m,oe,O);g.negative!==0;)oe--,g.negative=0,g._ishlnsubmul(m,1,O),g.isZero()||(g.negative^=1);f&&(f.words[O]=oe)}return f&&f.strip(),g.strip(),d!=="div"&&c!==0&&g.iushrn(c),{div:f||null,mod:g}},s.prototype.divmod=function(u,d,c){if(o(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var g,m,w;return this.negative!==0&&u.negative===0?(w=this.neg().divmod(u,d),d!=="mod"&&(g=w.div.neg()),d!=="div"&&(m=w.mod.neg(),c&&m.negative!==0&&m.iadd(u)),{div:g,mod:m}):this.negative===0&&u.negative!==0?(w=this.divmod(u.neg(),d),d!=="mod"&&(g=w.div.neg()),{div:g,mod:w.mod}):this.negative&u.negative?(w=this.neg().divmod(u.neg(),d),d!=="div"&&(m=w.mod.neg(),c&&m.negative!==0&&m.isub(u)),{div:w.div,mod:m}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var c=d.div.negative!==0?d.mod.isub(u):d.mod,g=u.ushrn(1),m=u.andln(1),w=c.cmp(g);return w<0||m===1&&w===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modn=function(u){o(u<=67108863);for(var d=(1<<26)%u,c=0,g=this.length-1;g>=0;g--)c=(d*c+(this.words[g]|0))%u;return c},s.prototype.idivn=function(u){o(u<=67108863);for(var d=0,c=this.length-1;c>=0;c--){var g=(this.words[c]|0)+d*67108864;this.words[c]=g/u|0,d=g%u}return this.strip()},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){o(u.negative===0),o(!u.isZero());var d=this,c=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new s(1),m=new s(0),w=new s(0),S=new s(1),$=0;d.isEven()&&c.isEven();)d.iushrn(1),c.iushrn(1),++$;for(var f=c.clone(),y=d.clone();!d.isZero();){for(var B=0,O=1;!(d.words[0]&O)&&B<26;++B,O<<=1);if(B>0)for(d.iushrn(B);B-- >0;)(g.isOdd()||m.isOdd())&&(g.iadd(f),m.isub(y)),g.iushrn(1),m.iushrn(1);for(var oe=0,he=1;!(c.words[0]&he)&&oe<26;++oe,he<<=1);if(oe>0)for(c.iushrn(oe);oe-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(f),S.isub(y)),w.iushrn(1),S.iushrn(1);d.cmp(c)>=0?(d.isub(c),g.isub(w),m.isub(S)):(c.isub(d),w.isub(g),S.isub(m))}return{a:w,b:S,gcd:c.iushln($)}},s.prototype._invmp=function(u){o(u.negative===0),o(!u.isZero());var d=this,c=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var g=new s(1),m=new s(0),w=c.clone();d.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,$=1;!(d.words[0]&$)&&S<26;++S,$<<=1);if(S>0)for(d.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);for(var f=0,y=1;!(c.words[0]&y)&&f<26;++f,y<<=1);if(f>0)for(c.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);d.cmp(c)>=0?(d.isub(c),g.isub(m)):(c.isub(d),m.isub(g))}var B;return d.cmpn(1)===0?B=g:B=m,B.cmpn(0)<0&&B.iadd(u),B},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),c=u.clone();d.negative=0,c.negative=0;for(var g=0;d.isEven()&&c.isEven();g++)d.iushrn(1),c.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=d.cmp(c);if(m<0){var w=d;d=c,c=w}else if(m===0||c.cmpn(1)===0)break;d.isub(c)}while(!0);return c.iushln(g)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){o(typeof u=="number");var d=u%26,c=(u-d)/26,g=1<<d;if(this.length<=c)return this._expand(c+1),this.words[c]|=g,this;for(var m=g,w=c;m!==0&&w<this.length;w++){var S=this.words[w]|0;S+=m,m=S>>>26,S&=67108863,this.words[w]=S}return m!==0&&(this.words[w]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var c;if(this.length>1)c=1;else{d&&(u=-u),o(u<=67108863,"Number is too big");var g=this.words[0]|0;c=g===u?0:g<u?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,c=this.length-1;c>=0;c--){var g=this.words[c]|0,m=u.words[c]|0;if(g!==m){g<m?d=-1:g>m&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new H(u)},s.prototype.toRed=function(u){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return o(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return o(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var Ie={k256:null,p224:null,p192:null,p25519:null};function ye(E,u){this.name=E,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ye.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},ye.prototype.ireduce=function(u){var d=u,c;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),c=d.bitLength();while(c>this.n);var g=c<this.n?-1:d.ucmp(this.p);return g===0?(d.words[0]=0,d.length=1):g>0?d.isub(this.p):d.strip(),d},ye.prototype.split=function(u,d){u.iushrn(this.n,0,d)},ye.prototype.imulK=function(u){return u.imul(this.k)};function G(){ye.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(G,ye),G.prototype.split=function(u,d){for(var c=4194303,g=Math.min(u.length,9),m=0;m<g;m++)d.words[m]=u.words[m];if(d.length=g,u.length<=9){u.words[0]=0,u.length=1;return}var w=u.words[9];for(d.words[d.length++]=w&c,m=10;m<u.length;m++){var S=u.words[m]|0;u.words[m-10]=(S&c)<<4|w>>>22,w=S}w>>>=22,u.words[m-10]=w,w===0&&u.length>10?u.length-=10:u.length-=9},G.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,c=0;c<u.length;c++){var g=u.words[c]|0;d+=g*977,u.words[c]=d&67108863,d=g*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function J(){ye.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,ye);function le(){ye.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(le,ye);function ae(){ye.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ae,ye),ae.prototype.imulK=function(u){for(var d=0,c=0;c<u.length;c++){var g=(u.words[c]|0)*19+d,m=g&67108863;g>>>=26,u.words[c]=m,d=g}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(Ie[u])return Ie[u];var d;if(u==="k256")d=new G;else if(u==="p224")d=new J;else if(u==="p192")d=new le;else if(u==="p25519")d=new ae;else throw new Error("Unknown prime "+u);return Ie[u]=d,d};function H(E){if(typeof E=="string"){var u=s._prime(E);this.m=u.p,this.prime=u}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}H.prototype._verify1=function(u){o(u.negative===0,"red works only with positives"),o(u.red,"red works only with red numbers")},H.prototype._verify2=function(u,d){o((u.negative|d.negative)===0,"red works only with positives"),o(u.red&&u.red===d.red,"red works only with red numbers")},H.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},H.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},H.prototype.add=function(u,d){this._verify2(u,d);var c=u.add(d);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},H.prototype.iadd=function(u,d){this._verify2(u,d);var c=u.iadd(d);return c.cmp(this.m)>=0&&c.isub(this.m),c},H.prototype.sub=function(u,d){this._verify2(u,d);var c=u.sub(d);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},H.prototype.isub=function(u,d){this._verify2(u,d);var c=u.isub(d);return c.cmpn(0)<0&&c.iadd(this.m),c},H.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},H.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},H.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},H.prototype.isqr=function(u){return this.imul(u,u.clone())},H.prototype.sqr=function(u){return this.mul(u,u)},H.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(o(d%2===1),d===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(u,c)}for(var g=this.m.subn(1),m=0;!g.isZero()&&g.andln(1)===0;)m++,g.iushrn(1);o(!g.isZero());var w=new s(1).toRed(this),S=w.redNeg(),$=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,$).cmp(S)!==0;)f.redIAdd(S);for(var y=this.pow(f,g),B=this.pow(u,g.addn(1).iushrn(1)),O=this.pow(u,g),oe=m;O.cmp(w)!==0;){for(var he=O,ve=0;he.cmp(w)!==0;ve++)he=he.redSqr();o(ve<oe);var Pe=this.pow(y,new s(1).iushln(oe-ve-1));B=B.redMul(Pe),y=Pe.redSqr(),O=O.redMul(y),oe=ve}return B},H.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},H.prototype.pow=function(u,d){if(d.isZero())return new s(1);if(d.cmpn(1)===0)return u.clone();var c=4,g=new Array(1<<c);g[0]=new s(1).toRed(this),g[1]=u;for(var m=2;m<g.length;m++)g[m]=this.mul(g[m-1],u);var w=g[0],S=0,$=0,f=d.bitLength()%26;for(f===0&&(f=26),m=d.length-1;m>=0;m--){for(var y=d.words[m],B=f-1;B>=0;B--){var O=y>>B&1;if(w!==g[0]&&(w=this.sqr(w)),O===0&&S===0){$=0;continue}S<<=1,S|=O,$++,!($!==c&&(m!==0||B!==0))&&(w=this.mul(w,g[S]),$=0,S=0)}f=26}return w},H.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},H.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new te(u)};function te(E){H.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(te,H),te.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},te.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},te.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var c=u.imul(d),g=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(g).iushrn(this.shift),w=m;return m.cmp(this.m)>=0?w=m.isub(this.m):m.cmpn(0)<0&&(w=m.iadd(this.m)),w._forceRed(this)},te.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var c=u.mul(d),g=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(g).iushrn(this.shift),w=m;return m.cmp(this.m)>=0?w=m.isub(this.m):m.cmpn(0)<0&&(w=m.iadd(this.m)),w._forceRed(this)},te.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)})(bn);var src$3=function e(r){if(typeof r!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof r+", while checking isHexPrefixed.");return r.slice(0,2)==="0x"},isHexPrefixed=src$3,src$2=function e(r){return typeof r!="string"?r:isHexPrefixed(r)?r.slice(2):r},BN$k=bnExports,stripHexPrefix=src$2,src$1=function e(r){if(typeof r=="string"||typeof r=="number"){var n=new BN$k(1),o=String(r).toLowerCase().trim(),a=o.substr(0,2)==="0x"||o.substr(0,3)==="-0x",s=stripHexPrefix(o);if(s.substr(0,1)==="-"&&(s=stripHexPrefix(s.slice(1)),n=new BN$k(-1,10)),s=s===""?"0":s,!s.match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||a===!0&&s.match(/^[0-9A-Fa-f]+$/))return new BN$k(s,16).mul(n);if((s.match(/^-?[0-9]+$/)||s==="")&&a===!1)return new BN$k(s,10).mul(n)}else if(typeof r=="object"&&r.toString&&!r.pop&&!r.push&&r.toString(10).match(/^-?[0-9]+$/)&&(r.mul||r.dividedToIntegerBy))return new BN$k(r.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(r)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},BN$j=bnExports$1,numberToBN=src$1,zero$2=new BN$j(0),negative1=new BN$j(-1),unitMap={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function getValueOfUnit(e){var r=e?e.toLowerCase():"ether",n=unitMap[r];if(typeof n!="string")throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(unitMap,null,2));return new BN$j(n,10)}function numberToString(e){if(typeof e=="string"){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}else{if(typeof e=="number")return String(e);if(typeof e=="object"&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10)}throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}function fromWei(e,r,n){var o=numberToBN(e),a=o.lt(zero$2),s=getValueOfUnit(r),l=unitMap[r].length-1||1,h=n||{};a&&(o=o.mul(negative1));for(var v=o.mod(s).toString(10);v.length<l;)v="0"+v;h.pad||(v=v.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var x=o.div(s).toString(10);h.commify&&(x=x.replace(/\B(?=(\d{3})+(?!\d))/g,","));var M=""+x+(v=="0"?"":"."+v);return a&&(M="-"+M),M}function toWei(e,r){var n=numberToString(e),o=getValueOfUnit(r),a=unitMap[r].length-1||1,s=n.substring(0,1)==="-";if(s&&(n=n.substring(1)),n===".")throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var l=n.split(".");if(l.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var h=l[0],v=l[1];if(h||(h="0"),v||(v="0"),v.length>a)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;v.length<a;)v+="0";h=new BN$j(h),v=new BN$j(v);var x=h.mul(o).add(v);return s&&(x=x.mul(negative1)),new BN$j(x.toString(10),10)}var lib={unitMap,numberToString,getValueOfUnit,fromWei,toWei};/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */(function(e,r){typeof define=="function"&&define.amd?define([],function(){return r(e)}):typeof module=="object"&&module.exports?module.exports=r(e):r(e)})(typeof self<"u"?self:globalThis,function(e){if(typeof Promise!="function")throw"Promise support required";var r=e.crypto||e.msCrypto;if(!r)return;var n=r.subtle||r.webkitSubtle;if(!n)return;var o=e.Crypto||r.constructor||Object,a=e.SubtleCrypto||n.constructor||Object;e.CryptoKey||e.Key;var s=e.navigator.userAgent.indexOf("Edge/")>-1,l=!!e.msCrypto&&!s,h=!r.subtle&&!!r.webkitSubtle;if(!l&&!h)return;function v(E){return btoa(E).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function x(E){return E+="===",E=E.slice(0,-E.length%4),atob(E.replace(/-/g,"+").replace(/_/g,"/"))}function M(E){for(var u=new Uint8Array(E.length),d=0;d<E.length;d++)u[d]=E.charCodeAt(d);return u}function P(E){return E instanceof ArrayBuffer&&(E=new Uint8Array(E)),String.fromCharCode.apply(String,E)}function j(E){var u={name:(E.name||E||"").toUpperCase().replace("V","v")};switch(u.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":E.length&&(u.length=E.length);break;case"HMAC":E.hash&&(u.hash=j(E.hash)),E.length&&(u.length=E.length);break;case"RSAES-PKCS1-v1_5":E.publicExponent&&(u.publicExponent=new Uint8Array(E.publicExponent)),E.modulusLength&&(u.modulusLength=E.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":E.hash&&(u.hash=j(E.hash)),E.publicExponent&&(u.publicExponent=new Uint8Array(E.publicExponent)),E.modulusLength&&(u.modulusLength=E.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return u}function V(E){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[E.name][(E.hash||{}).name||E.length||""]}function ee(E){(E instanceof ArrayBuffer||E instanceof Uint8Array)&&(E=JSON.parse(decodeURIComponent(escape(P(E)))));var u={kty:E.kty,alg:E.alg,ext:E.ext||E.extractable};switch(u.kty){case"oct":u.k=E.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(d){d in E&&(u[d]=E[d])});break;default:throw new TypeError("Unsupported key type")}return u}function se(E){var u=ee(E);return l&&(u.extractable=u.ext,delete u.ext),M(unescape(encodeURIComponent(JSON.stringify(u)))).buffer}function Q(E){var u=G(E),d=!1;u.length>2&&(d=!0,u.shift());var c={ext:!0};switch(u[0][0]){case"1.2.840.113549.1.1.1":var g=["n","e","d","p","q","dp","dq","qi"],m=G(u[1]);d&&m.shift();for(var w=0;w<m.length;w++)m[w][0]||(m[w]=m[w].subarray(1)),c[g[w]]=v(P(m[w]));c.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return c}function $e(E){var u,d=[["",null]],c=!1;switch(E.kty){case"RSA":for(var g=["n","e","d","p","q","dp","dq","qi"],m=[],w=0;w<g.length&&g[w]in E;w++){var S=m[w]=M(x(E[g[w]]));S[0]&128&&(m[w]=new Uint8Array(S.length+1),m[w].set(S,1))}m.length>2&&(c=!0,m.unshift(new Uint8Array([0]))),d[0][0]="1.2.840.113549.1.1.1",u=m;break;default:throw new TypeError("Unsupported key type")}return d.push(new Uint8Array(J(u)).buffer),c?d.unshift(new Uint8Array([0])):d[1]={tag:3,value:d[1]},new Uint8Array(J(d)).buffer}var Ie={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},ye={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};function G(E,u){if(E instanceof ArrayBuffer&&(E=new Uint8Array(E)),u||(u={pos:0,end:E.length}),u.end-u.pos<2||u.end>E.length)throw new RangeError("Malformed DER");var d=E[u.pos++],c=E[u.pos++];if(c>=128){if(c&=127,u.end-u.pos<c)throw new RangeError("Malformed DER");for(var g=0;c--;)g<<=8,g|=E[u.pos++];c=g}if(u.end-u.pos<c)throw new RangeError("Malformed DER");var m;switch(d){case 2:m=E.subarray(u.pos,u.pos+=c);break;case 3:if(E[u.pos++])throw new Error("Unsupported bit string");c--;case 4:m=new Uint8Array(E.subarray(u.pos,u.pos+=c)).buffer;break;case 5:m=null;break;case 6:var w=btoa(P(E.subarray(u.pos,u.pos+=c)));if(!(w in Ie))throw new Error("Unsupported OBJECT ID "+w);m=Ie[w];break;case 48:m=[];for(var S=u.pos+c;u.pos<S;)m.push(G(E,u));break;default:throw new Error("Unsupported DER tag 0x"+d.toString(16))}return m}function J(E,u){u||(u=[]);var d=0,c=0,g=u.length+2;if(u.push(0,0),E instanceof Uint8Array){d=2,c=E.length;for(var m=0;m<c;m++)u.push(E[m])}else if(E instanceof ArrayBuffer){d=4,c=E.byteLength,E=new Uint8Array(E);for(var m=0;m<c;m++)u.push(E[m])}else if(E===null)d=5,c=0;else if(typeof E=="string"&&E in ye){var w=M(atob(ye[E]));d=6,c=w.length;for(var m=0;m<c;m++)u.push(w[m])}else if(E instanceof Array){for(var m=0;m<E.length;m++)J(E[m],u);d=48,c=u.length-g}else if(typeof E=="object"&&E.tag===3&&E.value instanceof ArrayBuffer){E=new Uint8Array(E.value),d=3,c=E.byteLength,u.push(0);for(var m=0;m<c;m++)u.push(E[m]);c++}else throw new Error("Unsupported DER value "+E);if(c>=128){var S=c,c=4;for(u.splice(g,0,S>>24&255,S>>16&255,S>>8&255,S&255);c>1&&!(S>>24);)S<<=8,c--;c<4&&u.splice(g,4-c),c|=128}return u.splice(g-2,2,d,c),u}function le(E,u,d,c){Object.defineProperties(this,{_key:{value:E},type:{value:E.type,enumerable:!0},extractable:{value:d===void 0?E.extractable:d,enumerable:!0},algorithm:{value:u===void 0?E.algorithm:u,enumerable:!0},usages:{value:c===void 0?E.usages:c,enumerable:!0}})}function ae(E){return E==="verify"||E==="encrypt"||E==="wrapKey"}function H(E){return E==="sign"||E==="decrypt"||E==="unwrapKey"}if(["generateKey","importKey","unwrapKey"].forEach(function(E){var u=n[E];n[E]=function(d,c,g){var m=[].slice.call(arguments),w,S,$;switch(E){case"generateKey":w=j(d),S=c,$=g;break;case"importKey":w=j(g),S=m[3],$=m[4],d==="jwk"&&(c=ee(c),c.alg||(c.alg=V(w)),c.key_ops||(c.key_ops=c.kty!=="oct"?"d"in c?$.filter(H):$.filter(ae):$.slice()),m[1]=se(c));break;case"unwrapKey":w=m[4],S=m[5],$=m[6],m[2]=g._key;break}if(E==="generateKey"&&w.name==="HMAC"&&w.hash)return w.length=w.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[w.hash.name],n.importKey("raw",r.getRandomValues(new Uint8Array(w.length+7>>3)),w,S,$);if(h&&E==="generateKey"&&w.name==="RSASSA-PKCS1-v1_5"&&(!w.modulusLength||w.modulusLength>=2048))return d=j(d),d.name="RSAES-PKCS1-v1_5",delete d.hash,n.generateKey(d,!0,["encrypt","decrypt"]).then(function(y){return Promise.all([n.exportKey("jwk",y.publicKey),n.exportKey("jwk",y.privateKey)])}).then(function(y){return y[0].alg=y[1].alg=V(w),y[0].key_ops=$.filter(ae),y[1].key_ops=$.filter(H),Promise.all([n.importKey("jwk",y[0],w,!0,y[0].key_ops),n.importKey("jwk",y[1],w,S,y[1].key_ops)])}).then(function(y){return{publicKey:y[0],privateKey:y[1]}});if((h||l&&(w.hash||{}).name==="SHA-1")&&E==="importKey"&&d==="jwk"&&w.name==="HMAC"&&c.kty==="oct")return n.importKey("raw",M(x(c.k)),g,m[3],m[4]);if(h&&E==="importKey"&&(d==="spki"||d==="pkcs8"))return n.importKey("jwk",Q(c),g,m[3],m[4]);if(l&&E==="unwrapKey")return n.decrypt(m[3],g,c).then(function(y){return n.importKey(d,y,m[4],m[5],m[6])});var f;try{f=u.apply(n,m)}catch(y){return Promise.reject(y)}return l&&(f=new Promise(function(y,B){f.onabort=f.onerror=function(O){B(O)},f.oncomplete=function(O){y(O.target.result)}})),f=f.then(function(y){return w.name==="HMAC"&&(w.length||(w.length=8*y.algorithm.length)),w.name.search("RSA")==0&&(w.modulusLength||(w.modulusLength=(y.publicKey||y).algorithm.modulusLength),w.publicExponent||(w.publicExponent=(y.publicKey||y).algorithm.publicExponent)),y.publicKey&&y.privateKey?y={publicKey:new le(y.publicKey,w,S,$.filter(ae)),privateKey:new le(y.privateKey,w,S,$.filter(H))}:y=new le(y,w,S,$),y}),f}}),["exportKey","wrapKey"].forEach(function(E){var u=n[E];n[E]=function(d,c,g){var m=[].slice.call(arguments);switch(E){case"exportKey":m[1]=c._key;break;case"wrapKey":m[1]=c._key,m[2]=g._key;break}if((h||l&&(c.algorithm.hash||{}).name==="SHA-1")&&E==="exportKey"&&d==="jwk"&&c.algorithm.name==="HMAC"&&(m[0]="raw"),h&&E==="exportKey"&&(d==="spki"||d==="pkcs8")&&(m[0]="jwk"),l&&E==="wrapKey")return n.exportKey(d,c).then(function(S){return d==="jwk"&&(S=M(unescape(encodeURIComponent(JSON.stringify(ee(S)))))),n.encrypt(m[3],g,S)});var w;try{w=u.apply(n,m)}catch(S){return Promise.reject(S)}return l&&(w=new Promise(function(S,$){w.onabort=w.onerror=function(f){$(f)},w.oncomplete=function(f){S(f.target.result)}})),E==="exportKey"&&d==="jwk"&&(w=w.then(function(S){return(h||l&&(c.algorithm.hash||{}).name==="SHA-1")&&c.algorithm.name==="HMAC"?{kty:"oct",alg:V(c.algorithm),key_ops:c.usages.slice(),ext:!0,k:v(P(S))}:(S=ee(S),S.alg||(S.alg=V(c.algorithm)),S.key_ops||(S.key_ops=c.type==="public"?c.usages.filter(ae):c.type==="private"?c.usages.filter(H):c.usages.slice()),S)})),h&&E==="exportKey"&&(d==="spki"||d==="pkcs8")&&(w=w.then(function(S){return S=$e(ee(S)),S})),w}}),["encrypt","decrypt","sign","verify"].forEach(function(E){var u=n[E];n[E]=function(d,c,g,m){if(l&&(!g.byteLength||m&&!m.byteLength))throw new Error("Empy input is not allowed");var w=[].slice.call(arguments),S=j(d);if(l&&E==="decrypt"&&S.name==="AES-GCM"){var $=d.tagLength>>3;w[2]=(g.buffer||g).slice(0,g.byteLength-$),d.tag=(g.buffer||g).slice(g.byteLength-$)}w[1]=c._key;var f;try{f=u.apply(n,w)}catch(y){return Promise.reject(y)}return l&&(f=new Promise(function(y,B){f.onabort=f.onerror=function(O){B(O)},f.oncomplete=function(oe){var oe=oe.target.result;if(E==="encrypt"&&oe instanceof AesGcmEncryptResult){var he=oe.ciphertext,ve=oe.tag;oe=new Uint8Array(he.byteLength+ve.byteLength),oe.set(new Uint8Array(he),0),oe.set(new Uint8Array(ve),he.byteLength),oe=oe.buffer}y(oe)}})),f}}),l){var te=n.digest;n.digest=function(E,u){if(!u.byteLength)throw new Error("Empy input is not allowed");var d;try{d=te.call(n,E,u)}catch(c){return Promise.reject(c)}return d=new Promise(function(c,g){d.onabort=d.onerror=function(m){g(m)},d.oncomplete=function(m){c(m.target.result)}}),d},e.crypto=Object.create(r,{getRandomValues:{value:function(E){return r.getRandomValues(E)}},subtle:{value:n}}),e.CryptoKey=le}h&&(r.subtle=n,e.Crypto=o,e.SubtleCrypto=a,e.CryptoKey=le)});const browser$1=window.crypto,browser$2=Object.freeze(Object.defineProperty({__proto__:null,default:browser$1},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(browser$2),BN$i=bnExports$2,nacl$6=naclFastExports,ethunit=lib,isCryptoAvailable=typeof self<"u"&&self.crypto&&self.crypto.subtle;let myCrypto=null;isCryptoAvailable||(myCrypto=require$$3$1);function sha256$7(e){return isCryptoAvailable?crypto.subtle.digest("SHA-256",e):myCrypto.subtle.digest({name:"SHA-256"},e)}function toNano$4(e){if(!BN$i.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return ethunit.toWei(e,"gwei")}function fromNano$2(e){if(!BN$i.isBN(e)&&typeof e!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return ethunit.fromWei(e,"gwei")}const to_hex_array=[],to_byte_map={};for(let e=0;e<=255;e++){let r=e.toString(16);r.length<2&&(r="0"+r),to_hex_array.push(r),to_byte_map[r]=e}function bytesToHex$d(e){const r=[];for(let n=0;n<e.byteLength;n++)r.push(to_hex_array[e[n]]);return r.join("")}function hexToBytes$8(e){e=e.toLowerCase();const r=e.length;if(r%2!==0)throw"hex string must have length a multiple of 2";const n=r/2,o=new Uint8Array(n);for(let a=0;a<n;a++){const s=a*2,l=e.substring(s,s+2);if(!to_byte_map.hasOwnProperty(l))throw new Error("invalid hex character "+l);o[a]=to_byte_map[l]}return o}function stringToBytes$4(e,r=1){let n,o;r===1&&(n=new ArrayBuffer(e.length),o=new Uint8Array(n)),r===2&&(n=new ArrayBuffer(e.length*2),o=new Uint16Array(n)),r===4&&(n=new ArrayBuffer(e.length*4),o=new Uint32Array(n));for(let a=0,s=e.length;a<s;a++)o[a]=e.charCodeAt(a);return new Uint8Array(o.buffer)}function _crc32c(e,r){e^=4294967295;for(let o=0;o<r.length;o++)e^=r[o],e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1,e=e&1?e>>>1^2197175160:e>>>1;return e^4294967295}function crc32c$4(e){const r=_crc32c(0,e),n=new ArrayBuffer(4);return new DataView(n).setUint32(0,r,!1),new Uint8Array(n).reverse()}function crc16$5(e){let n=0;const o=new Uint8Array(e.length+2);o.set(e);for(let a of o){let s=128;for(;s>0;)n<<=1,a&s&&(n+=1),s>>=1,n>65535&&(n&=65535,n^=4129)}return new Uint8Array([Math.floor(n/256),n%256])}function concatBytes$2(e,r){const n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),n}function compareBytes$2(e,r){return e.toString()===r.toString()}const base64abc=(()=>{const e=[],r="A".charCodeAt(0),n="a".charCodeAt(0),o="0".charCodeAt(0);for(let a=0;a<26;++a)e.push(String.fromCharCode(r+a));for(let a=0;a<26;++a)e.push(String.fromCharCode(n+a));for(let a=0;a<10;++a)e.push(String.fromCharCode(o+a));return e.push("+"),e.push("/"),e})();function bytesToBase64$8(e){let r="",n;const o=e.length;for(n=2;n<o;n+=3)r+=base64abc[e[n-2]>>2],r+=base64abc[(e[n-2]&3)<<4|e[n-1]>>4],r+=base64abc[(e[n-1]&15)<<2|e[n]>>6],r+=base64abc[e[n]&63];return n===o+1&&(r+=base64abc[e[n-2]>>2],r+=base64abc[(e[n-2]&3)<<4],r+="=="),n===o&&(r+=base64abc[e[n-2]>>2],r+=base64abc[(e[n-2]&3)<<4|e[n-1]>>4],r+=base64abc[(e[n-1]&15)<<2],r+="="),r}function base64toString$2(e){return typeof self>"u"?Buffer.from(e,"base64").toString("binary"):atob(e)}function stringToBase64$2(e){return typeof self>"u"?Buffer.from(e,"binary").toString("base64"):btoa(e)}function base64ToBytes$4(e){const r=base64toString$2(e),n=r.length,o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=r.charCodeAt(a);return o}function readNBytesUIntFromArray$2(e,r){let n=0;for(let o=0;o<e;o++)n*=256,n+=r[o];return n}function keyPairFromSeed$2(e){return nacl$6.sign.keyPair.fromSeed(e)}function newKeyPair$1(){return nacl$6.sign.keyPair()}function newSeed$1(){return nacl$6.sign.keyPair().secretKey.slice(0,32)}var Utils={BN:BN$i,nacl:nacl$6,sha256:sha256$7,fromNano:fromNano$2,toNano:toNano$4,bytesToHex:bytesToHex$d,hexToBytes:hexToBytes$8,stringToBytes:stringToBytes$4,crc32c:crc32c$4,crc16:crc16$5,concatBytes:concatBytes$2,bytesToBase64:bytesToBase64$8,base64ToBytes:base64ToBytes$4,base64toString:base64toString$2,stringToBase64:stringToBase64$2,compareBytes:compareBytes$2,readNBytesUIntFromArray:readNBytesUIntFromArray$2,keyPairFromSeed:keyPairFromSeed$2,newKeyPair:newKeyPair$1,newSeed:newSeed$1},Address$h={};const{crc16:crc16$4,hexToBytes:hexToBytes$7,bytesToHex:bytesToHex$c,stringToBytes:stringToBytes$3,base64toString:base64toString$1,stringToBase64:stringToBase64$1}=Utils,bounceable_tag$1=17,non_bounceable_tag$1=81,test_flag$1=128;function parseFriendlyAddress$1(e){if(e.length!==48)throw new Error("User-friendly address should contain strictly 48 characters");const r=stringToBytes$3(base64toString$1(e));if(r.length!==36)throw"Unknown address type: byte length is not equal to 36";const n=r.slice(0,34),o=r.slice(34,36),a=crc16$4(n);if(!(a[0]===o[0]&&a[1]===o[1]))throw"Wrong crc16 hashsum";let s=n[0],l=!1,h=!1;if(s&test_flag$1&&(l=!0,s=s^test_flag$1),s!==bounceable_tag$1&&s!==non_bounceable_tag$1)throw"Unknown address tag";h=s===bounceable_tag$1;let v=null;if(n[1]===255?v=-1:v=n[1],v!==0&&v!==-1)throw new Error("Invalid address wc "+v);const x=n.slice(2,34);return{isTestOnly:l,isBounceable:h,workchain:v,hashPart:x}}let Address$g=class Yt{static isValid(r){try{return new Yt(r),!0}catch{return!1}}constructor(r){if(r==null)throw"Invalid address";if(r instanceof Yt){this.wc=r.wc,this.hashPart=r.hashPart,this.isTestOnly=r.isTestOnly,this.isUserFriendly=r.isUserFriendly,this.isBounceable=r.isBounceable,this.isUrlSafe=r.isUrlSafe;return}if(r.search(/\-/)>0||r.search(/_/)>0?(this.isUrlSafe=!0,r=r.replace(/\-/g,"+").replace(/_/g,"/")):this.isUrlSafe=!1,r.indexOf(":")>-1){const n=r.split(":");if(n.length!==2)throw new Error("Invalid address "+r);const o=parseInt(n[0]);if(o!==0&&o!==-1)throw new Error("Invalid address wc "+r);const a=n[1];if(a.length!==64)throw new Error("Invalid address hex "+r);this.isUserFriendly=!1,this.wc=o,this.hashPart=hexToBytes$7(a),this.isTestOnly=!1,this.isBounceable=!1}else{this.isUserFriendly=!0;const n=parseFriendlyAddress$1(r);this.wc=n.workchain,this.hashPart=n.hashPart,this.isTestOnly=n.isTestOnly,this.isBounceable=n.isBounceable}}toString(r,n,o,a){if(r===void 0&&(r=this.isUserFriendly),n===void 0&&(n=this.isUrlSafe),o===void 0&&(o=this.isBounceable),a===void 0&&(a=this.isTestOnly),r){let s=o?bounceable_tag$1:non_bounceable_tag$1;a&&(s|=test_flag$1);const l=new Int8Array(34);l[0]=s,l[1]=this.wc,l.set(this.hashPart,2);const h=new Uint8Array(36);h.set(l),h.set(crc16$4(l),34);let v=stringToBase64$1(String.fromCharCode.apply(null,new Uint8Array(h)));return n&&(v=v.replace(/\+/g,"-").replace(/\//g,"_")),v}else return this.wc+":"+bytesToHex$c(this.hashPart)}};Address$h.default=Address$g;var AdnlAddress$3={};const{hexToBytes:hexToBytes$6,bytesToHex:bytesToHex$b}=Utils;let AdnlAddress$2=class Jt{static isValid(r){try{return new Jt(r),!0}catch{return!1}}constructor(r){if(r==null)throw"Invalid address";if(r instanceof Jt)this.bytes=r.bytes;else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("invalid adnl bytes length");this.bytes=r}else if(typeof r=="string"){if(r.length!==64)throw new Error("invalid adnl hex length");this.bytes=hexToBytes$6(r)}else throw new Error("unsupported type")}toHex(){let r=bytesToHex$b(this.bytes);for(;r.length<64;)r="0"+r;return r}};AdnlAddress$3.default=AdnlAddress$2;var StorageBagId$3={};const{hexToBytes:hexToBytes$5,bytesToHex:bytesToHex$a}=Utils;let StorageBagId$2=class Xt{static isValid(r){try{return new Xt(r),!0}catch{return!1}}constructor(r){if(r==null)throw"Invalid address";if(r instanceof Xt)this.bytes=r.bytes;else if(r instanceof Uint8Array){if(r.length!==32)throw new Error("invalid bag id bytes length");this.bytes=r}else if(typeof r=="string"){if(r.length!==64)throw new Error("invalid bag id hex length");this.bytes=hexToBytes$5(r)}else throw new Error("unsupported type")}toHex(){let r=bytesToHex$a(this.bytes);for(;r.length<64;)r="0"+r;return r}};StorageBagId$3.default=StorageBagId$2;const{BN:BN$h,nacl:nacl$5,sha256:sha256$6,fromNano:fromNano$1,toNano:toNano$3,bytesToHex:bytesToHex$9,hexToBytes:hexToBytes$4,stringToBytes:stringToBytes$2,crc32c:crc32c$3,crc16:crc16$3,concatBytes:concatBytes$1,bytesToBase64:bytesToBase64$7,base64ToBytes:base64ToBytes$3,base64toString,stringToBase64,compareBytes:compareBytes$1,readNBytesUIntFromArray:readNBytesUIntFromArray$1,keyPairFromSeed:keyPairFromSeed$1,newKeyPair,newSeed}=Utils,Address$f=Address$h.default,AdnlAddress$1=AdnlAddress$3.default,StorageBagId$1=StorageBagId$3.default;function parseTransferUrl(e){const r="ton://transfer/";if(!e.startsWith(r))throw new Error("must starts with "+r);const n=e.substring(r.length).split("?");if(n.length>2)throw new Error('multiple "?"');const o=n[0];if(!Address$f.isValid(o))throw new Error("invalid address format "+o);const a={address:o},s=n[1];if(s&&s.length){const l=s.split("&").map(h=>h.split("="));for(const h of l){if(h.length!==2)throw new Error("invalid url pair");const v=h[0],x=h[1];if(v==="amount"){if(a.amount)throw new Error("amount already set");if(new BN$h(x).isNeg())throw new Error("negative amount");a.amount=x}else if(v==="text"){if(a.text)throw new Error("text already set");a.text=decodeURIComponent(x)}else throw new Error("unknown url var "+v)}}return a}function formatTransferUrl(e,r,n){let o="ton://transfer/"+e;const a=[];return r&&a.push("amount="+r),n&&a.push("text="+encodeURIComponent(n)),a.length===0?o:o+"?"+a.join("&")}var utils$b={Address:Address$f,AdnlAddress:AdnlAddress$1,StorageBagId:StorageBagId$1,BN:BN$h,nacl:nacl$5,sha256:sha256$6,fromNano:fromNano$1,toNano:toNano$3,bytesToHex:bytesToHex$9,hexToBytes:hexToBytes$4,stringToBytes:stringToBytes$2,crc32c:crc32c$3,crc16:crc16$3,concatBytes:concatBytes$1,bytesToBase64:bytesToBase64$7,base64ToBytes:base64ToBytes$3,base64toString,stringToBase64,compareBytes:compareBytes$1,readNBytesUIntFromArray:readNBytesUIntFromArray$1,parseTransferUrl,formatTransferUrl,keyPairFromSeed:keyPairFromSeed$1,newKeyPair,newSeed};const{BN:BN$g,bytesToHex:bytesToHex$8}=utils$b;let BitString$4=class Qt{constructor(r){this.array=Uint8Array.from({length:Math.ceil(r/8)},()=>0),this.cursor=0,this.length=r}getFreeBits(){return this.length-this.cursor}getUsedBits(){return this.cursor}getUsedBytes(){return Math.ceil(this.cursor/8)}get(r){return(this.array[r/8|0]&1<<7-r%8)>0}checkRange(r){if(r>this.length)throw Error("BitString overflow")}on(r){this.checkRange(r),this.array[r/8|0]|=1<<7-r%8}off(r){this.checkRange(r),this.array[r/8|0]&=~(1<<7-r%8)}toggle(r){this.checkRange(r),this.array[r/8|0]^=1<<7-r%8}forEach(r){const n=this.cursor;for(let o=0;o<n;o++)r(this.get(o))}writeBit(r){r&&r>0?this.on(this.cursor):this.off(this.cursor),this.cursor=this.cursor+1}writeBitArray(r){for(let n=0;n<r.length;n++)this.writeBit(r[n])}writeUint(r,n){if(r=new BN$g(r),n==0||r.toString(2).length>n){if(r==0)return;throw Error("bitLength is too small for number, got number="+r+",bitLength="+n)}const o=r.toString(2,n);for(let a=0;a<n;a++)this.writeBit(o[a]==1)}writeInt(r,n){if(r=new BN$g(r),n==1){if(r==-1){this.writeBit(!0);return}if(r==0){this.writeBit(!1);return}throw Error("Bitlength is too small for number")}else if(r.isNeg()){this.writeBit(!0);const a=new BN$g(2).pow(new BN$g(n-1));this.writeUint(a.add(r),n-1)}else this.writeBit(!1),this.writeUint(r,n-1)}writeUint8(r){this.writeUint(r,8)}writeBytes(r){for(let n=0;n<r.length;n++)this.writeUint8(r[n])}writeString(r){this.writeBytes(new TextEncoder().encode(r))}writeGrams(r){if(r==0)this.writeUint(0,4);else{r=new BN$g(r);const n=Math.ceil(r.toString(16).length/2);this.writeUint(n,4),this.writeUint(r,n*8)}}writeCoins(r){this.writeGrams(r)}writeAddress(r){r==null?this.writeUint(0,2):(this.writeUint(2,2),this.writeUint(0,1),this.writeInt(r.wc,8),this.writeBytes(r.hashPart))}writeBitString(r){r.forEach(n=>{this.writeBit(n)})}clone(){const r=new Qt(0);return r.array=this.array.slice(0),r.length=this.length,r.cursor=this.cursor,r}toString(){return this.toHex()}getTopUppedArray(){const r=this.clone();let n=Math.ceil(r.cursor/8)*8-r.cursor;if(n>0)for(n=n-1,r.writeBit(!0);n>0;)n=n-1,r.writeBit(!1);return r.array=r.array.slice(0,Math.ceil(r.cursor/8)),r.array}toHex(){if(this.cursor%4===0){const r=bytesToHex$8(this.array.slice(0,Math.ceil(this.cursor/8))).toUpperCase();return this.cursor%8===0?r:r.substr(0,r.length-1)}else{const r=this.clone();for(r.writeBit(1);r.cursor%4!==0;)r.writeBit(0);return r.toHex().toUpperCase()+"_"}}setTopUppedArray(r,n=!0){if(this.length=r.length*8,this.array=r,this.cursor=this.length,!(n||!this.length)){let o=!1;for(let a=0;a<7;a++)if(this.cursor-=1,this.get(this.cursor)){o=!0,this.off(this.cursor);break}if(!o)throw console.log(r,n),new Error("Incorrect TopUppedArray")}}};var BitString_1$1={BitString:BitString$4};const{BN:BN$f,Address:Address$e,bytesToHex:bytesToHex$7}=utils$b,{BitString:BitString$3}=BitString_1$1;let Slice$3=class{constructor(r,n,o){this.array=r,this.length=n,this.readCursor=0,this.refs=o,this.refCursor=0}getFreeBits(){return this.length-this.readCursor}checkRange(r){if(r>this.length)throw Error("BitString overflow")}get(r){return this.checkRange(r),(this.array[r/8|0]&1<<7-r%8)>0}loadBit(){const r=this.get(this.readCursor);return this.readCursor++,r}loadBits(r){const n=new BitString$3(r);for(let o=0;o<r;o++)n.writeBit(this.loadBit());return n.array}loadUint(r){if(r<1)throw"Incorrect bitLength";let n="";for(let o=0;o<r;o++)n+=this.loadBit()?"1":"0";return new BN$f(n,2)}loadInt(r){if(r<1)throw"Incorrect bitLength";const n=this.loadBit();if(r===1)return n?new BN$f(-1):new BN$f(0);let o=this.loadUint(r-1);if(n){const s=new BN$f(2).pow(new BN$f(r-1));o-=s}return o}loadVarUint(r){const n=this.loadUint(new BN$f(r).toString(2).length-1);return n.toNumber()===0?new BN$f(0):this.loadUint(n*8)}loadCoins(){return this.loadVarUint(16)}loadAddress(){const r=this.loadUint(2);if(r.toNumber()===0)return null;if(r.toNumber()!==2)throw new Error("unsupported address type");if(this.loadBit())throw new Error("unsupported address type");const n=this.loadInt(8).toNumber(),o=this.loadBits(256);return new Address$e(n+":"+bytesToHex$7(o))}loadRef(){if(this.refCursor>=4)throw new Error("refs overflow");const r=this.refs[this.refCursor];return this.refCursor++,r}};var Slice_1$1={Slice:Slice$3};const{BitString:BitString$2}=BitString_1$1,{bytesToBase64:bytesToBase64$6,compareBytes,concatBytes,crc32c:crc32c$2,hexToBytes:hexToBytes$3,readNBytesUIntFromArray,sha256:sha256$5,bytesToHex:bytesToHex$6}=utils$b,{Slice:Slice$2}=Slice_1$1,reachBocMagicPrefix=hexToBytes$3("B5EE9C72"),leanBocMagicPrefix=hexToBytes$3("68ff65f3"),leanBocMagicPrefixCRC=hexToBytes$3("acc3a728");let Cell$q=class{constructor(){this.bits=new BitString$2(1023),this.refs=[],this.isExotic=!1}static fromBoc(r){return deserializeBoc(r)}static oneFromBoc(r){const n=deserializeBoc(r);if(n.length!==1)throw new Error("expected 1 root cell but have "+n.length);return n[0]}writeCell(r){this.bits.writeBitString(r.bits),this.refs=this.refs.concat(r.refs)}getMaxLevel(){let r=0;for(let n in this.refs){const o=this.refs[n];o.getMaxLevel()>r&&(r=o.getMaxLevel())}return r}isExplicitlyStoredHashes(){return 0}getMaxDepth(){let r=0;if(this.refs.length>0){for(let n in this.refs){const o=this.refs[n];o.getMaxDepth()>r&&(r=o.getMaxDepth())}r=r+1}return r}getMaxDepthAsArray(){const r=this.getMaxDepth(),n=Uint8Array.from({length:2},()=>0);return n[1]=r%256,n[0]=Math.floor(r/256),n}getRefsDescriptor(){const r=Uint8Array.from({length:1},()=>0);return r[0]=this.refs.length+this.isExotic*8+this.getMaxLevel()*32,r}getBitsDescriptor(){const r=Uint8Array.from({length:1},()=>0);return r[0]=Math.ceil(this.bits.cursor/8)+Math.floor(this.bits.cursor/8),r}getDataWithDescriptors(){const r=this.getRefsDescriptor(),n=this.getBitsDescriptor(),o=this.bits.getTopUppedArray();return concatBytes(concatBytes(r,n),o)}async getRepr(){const r=[];r.push(this.getDataWithDescriptors());for(let o in this.refs){const a=this.refs[o];r.push(a.getMaxDepthAsArray())}for(let o in this.refs){const a=this.refs[o];r.push(await a.hash())}let n=new Uint8Array;for(let o in r){const a=r[o];n=concatBytes(n,a)}return n}async hash(){return new Uint8Array(await sha256$5(await this.getRepr()))}beginParse(){const r=this.refs.map(n=>n.beginParse());return new Slice$2(this.bits.array.slice(),this.bits.length,r)}print(r){r=r||"";let n=r+"x{"+this.bits.toHex()+`}
`;for(let o in this.refs){const a=this.refs[o];n+=a.print(r+" ")}return n}async toBoc(r=!0,n=!0,o=!1,a=0){const l=await this.treeWalk(),h=l[0],v=l[1],x=h.length,M=x.toString(2).length,P=Math.min(Math.ceil(M/8),1);let j=0,V=[];for(let Ie of h)V.push(j),j=j+await Ie[1].bocSerializationSize(v,P);const ee=j.toString(2).length,se=Math.max(Math.ceil(ee/8),1),Q=new BitString$2((1023+32*4+32*3)*h.length);Q.writeBytes(reachBocMagicPrefix),Q.writeBitArray([r,n,o]),Q.writeUint(a,2),Q.writeUint(P,3),Q.writeUint8(se),Q.writeUint(x,P*8),Q.writeUint(1,P*8),Q.writeUint(0,P*8),Q.writeUint(j,se*8),Q.writeUint(0,P*8),r&&h.forEach((Ie,ye)=>Q.writeUint(V[ye],se*8));for(let Ie of h){const ye=await Ie[1].serializeForBoc(v,P);Q.writeBytes(ye)}let $e=Q.getTopUppedArray();return n&&($e=concatBytes($e,crc32c$2($e))),$e}async serializeForBoc(r,n){const o=[];if(o.push(this.getDataWithDescriptors()),this.isExplicitlyStoredHashes())throw new Error("Cell hashes explicit storing is not implemented");for(let s in this.refs){const h=await this.refs[s].hash();let x=r[h].toString(16);x.length%2&&(x="0"+x);const M=hexToBytes$3(x);o.push(M)}let a=new Uint8Array;for(let s in o){const l=o[s];a=concatBytes(a,l)}return a}async bocSerializationSize(r,n){return(await this.serializeForBoc(r,n)).length}async treeWalk(){return treeWalk(this,[],{})}};async function moveToTheEnd(e,r,n){const o=e[n];for(let s in e)e[s]>o&&(e[s]=e[s]-1);e[n]=r.length-1;const a=r.splice(o,1)[0];r.push(a);for(let s of a[1].refs)await moveToTheEnd(e,r,await s.hash())}async function treeWalk(e,r,n,o=null){const a=await e.hash();if(a in n)return o&&n[o]>n[a]&&await moveToTheEnd(n,r,a),[r,n];n[a]=r.length,r.push([a,e]);for(let s of e.refs){const l=await treeWalk(s,r,n,a);r=l[0],n=l[1]}return[r,n]}function parseBocHeader(e){if(e.length<4+1)throw"Not enough bytes for magic prefix";const r=e,n=e.slice(0,4);e=e.slice(4);let o,a,s,l,h;if(compareBytes(n,reachBocMagicPrefix)){const Q=e[0];o=Q&128,a=Q&64,s=Q&32,l=(Q&16)*2+(Q&8),h=Q%8}if(compareBytes(n,leanBocMagicPrefix)&&(o=1,a=0,s=0,l=0,h=e[0]),compareBytes(n,leanBocMagicPrefixCRC)&&(o=1,a=1,s=0,l=0,h=e[0]),e=e.slice(1),e.length<1+5*h)throw"Not enough bytes for encoding cells counters";const v=e[0];e=e.slice(1);const x=readNBytesUIntFromArray(h,e);e=e.slice(h);const M=readNBytesUIntFromArray(h,e);e=e.slice(h);const P=readNBytesUIntFromArray(h,e);e=e.slice(h);const j=readNBytesUIntFromArray(v,e);if(e=e.slice(v),e.length<M*h)throw"Not enough bytes for encoding root cells hashes";let V=[];for(let Q=0;Q<M;Q++)V.push(readNBytesUIntFromArray(h,e)),e=e.slice(h);let ee=!1;if(o){if(ee=[],e.length<v*x)throw"Not enough bytes for index encoding";for(let Q=0;Q<x;Q++)ee.push(readNBytesUIntFromArray(v,e)),e=e.slice(v)}if(e.length<j)throw"Not enough bytes for cells data";const se=e.slice(0,j);if(e=e.slice(j),a){if(e.length<4)throw"Not enough bytes for crc32c hashsum";const Q=r.length;if(!compareBytes(crc32c$2(r.slice(0,Q-4)),e.slice(0,4)))throw"Crc32c hashsum mismatch";e=e.slice(4)}if(e.length)throw"Too much bytes in BoC serialization";return{has_idx:o,hash_crc32:a,has_cache_bits:s,flags:l,size_bytes:h,off_bytes:v,cells_num:x,roots_num:M,absent_num:P,tot_cells_size:j,root_list:V,index:ee,cells_data:se}}function deserializeCellData(e,r){if(e.length<2)throw"Not enough bytes to encode cell descriptors";const n=e[0],o=e[1];e=e.slice(2);const a=n&8,s=n%8,l=Math.ceil(o/2),h=!(o%2);let v=new Cell$q;if(v.isExotic=a,e.length<l+r*s)throw"Not enough bytes to encode cell data";v.bits.setTopUppedArray(e.slice(0,l),h),e=e.slice(l);for(let x=0;x<s;x++)v.refs.push(readNBytesUIntFromArray(r,e)),e=e.slice(r);return{cell:v,residue:e}}function deserializeBoc(e){typeof e=="string"&&(e=hexToBytes$3(e));const r=parseBocHeader(e);let n=r.cells_data,o=[];for(let s=0;s<r.cells_num;s++){let l=deserializeCellData(n,r.size_bytes);n=l.residue,o.push(l.cell)}for(let s=r.cells_num-1;s>=0;s--){let l=o[s];for(let h=0;h<l.refs.length;h++){const v=l.refs[h];if(v<s)throw"Topological order is broken";l.refs[h]=o[v]}}let a=[];for(let s of r.root_list)a.push(o[s]);return a}var Cell_1$3={Cell:Cell$q};const{BitString:BitString$1}=BitString_1$1,{Cell:Cell$p}=Cell_1$3,{Slice:Slice$1}=Slice_1$1;var boc$1={BitString:BitString$1,Cell:Cell$p,Slice:Slice$1};const{Cell:Cell$o}=boc$1,{Address:Address$d,bytesToBase64:bytesToBase64$5,bytesToHex:bytesToHex$5,BN:BN$e}=utils$b;let Contract$e=class Ht{constructor(r,n){this.provider=r,this.options=n,this.address=n.address?new Address$d(n.address):null,n.wc||(n.wc=this.address?this.address.wc:0),this.methods={}}async getAddress(){return this.address||(this.address=(await this.createStateInit()).address),this.address}createCodeCell(){if(!this.options.code)throw new Error("Contract: options.code is not defined");return this.options.code}createDataCell(){return new Cell$o}async createStateInit(){const r=this.createCodeCell(),n=this.createDataCell(),o=Ht.createStateInit(r,n),a=await o.hash(),s=new Address$d(this.options.wc+":"+bytesToHex$5(a));return{stateInit:o,address:s,code:r,data:n}}static createStateInit(r,n,o=null,a=null,s=null){if(o)throw"Library in state init is not implemented";if(a)throw"Split depth in state init is not implemented";if(s)throw"Ticktock in state init is not implemented";const l=new Cell$o;return l.bits.writeBitArray([Boolean(a),Boolean(s),Boolean(r),Boolean(n),Boolean(o)]),r&&l.refs.push(r),n&&l.refs.push(n),o&&l.refs.push(o),l}static createInternalMessageHeader(r,n=0,o=!0,a=null,s=!1,l=null,h=null,v=0,x=0,M=0,P=0){const j=new Cell$o;if(j.bits.writeBit(!1),j.bits.writeBit(o),a!==null?j.bits.writeBit(a):j.bits.writeBit(new Address$d(r).isBounceable),j.bits.writeBit(s),j.bits.writeAddress(l?new Address$d(l):null),j.bits.writeAddress(new Address$d(r)),j.bits.writeGrams(n),h)throw"Currency collections are not implemented yet";return j.bits.writeBit(Boolean(h)),j.bits.writeGrams(v),j.bits.writeGrams(x),j.bits.writeUint(M,64),j.bits.writeUint(P,32),j}static createExternalMessageHeader(r,n=null,o=0){const a=new Cell$o;return a.bits.writeUint(2,2),a.bits.writeAddress(n?new Address$d(n):null),a.bits.writeAddress(new Address$d(r)),a.bits.writeGrams(o),a}static createOutMsg(r,n,o,a=null){let s=new Cell$o;o&&(o.refs?s=o:typeof o=="string"?o.length>0&&(s.bits.writeUint(0,32),s.bits.writeString(o)):s.bits.writeBytes(o));const l=Ht.createInternalMessageHeader(new Address$d(r),new BN$e(n));return Ht.createCommonMsgInfo(l,a,s)}static createCommonMsgInfo(r,n=null,o=null){const a=new Cell$o;return a.writeCell(r),n?(a.bits.writeBit(!0),a.bits.writeBit(!0),a.refs.push(n)):a.bits.writeBit(!1),o?a.bits.getFreeBits()>=o.bits.getUsedBits()&&a.refs.length+o.refs.length<=4?(a.bits.writeBit(!1),a.writeCell(o)):(a.bits.writeBit(!0),a.refs.push(o)):a.bits.writeBit(!1),a}static createMethod(r,n){return{getQuery:async()=>(await n).message,send:async()=>{const o=await n,a=bytesToBase64$5(await o.message.toBoc(!1));return r.sendBoc(a)},estimateFee:async()=>{const o=await n,a=o.code?{address:o.address.toString(!0,!0,!1),body:bytesToBase64$5(await o.body.toBoc(!1)),init_code:bytesToBase64$5(await o.code.toBoc(!1)),init_data:bytesToBase64$5(await o.data.toBoc(!1))}:{address:o.address.toString(!0,!0,!0),body:bytesToBase64$5(await o.body.toBoc(!1))};return r.getEstimateFee(a)}}}};var contract={Contract:Contract$e};const{Cell:Cell$n}=boc$1,{Address:Address$c,BN:BN$d,bytesToHex:bytesToHex$4}=utils$b,{Contract:Contract$d}=contract;let AppTon$1=class{constructor(r,n){this.transport=r,this.ton=n,this.ADDRESS_FORMAT_HEX=0,this.ADDRESS_FORMAT_USER_FRIENDLY=1,this.ADDRESS_FORMAT_URL_SAFE=2,this.ADDRESS_FORMAT_BOUNCEABLE=4,this.ADDRESS_FORMAT_TEST_ONLY=8}async getAppConfiguration(){const r=await this.transport.send(224,1,0,0);return{version:""+r[0]+"."+r[1]+"."+r[2]}}async getPublicKey(r,n){const o=Buffer.alloc(4);o.writeInt32BE(r);const a=await this.transport.send(224,2,n?1:0,0,o),s=a[0];return{publicKey:new Uint8Array(a.slice(1,1+s))}}async getAddress(r,n,o){const a=Buffer.alloc(4);a.writeInt32BE(r);const s=await this.transport.send(224,5,n?1:0,o,a),l=s[0],h=new Uint8Array(s.slice(1,1+l));return{address:new Address$c("0:"+bytesToHex$4(h))}}async sign(r,n){const o=Buffer.alloc(4);o.writeInt32BE(r);const a=Buffer.concat([o,Buffer.from(n)]),s=await this.transport.send(224,3,0,0,a),l=s[0];return{signature:s.slice(1,1+l)}}async transfer(r,n,o,a,s,l){const v=await n.createTransferMessage(null,o,a,s,null,3,!0),x=Buffer.alloc(4);x.writeInt32BE(r);const M=Buffer.concat([x,Buffer.from(await v.signingMessage.toBoc())]),P=await this.transport.send(224,4,l,0,M),j=P[0],V=P.slice(1,1+j),ee=new Uint8Array(V),se=new Cell$n;se.bits.writeBytes(ee),se.writeCell(v.signingMessage);let Q=null,$e=null,Ie=null;if(s===0){const ae=await n.createStateInit();Q=ae.stateInit,$e=ae.code,Ie=ae.data}const ye=await n.getAddress(),G=Contract$d.createExternalMessageHeader(ye),J=Contract$d.createCommonMsgInfo(G,Q,se),le=new Promise(ae=>{ae({address:ye,message:J,body:se,signature:ee,signingMessage:v.signingMessage,stateInit:Q,code:$e,data:Ie})});return Contract$d.createMethod(this.ton.provider,le)}};var AppTon_1=AppTon$1,providers={},HttpProviderUtils$2={};const{BN:BN$c,base64ToBytes:base64ToBytes$2}=utils$b,{Cell:Cell$m}=boc$1;let HttpProviderUtils$1=class zt{static parseObject(r){const n=r["@type"];switch(n){case"tvm.list":case"tvm.tuple":return r.elements.map(zt.parseObject);case"tvm.cell":return Cell$m.oneFromBoc(base64ToBytes$2(r.bytes));case"tvm.stackEntryCell":return zt.parseObject(r.cell);case"tvm.stackEntryTuple":return zt.parseObject(r.tuple);case"tvm.stackEntryNumber":return zt.parseObject(r.number);case"tvm.numberDecimal":return new BN$c(r.number,10);default:throw new Error("unknown type "+n)}}static parseResponseStack(r){const n=r[0],o=r[1];switch(n){case"num":return new BN$c(o.replace(/0x/,""),16);case"list":case"tuple":return zt.parseObject(o);case"cell":const a=base64ToBytes$2(o.bytes);return Cell$m.oneFromBoc(a);default:throw new Error("unknown type "+n)}}static parseResponse(r){if(r.exit_code!==0){const o=new Error("http provider parse response error");throw o.result=r,o}const n=r.stack.map(zt.parseResponseStack);return n.length===1?n[0]:n}static makeArg(r){if(r instanceof BN$c||r instanceof Number)return["num",r];throw new Error("unknown arg type "+r)}static makeArgs(r){return r.map(this.makeArg)}};HttpProviderUtils$2.default=HttpProviderUtils$1;const{Cell:Cell$l}=boc$1,{base64ToBytes:base64ToBytes$1}=utils$b,HttpProviderUtils=HttpProviderUtils$2.default;typeof fetch>"u"&&(fetch=require$$3$2);const SHARD_ID_ALL="-9223372036854775808";let HttpProvider$1=class{constructor(r,n){this.host=r||"https://toncenter.com/api/v2/jsonRPC",this.options=n||{}}sendImpl(r,n){const o={"Content-Type":"application/json"};return this.options.apiKey&&(o["X-API-Key"]=this.options.apiKey),fetch(r,{method:"POST",headers:o,body:JSON.stringify(n)}).then(a=>a.json()).then(({result:a,error:s})=>a||Promise.reject(s))}send(r,n){return this.sendImpl(this.host,{id:1,jsonrpc:"2.0",method:r,params:n})}async getAddressInfo(r){return this.send("getAddressInformation",{address:r})}async getExtendedAddressInfo(r){return this.send("getExtendedAddressInformation",{address:r})}async getWalletInfo(r){return this.send("getWalletInformation",{address:r})}async getTransactions(r,n=20,o=void 0,a=void 0,s=void 0,l=void 0){return this.send("getTransactions",{address:r,limit:n,lt:o,hash:a,to_lt:s,archival:l})}async getBalance(r){return this.send("getAddressBalance",{address:r})}async sendBoc(r){return this.send("sendBoc",{boc:r})}async sendQuery(r){return this.send("sendQuerySimple",r)}async getEstimateFee(r){return this.send("estimateFee",r)}async call(r,n,o=[]){return this.send("runGetMethod",{address:r,method:n,stack:o})}async call2(r,n,o=[]){const a=await this.send("runGetMethod",{address:r,method:n,stack:o});return HttpProviderUtils.parseResponse(a)}async getConfigParam(r){const n=await this.send("getConfigParam",{config_id:r});if(n["@type"]!=="configInfo")throw new Error("getConfigParam expected type configInfo");if(!n.config)throw new Error("getConfigParam expected config");if(n.config["@type"]!=="tvm.cell")throw new Error("getConfigParam expected type tvm.cell");if(!n.config.bytes)throw new Error("getConfigParam expected bytes");return Cell$l.oneFromBoc(base64ToBytes$1(n.config.bytes))}async getMasterchainInfo(){return this.send("getMasterchainInfo",{})}async getBlockShards(r){return this.send("shards",{seqno:r})}async getBlockTransactions(r,n,o){return this.send("getBlockTransactions",{workchain:r,shard:n,seqno:o})}async getMasterchainBlockTransactions(r){return this.getBlockTransactions(-1,SHARD_ID_ALL,r)}async getBlockHeader(r,n,o){return this.send("getBlockHeader",{workchain:r,shard:n,seqno:o})}async getMasterchainBlockHeader(r){return this.getBlockHeader(-1,SHARD_ID_ALL,r)}};HttpProvider$1.SHARD_ID_ALL=SHARD_ID_ALL;providers.default=HttpProvider$1;var wallet={};const{Contract:Contract$c}=contract,{Cell:Cell$k}=boc$1,{nacl:nacl$4,stringToBytes:stringToBytes$1,Address:Address$b,BN:BN$b}=utils$b;let WalletContract$6=class extends Contract$c{constructor(r,n){if(!n.publicKey&&!n.address)throw new Error("WalletContract required publicKey or address in options");super(r,n),this.methods={transfer:o=>Contract$c.createMethod(r,this.createTransferMessage(o.secretKey,o.toAddress,o.amount,o.seqno,o.payload,o.sendMode,!Boolean(o.secretKey),o.stateInit,o.expireAt)),transfers:o=>Contract$c.createMethod(r,this.createTransferMessages(o.secretKey,o.seqno,o.messages,!Boolean(o.secretKey),o.expireAt)),seqno:()=>({call:async()=>{const o=await this.getAddress();let a=null;try{a=(await r.call2(o.toString(),"seqno")).toNumber()}catch{}return a}})},this.deploy=o=>Contract$c.createMethod(r,this.createInitExternalMessage(o))}getName(){throw new Error("override me")}createDataCell(){const r=new Cell$k;return r.bits.writeUint(0,32),r.bits.writeBytes(this.options.publicKey),r}createSigningMessage(r){r=r||0;const n=new Cell$k;return n.bits.writeUint(r,32),n}async createInitExternalMessage(r){if(!this.options.publicKey){const P=nacl$4.sign.keyPair.fromSecretKey(r);this.options.publicKey=P.publicKey}const{stateInit:n,address:o,code:a,data:s}=await this.createStateInit(),l=this.createSigningMessage(),h=nacl$4.sign.detached(await l.hash(),r),v=new Cell$k;v.bits.writeBytes(h),v.writeCell(l);const x=Contract$c.createExternalMessageHeader(o),M=Contract$c.createCommonMsgInfo(x,n,v);return{address:o,message:M,body:v,signingMessage:l,stateInit:n,code:a,data:s}}async createExternalMessage(r,n,o,a=!1){const s=a?new Uint8Array(64):nacl$4.sign.detached(await r.hash(),n),l=new Cell$k;l.bits.writeBytes(s),l.writeCell(r);let h=null,v=null,x=null;if(o===0){if(!this.options.publicKey){const ee=nacl$4.sign.keyPair.fromSecretKey(n);this.options.publicKey=ee.publicKey}const V=await this.createStateInit();h=V.stateInit,v=V.code,x=V.data}const M=await this.getAddress(),P=Contract$c.createExternalMessageHeader(M),j=Contract$c.createCommonMsgInfo(P,h,l);return{address:M,message:j,body:l,signature:s,signingMessage:r,stateInit:h,code:v,data:x}}async createTransferMessage(r,n,o,a,s="",l=3,h=!1,v=null,x=void 0){if(a==null||a<0)throw new Error("seqno must be number >= 0");const M=this.createSigningMessage(a,x);return l==null&&(l=3),M.bits.writeUint8(l),M.refs.push(Contract$c.createOutMsg(n,o,s,v)),this.createExternalMessage(M,r,a,h)}async createTransferMessages(r,n,o,a=!1,s=void 0){if(n==null||n<0)throw new Error("seqno must be number >= 0");const l=this.createSigningMessage(n,s);if(o.length<1||o.length>4)throw new Error("put 1-4 messages");for(let h of o){let v=h.sendMode;v==null&&(v=3),l.bits.writeUint8(v),l.refs.push(Contract$c.createOutMsg(h.toAddress,h.amount,h.payload,h.stateInit))}return this.createExternalMessage(l,r,n,a)}};var WalletContract_1={WalletContract:WalletContract$6};const{Cell:Cell$j}=boc$1,{WalletContract:WalletContract$5}=WalletContract_1;let SimpleWalletContractR1$1=class extends WalletContract$5{constructor(r,n){n.code=Cell$j.oneFromBoc("B5EE9C72410101010044000084FF0020DDA4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED5441FDF089"),super(r,n)}getName(){return"simpleR1"}},SimpleWalletContractR2$1=class extends WalletContract$5{constructor(r,n){n.code=Cell$j.oneFromBoc("B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F"),super(r,n)}getName(){return"simpleR2"}},SimpleWalletContractR3$1=class extends WalletContract$5{constructor(r,n){n.code=Cell$j.oneFromBoc("B5EE9C7241010101005F0000BAFF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54B5B86E42"),super(r,n)}getName(){return"simpleR3"}};var WalletContractSimple={SimpleWalletContractR1:SimpleWalletContractR1$1,SimpleWalletContractR2:SimpleWalletContractR2$1,SimpleWalletContractR3:SimpleWalletContractR3$1};const{Cell:Cell$i}=boc$1,{WalletContract:WalletContract$4}=WalletContract_1;class WalletV2ContractBase extends WalletContract$4{createSigningMessage(r,n){r=r||0,n=n||Math.floor(Date.now()/1e3)+60;const o=new Cell$i;if(o.bits.writeUint(r,32),r===0)for(let a=0;a<32;a++)o.bits.writeBit(1);else o.bits.writeUint(n,32);return o}}let WalletV2ContractR1$1=class extends WalletV2ContractBase{constructor(r,n){n.code=Cell$i.oneFromBoc("B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6"),super(r,n)}getName(){return"v2R1"}},WalletV2ContractR2$1=class extends WalletV2ContractBase{constructor(r,n){n.code=Cell$i.oneFromBoc("B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1"),super(r,n)}getName(){return"v2R2"}};var WalletContractV2={WalletV2ContractR1:WalletV2ContractR1$1,WalletV2ContractR2:WalletV2ContractR2$1};const{BN:BN$a}=utils$b;function parseWalletV3TransferBody$3(e){if(e.loadBits(512),e.loadUint(32).toNumber()!==698983191)throw new Error("invalid walletId");const n=e.loadUint(32).toNumber(),o=e.loadUint(32).toNumber();if(e.loadUint(8).toNumber()!==3)throw new Error("invalid sendMode");let s=e.loadRef();if(s.loadBit())throw Error("invalid internal header");if(!s.loadBit())throw Error("invalid ihrDisabled");const l=s.loadBit();if(s.loadBit())throw Error("invalid bounced");if(s.loadAddress()!==null)throw Error("invalid externalSourceAddress");const v=s.loadAddress(),x=s.loadCoins();if(s.loadBit())throw Error("invalid currencyCollection");if(!s.loadCoins().eq(new BN$a(0)))throw new Error("invalid ihrFees");if(!s.loadCoins().eq(new BN$a(0)))throw new Error("invalid fwdFees");if(!s.loadUint(64).eq(new BN$a(0)))throw new Error("invalid createdLt");if(!s.loadUint(32).eq(new BN$a(0)))throw new Error("invalid createdAt");s.loadBit()&&s.loadRef();let ee=null;if(s.getFreeBits()>0&&(s.loadBit()&&(s=s.loadRef()),s.getFreeBits()>32)){const se=s.loadUint(32),Q=s.loadBits(s.getFreeBits());ee=se.eq(new BN$a(0))?new TextDecoder().decode(Q):""}return{toAddress:v,value:x,bounce:l,seqno:o,expireAt:n,payload:ee}}function parseWalletV3TransferQuery$3(e){const r=e.beginParse();if(r.loadUint(2).toNumber()!==2)throw Error("invalid header");if(r.loadAddress()!==null)throw Error("invalid externalSourceAddress");const o=r.loadAddress();if(!r.loadCoins().eq(new BN$a(0)))throw new Error("invalid externalImportFee");r.loadBit()&&r.loadBit()&&r.loadRef();const s=r.loadBit()?r.loadRef():r;return{fromAddress:o,...parseWalletV3TransferBody$3(s)}}var WalletQueryParser={parseWalletV3TransferQuery:parseWalletV3TransferQuery$3,parseWalletV3TransferBody:parseWalletV3TransferBody$3};const{Cell:Cell$h}=boc$1,{WalletContract:WalletContract$3}=WalletContract_1,{parseWalletV3TransferQuery:parseWalletV3TransferQuery$2,parseWalletV3TransferBody:parseWalletV3TransferBody$2}=WalletQueryParser;class WalletV3ContractBase extends WalletContract$3{createSigningMessage(r,n){r=r||0,n=n||Math.floor(Date.now()/1e3)+60;const o=new Cell$h;if(o.bits.writeUint(this.options.walletId,32),r===0)for(let a=0;a<32;a++)o.bits.writeBit(1);else o.bits.writeUint(n,32);return o.bits.writeUint(r,32),o}createDataCell(){const r=new Cell$h;return r.bits.writeUint(0,32),r.bits.writeUint(this.options.walletId,32),r.bits.writeBytes(this.options.publicKey),r}}let WalletV3ContractR1$1=class extends WalletV3ContractBase{constructor(r,n){n.code=Cell$h.oneFromBoc("B5EE9C724101010100620000C0FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED543FBE6EE0"),super(r,n),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R1"}};WalletV3ContractR1$1.parseTransferQuery=parseWalletV3TransferQuery$2;WalletV3ContractR1$1.parseTransferBody=parseWalletV3TransferBody$2;let WalletV3ContractR2$1=class extends WalletV3ContractBase{constructor(r,n){n.code=Cell$h.oneFromBoc("B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD"),super(r,n),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R2"}};WalletV3ContractR2$1.parseTransferQuery=parseWalletV3TransferQuery$2;WalletV3ContractR2$1.parseTransferBody=parseWalletV3TransferBody$2;var WalletContractV3={WalletV3ContractR1:WalletV3ContractR1$1,WalletV3ContractR2:WalletV3ContractR2$1};const{Cell:Cell$g}=boc$1,{WalletContract:WalletContract$2}=WalletContract_1,{parseWalletV3TransferQuery:parseWalletV3TransferQuery$1,parseWalletV3TransferBody:parseWalletV3TransferBody$1}=WalletQueryParser;let WalletV4ContractR1$1=class extends WalletContract$2{constructor(r,n){n.code=Cell$g.oneFromBoc("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F"),super(r,n),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this)}getName(){return"v4R1"}createSigningMessage(r,n,o){r=r||0,n=n||Math.floor(Date.now()/1e3)+60;const a=new Cell$g;if(a.bits.writeUint(this.options.walletId,32),r===0)for(let s=0;s<32;s++)a.bits.writeBit(1);else a.bits.writeUint(n,32);return a.bits.writeUint(r,32),o||a.bits.writeUint(0,8),a}createDataCell(){const r=new Cell$g;return r.bits.writeUint(0,32),r.bits.writeUint(this.options.walletId,32),r.bits.writeBytes(this.options.publicKey),r.bits.writeUint(0,1),r}async getPublicKey(){const r=await this.getAddress();return this.provider.call2(r.toString(),"get_public_key")}};WalletV4ContractR1$1.parseTransferQuery=parseWalletV3TransferQuery$1;WalletV4ContractR1$1.parseTransferBody=parseWalletV3TransferBody$1;var WalletContractV4$2={WalletV4ContractR1:WalletV4ContractR1$1};const{Cell:Cell$f}=boc$1,{Contract:Contract$b}=contract,{Address:Address$a,bytesToHex:bytesToHex$3,BN:BN$9,toNano:toNano$2}=utils$b,{WalletContract:WalletContract$1}=WalletContract_1,{parseWalletV3TransferQuery,parseWalletV3TransferBody}=WalletQueryParser;let WalletV4ContractR2$1=class extends WalletContract$1{constructor(r,n){n.code=Cell$f.oneFromBoc("B5EE9C72410214010002D4000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF264ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1011121302E6D001D0D3032171B0925F04E022D749C120925F04E002D31F218210706C7567BD22821064737472BDB0925F05E003FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F07E005D33FC8258210706C7567BA923830E30D03821064737472BA925F06E30D06070201200809007801FA00F40430F8276F2230500AA121BEF2E0508210706C7567831EB17080185004CB0526CF1658FA0219F400CB6917CB1F5260CB3F20C98040FB0006008A5004810108F45930ED44D0810140D720C801CF16F400C9ED540172B08E23821064737472831EB17080185005CB055003CF1623FA0213CB6ACB1FCB3FC98040FB00925F03E20201200A0B0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580C0D0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200E0F0019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC973FB00C84014810108F451F2A7020070810108D718FA00D33FC8542047810108F451F2A782106E6F746570748018C8CB05CB025006CF165004FA0214CB6A12CB1FCB3FC973FB0002006C810108D718FA00D33F305224810108F459F2A782106473747270748018C8CB05CB025005CF165003FA0213CB6ACB1F12CB3FC973FB00000AF400C9ED54696225E5"),super(r,n),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.deployAndInstallPlugin=o=>Contract$b.createMethod(r,this.deployAndInstallPlugin(o)),this.methods.installPlugin=o=>Contract$b.createMethod(r,this.installPlugin(o)),this.methods.removePlugin=o=>Contract$b.createMethod(r,this.removePlugin(o)),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.isPluginInstalled=this.isPluginInstalled.bind(this),this.methods.getPluginsList=this.getPluginsList.bind(this)}getName(){return"v4R2"}createSigningMessage(r,n,o){r=r||0,n=n||Math.floor(Date.now()/1e3)+60;const a=new Cell$f;if(a.bits.writeUint(this.options.walletId,32),r===0)for(let s=0;s<32;s++)a.bits.writeBit(1);else a.bits.writeUint(n,32);return a.bits.writeUint(r,32),o||a.bits.writeUint(0,8),a}createDataCell(){const r=new Cell$f;return r.bits.writeUint(0,32),r.bits.writeUint(this.options.walletId,32),r.bits.writeBytes(this.options.publicKey),r.bits.writeUint(0,1),r}async deployAndInstallPlugin(r){const{secretKey:n,seqno:o,pluginWc:a,amount:s,stateInit:l,body:h,expireAt:v}=r,x=this.createSigningMessage(o,v,!0);return x.bits.writeUint(1,8),x.bits.writeInt(a,8),x.bits.writeGrams(s),x.refs.push(l),x.refs.push(h),this.createExternalMessage(x,n,o,!1)}async _setPlugin(r,n){const{secretKey:o,seqno:a,amount:s,queryId:l,expireAt:h}=r,v=new Address$a(r.pluginAddress),x=this.createSigningMessage(a,h,!0);return x.bits.writeUint(n?2:3,8),x.bits.writeInt(v.wc,8),x.bits.writeBytes(v.hashPart),x.bits.writeGrams(s||toNano$2("0.1")),x.bits.writeUint(l||0,64),this.createExternalMessage(x,o,a,!1)}async installPlugin(r){return this._setPlugin(r,!0)}async removePlugin(r){return this._setPlugin(r,!1)}async getWalletId(){const r=await this.getAddress();return(await this.provider.call2(r.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const r=await this.getAddress();return this.provider.call2(r.toString(),"get_public_key")}async isPluginInstalled(r){r=new Address$a(r);const n="0x"+bytesToHex$3(r.hashPart),o=await this.getAddress();return!(await this.provider.call2(o.toString(),"is_plugin_installed",[["num",r.wc],["num",n]])).isZero()}async getPluginsList(){const r=a=>a[0].toNumber()+":"+a[1].toString(16),n=await this.getAddress();return(await this.provider.call2(n.toString(),"get_plugin_list")).map(r)}};WalletV4ContractR2$1.parseTransferQuery=parseWalletV3TransferQuery;WalletV4ContractR2$1.parseTransferBody=parseWalletV3TransferBody;var WalletContractV4R2={WalletV4ContractR2:WalletV4ContractR2$1};const{SimpleWalletContractR1,SimpleWalletContractR2,SimpleWalletContractR3}=WalletContractSimple,{WalletV2ContractR1,WalletV2ContractR2}=WalletContractV2,{WalletV3ContractR1,WalletV3ContractR2}=WalletContractV3,{WalletV4ContractR1}=WalletContractV4$2,{WalletV4ContractR2}=WalletContractV4R2,ALL={simpleR1:SimpleWalletContractR1,simpleR2:SimpleWalletContractR2,simpleR3:SimpleWalletContractR3,v2R1:WalletV2ContractR1,v2R2:WalletV2ContractR2,v3R1:WalletV3ContractR1,v3R2:WalletV3ContractR2,v4R1:WalletV4ContractR1,v4R2:WalletV4ContractR2},LIST=[SimpleWalletContractR1,SimpleWalletContractR2,SimpleWalletContractR3,WalletV2ContractR1,WalletV2ContractR2,WalletV3ContractR1,WalletV3ContractR2,WalletV4ContractR1,WalletV4ContractR2];let Wallets$1=class{constructor(r){this.provider=r,this.all=ALL,this.list=LIST,this.defaultVersion="v3R1",this.default=this.all[this.defaultVersion]}create(r){return new this.default(this.provider,r)}};Wallets$1.all=ALL;Wallets$1.list=LIST;wallet.default=Wallets$1;var lockup={};const{Cell:Cell$e}=boc$1,{Address:Address$9,BN:BN$8,toNano:toNano$1,bytesToHex:bytesToHex$2,hexToBytes:hexToBytes$2,nacl:nacl$3,stringToBytes,bytesToBase64:bytesToBase64$4,base64ToBytes}=utils$b,{WalletContract}=WalletContract_1,WALLET_ID_BASE=698983191;class LockupWalletV1 extends WalletContract{constructor(r,n){n.code=Cell$e.oneFromBoc("B5EE9C7241021E01000261000114FF00F4A413F4BCF2C80B010201200203020148040501F2F28308D71820D31FD31FD31F802403F823BB13F2F2F003802251A9BA1AF2F4802351B7BA1BF2F4801F0BF9015410C5F9101AF2F4F8005057F823F0065098F823F0062071289320D74A8E8BD30731D4511BDB3C12B001E8309229A0DF72FB02069320D74A96D307D402FB00E8D103A4476814154330F004ED541D0202CD0607020120131402012008090201200F100201200A0B002D5ED44D0D31FD31FD3FFD3FFF404FA00F404FA00F404D1803F7007434C0C05C6C2497C0F83E900C0871C02497C0F80074C7C87040A497C1383C00D46D3C00608420BABE7114AC2F6C2497C338200A208420BABE7106EE86BCBD20084AE0840EE6B2802FBCBD01E0C235C62008087E4055040DBE4404BCBD34C7E00A60840DCEAA7D04EE84BCBD34C034C7CC0078C3C412040DD78CA00C0D0E00130875D27D2A1BE95B0C60000C1039480AF00500161037410AF0050810575056001010244300F004ED540201201112004548E1E228020F4966FA520933023BB9131E2209835FA00D113A14013926C21E2B3E6308003502323287C5F287C572FFC4F2FFFD00007E80BD00007E80BD00326000431448A814C4E0083D039BE865BE803444E800A44C38B21400FE809004E0083D10C06002012015160015BDE9F780188242F847800C02012017180201481B1C002DB5187E006D88868A82609E00C6207E00C63F04EDE20B30020158191A0017ADCE76A268699F98EB85FFC00017AC78F6A268698F98EB858FC00011B325FB513435C2C7E00017B1D1BE08E0804230FB50F620002801D0D3030178B0925B7FE0FA4031FA403001F001A80EDAA4"),super(r,n),this.options.walletId||(this.options.walletId=WALLET_ID_BASE+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.getLiquidBalance=this.getLiquidBalance.bind(this),this.methods.getNominalRestrictedBalance=this.getNominalRestrictedBalance.bind(this),this.methods.getNominalLockedBalance=this.getNominalLockedBalance.bind(this)}getName(){return"lockup-0.1"}createSigningMessage(r,n){r=r||0;const o=new Cell$e;if(o.bits.writeUint(this.options.walletId,32),r===0)for(let a=0;a<32;a++)o.bits.writeBit(1);else{const a=new Date,s=Math.floor(a.getTime()/1e3);o.bits.writeUint(s+60,32)}return o.bits.writeUint(r,32),o}createDataCell(){const r=new Cell$e;return r.bits.writeUint(0,32),r.bits.writeUint(this.options.walletId,32),r.bits.writeBytes(this.options.publicKey),r.bits.writeBytes(base64ToBytes(this.options.config.config_public_key)),this.options.config.allowed_destinations?(r.bits.writeUint(1,1),r.refs.push(Cell$e.oneFromBoc(base64ToBytes(this.options.config.allowed_destinations)))):r.bits.writeUint(0,1),r.bits.writeGrams(0),r.bits.writeUint(0,1),r.bits.writeGrams(0),r.bits.writeUint(0,1),r}async getWalletId(){const r=await this.getAddress();return(await this.provider.call2(r.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const r=await this.getAddress();return this.provider.call2(r.toString(),"get_public_key")}async getLiquidBalance(){const r=await this.getBalances();return r[0]-r[1]-r[2]}async getNominalRestrictedBalance(){return await this.getBalances()[1]}async getNominalLockedBalance(){return await this.getBalances()[2]}async getBalances(){const r=await this.getAddress();return this.provider.call2(r.toString(),"get_balances")}}lockup.default={LockupWalletV1,all:{"lockup-0.1":LockupWalletV1},list:[LockupWalletV1]};var nft={};const{Address:Address$8}=utils$b,{Cell:Cell$d}=boc$1,SNAKE_DATA_PREFIX=0,CHUNK_DATA_PREFIX=1,ONCHAIN_CONTENT_PREFIX=0,OFFCHAIN_CONTENT_PREFIX=1,serializeUri$1=e=>new TextEncoder().encode(encodeURI(e)),parseUri=e=>new TextDecoder().decode(e),createOffchainUriCell$2=e=>{const r=new Cell$d;return r.bits.writeUint(OFFCHAIN_CONTENT_PREFIX,8),r.bits.writeBytes(serializeUri$1(e)),r},parseOffchainUriCell$4=e=>{if(e.bits.array[0]!==OFFCHAIN_CONTENT_PREFIX)throw new Error("no OFFCHAIN_CONTENT_PREFIX");let r=0,n=e;for(;n;)r+=n.bits.array.length,n=n.refs[0];const o=new Uint8Array(r);for(r=0,n=e;n;)o.set(n.bits.array,r),r+=n.bits.array.length,n=n.refs[0];return parseUri(o.slice(1))},readIntFromBitString=(e,r,n)=>{let o=BigInt(0);for(let a=0;a<n;a++)o*=BigInt(2),o+=BigInt(e.get(r+a));return o},parseAddress$9=e=>{let r=readIntFromBitString(e.bits,3,8);r>BigInt(127)&&(r=r-BigInt(256));const n=readIntFromBitString(e.bits,3+8,256);if(r.toString(10)+":"+n.toString(16)=="0:0")return null;const o=r.toString(10)+":"+n.toString(16).padStart(64,"0");return new Address$8(o)},getRoyaltyParams$2=async(e,r)=>{const n=await e.call2(r,"royalty_params"),o=n[0].toNumber(),a=n[1].toNumber(),s=o/a,l=parseAddress$9(n[2]);return{royalty:s,royaltyBase:a,royaltyFactor:o,royaltyAddress:l}};var NftUtils={SNAKE_DATA_PREFIX,CHUNK_DATA_PREFIX,ONCHAIN_CONTENT_PREFIX,OFFCHAIN_CONTENT_PREFIX,parseAddress:parseAddress$9,serializeUri:serializeUri$1,parseUri,createOffchainUriCell:createOffchainUriCell$2,parseOffchainUriCell:parseOffchainUriCell$4,getRoyaltyParams:getRoyaltyParams$2};const{Contract:Contract$a}=contract,{Cell:Cell$c}=boc$1,{Address:Address$7,bytesToBase64:bytesToBase64$3,BN:BN$7}=utils$b,{parseAddress:parseAddress$8}=NftUtils,{createOffchainUriCell:createOffchainUriCell$1,serializeUri,parseOffchainUriCell:parseOffchainUriCell$3,getRoyaltyParams:getRoyaltyParams$1}=NftUtils;let NftCollection$1=class extends Contract$a{constructor(r,n){if(n.wc=0,n.code=n.code||Cell$c.oneFromBoc("B5EE9C724102140100021F000114FF00F4A413F4BCF2C80B0102016202030202CD04050201200E0F04E7D10638048ADF000E8698180B8D848ADF07D201800E98FE99FF6A2687D20699FEA6A6A184108349E9CA829405D47141BAF8280E8410854658056B84008646582A802E78B127D010A65B509E58FE59F80E78B64C0207D80701B28B9E382F970C892E000F18112E001718112E001F181181981E0024060708090201200A0B00603502D33F5313BBF2E1925313BA01FA00D43028103459F0068E1201A44343C85005CF1613CB3FCCCCCCC9ED54925F05E200A6357003D4308E378040F4966FA5208E2906A4208100FABE93F2C18FDE81019321A05325BBF2F402FA00D43022544B30F00623BA9302A402DE04926C21E2B3E6303250444313C85005CF1613CB3FCCCCCCC9ED54002C323401FA40304144C85005CF1613CB3FCCCCCCC9ED54003C8E15D4D43010344130C85005CF1613CB3FCCCCCCC9ED54E05F04840FF2F00201200C0D003D45AF0047021F005778018C8CB0558CF165004FA0213CB6B12CCCCC971FB008002D007232CFFE0A33C5B25C083232C044FD003D0032C03260001B3E401D3232C084B281F2FFF2742002012010110025BC82DF6A2687D20699FEA6A6A182DE86A182C40043B8B5D31ED44D0FA40D33FD4D4D43010245F04D0D431D430D071C8CB0701CF16CCC980201201213002FB5DAFDA89A1F481A67FA9A9A860D883A1A61FA61FF480610002DB4F47DA89A1F481A67FA9A9A86028BE09E008E003E00B01A500C6E"),n.royalty>1)throw new Error("royalty > 1");n.royaltyBase=1e3,n.royaltyFactor=Math.floor(n.royalty*n.royaltyBase),super(r,n),this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.getRoyaltyParams=this.getRoyaltyParams.bind(this)}createContentCell(r){const n=createOffchainUriCell$1(r.collectionContentUri),o=new Cell$c;o.bits.writeBytes(serializeUri(r.nftItemContentBaseUri));const a=new Cell$c;return a.refs[0]=n,a.refs[1]=o,a}createRoyaltyCell(r){const n=new Cell$c;return n.bits.writeUint(r.royaltyFactor,16),n.bits.writeUint(r.royaltyBase,16),n.bits.writeAddress(r.royaltyAddress),n}createDataCell(){const r=new Cell$c;return r.bits.writeAddress(this.options.ownerAddress),r.bits.writeUint(0,64),r.refs[0]=this.createContentCell(this.options),r.refs[1]=Cell$c.oneFromBoc(this.options.nftItemCodeHex),r.refs[2]=this.createRoyaltyCell(this.options),r}createMintBody(r){const n=new Cell$c;n.bits.writeUint(1,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeUint(r.itemIndex,64),n.bits.writeCoins(r.amount);const o=new Cell$c;o.bits.writeAddress(r.itemOwnerAddress);const a=new Cell$c;return a.bits.writeBytes(serializeUri(r.itemContentUri)),o.refs[0]=a,n.refs[0]=o,n}createGetRoyaltyParamsBody(r){const n=new Cell$c;return n.bits.writeUint(1765620048,32),n.bits.writeUint(r.queryId||0,64),n}createChangeOwnerBody(r){if(r.newOwnerAddress===void 0)throw new Error("Specify newOwnerAddress");const n=new Cell$c;return n.bits.writeUint(3,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeAddress(r.newOwnerAddress),n}createEditContentBody(r){if(r.royalty>1)throw new Error("royalty > 1");r.royaltyBase=1e3,r.royaltyFactor=Math.floor(r.royalty*r.royaltyBase);const n=new Cell$c;return n.bits.writeUint(4,32),n.bits.writeUint(r.queryId||0,64),n.refs[0]=this.createContentCell(r),n.refs[1]=this.createRoyaltyCell(r),n}async getCollectionData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_collection_data"),o=n[0];let a=NaN;try{a=o.toNumber()}catch{}const s=n[1];let l=null;try{l=parseOffchainUriCell$3(s)}catch{}const h=parseAddress$8(n[2]);return{nextItemIndex:a,itemsCount:o,ownerAddress:h,collectionContentCell:s,collectionContentUri:l}}async getNftItemContent(r){const n=await this.getAddress(),o=await r.getData();if(o.isInitialized){const a=await this.provider.call2(n.toString(),"get_nft_content",[["num",o.itemIndex.toString(10)],["tvm.Cell",bytesToBase64$3(await o.contentCell.toBoc(!1))]]);o.contentUri=null;try{o.contentUri=parseOffchainUriCell$3(a)}catch{}}return o}async getNftItemAddressByIndex(r){r=new BN$7(r);const n=await this.getAddress(),o=await this.provider.call2(n.toString(),"get_nft_address_by_index",[["num",r.toString(10)]]);return parseAddress$8(o)}async getRoyaltyParams(){const r=await this.getAddress();return getRoyaltyParams$1(this.provider,r.toString())}};var NftCollection_1={NftCollection:NftCollection$1};const{Contract:Contract$9}=contract,{Cell:Cell$b}=boc$1,{Address:Address$6,BN:BN$6}=utils$b,{parseAddress:parseAddress$7,getRoyaltyParams}=NftUtils,{parseOffchainUriCell:parseOffchainUriCell$2}=NftUtils,NFT_ITEM_CODE_HEX="B5EE9C7241020D010001D0000114FF00F4A413F4BCF2C80B0102016202030202CE04050009A11F9FE00502012006070201200B0C02D70C8871C02497C0F83434C0C05C6C2497C0F83E903E900C7E800C5C75C87E800C7E800C3C00812CE3850C1B088D148CB1C17CB865407E90350C0408FC00F801B4C7F4CFE08417F30F45148C2EA3A1CC840DD78C9004F80C0D0D0D4D60840BF2C9A884AEB8C097C12103FCBC20080900113E910C1C2EBCB8536001F65135C705F2E191FA4021F001FA40D20031FA00820AFAF0801BA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C85009CF16500BCF16712449145446A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00104794102A375BE20A00727082108B77173505C8CBFF5004CF1610248040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB000082028E3526F0018210D53276DB103744006D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB0093303234E25502F003003B3B513434CFFE900835D27080269FC07E90350C04090408F80C1C165B5B60001D00F232CFD633C58073C5B3327B5520BF75041B";let NftItem$1=class extends Contract$9{constructor(r,n){n.wc=0,n.code=n.code||Cell$b.oneFromBoc(NFT_ITEM_CODE_HEX),super(r,n),this.methods.getData=this.getData.bind(this)}createDataCell(){const r=new Cell$b;return r.bits.writeUint(this.options.index,64),r.bits.writeAddress(this.options.collectionAddress),r}async getData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_nft_data"),o=n[0].toNumber()===-1,a=n[1];let s=NaN;try{s=a.toNumber()}catch{}const l=parseAddress$7(n[2]),h=o?parseAddress$7(n[3]):null,v=n[4];let x=null;try{x=o&&l===null?parseOffchainUriCell$2(v):null}catch{}return{isInitialized:o,index:s,itemIndex:a,collectionAddress:l,ownerAddress:h,contentCell:v,contentUri:x}}async createTransferBody(r){const n=new Cell$b;return n.bits.writeUint(1607220500,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeAddress(r.newOwnerAddress),n.bits.writeAddress(r.responseAddress),n.bits.writeBit(!1),n.bits.writeCoins(r.forwardAmount||new BN$6(0)),n.bits.writeBit(!1),r.forwardPayload&&n.bits.writeBytes(r.forwardPayload),n}createGetStaticDataBody(r){const n=new Cell$b;return n.bits.writeUint(801842850,32),n.bits.writeUint(r.queryId||0,64),n}async getRoyaltyParams(){const r=await this.getAddress();return getRoyaltyParams(this.provider,r.toString())}};NftItem$1.codeHex=NFT_ITEM_CODE_HEX;var NftItem_1={NftItem:NftItem$1};const{Contract:Contract$8}=contract,{Cell:Cell$a}=boc$1;let NftMarketplace$1=class extends Contract$8{constructor(r,n){n.wc=0,n.code=n.code||Cell$a.oneFromBoc("B5EE9C7241010401006D000114FF00F4A413F4BCF2C80B01020120020300AAD23221C700915BE0D0D3030171B0915BE0FA40ED44D0FA403012C705F2E19101D31F01C0018E2BFA003001D4D43021F90070C8CA07CBFFC9D077748018C8CB05CB0258CF165004FA0213CB6BCCCCC971FB00915BE20004F2308EF7CCE7"),super(r,n)}createDataCell(){const r=new Cell$a;return r.bits.writeAddress(this.options.ownerAddress),r}};var NftMarketplace_1={NftMarketplace:NftMarketplace$1};const{Contract:Contract$7}=contract,{Cell:Cell$9}=boc$1,{parseAddress:parseAddress$6}=NftUtils,NFT_SALE_HEX_CODE="B5EE9C7241020A010001B4000114FF00F4A413F4BCF2C80B01020120020302014804050004F2300202CD0607002FA03859DA89A1F481F481F481F401A861A1F401F481F4006101F7D00E8698180B8D8492F82707D201876A2687D207D207D207D006A18116BA4E10159C71D991B1B2990E382C92F837028916382F970FA01698FC1080289C6C8895D7970FAE99F98FD2018201A642802E78B2801E78B00E78B00FD016664F6AA701363804C9B081B2299823878027003698FE99F9810E000C92F857010C0801F5D41081DCD650029285029185F7970E101E87D007D207D0018384008646582A804E78B28B9D090D0A85AD08A500AFD010AE5B564B8FD80384008646582AC678B2803FD010B65B564B8FD80384008646582A802E78B00FD0109E5B564B8FD80381041082FE61E8A10C00C646582A802E78B117D010A65B509E58F8A40900C8C0029A3110471036454012F004E032363704C0038E4782103B9ACA0015BEF2E1C95312C70559C705B1F2E1CA702082105FCC3D14218010C8CB055006CF1622FA0215CB6A14CB1F14CB3F21CF1601CF16CA0021FA02CA00C98100A0FB00E05F06840FF2F0002ACB3F22CF1658CF16CA0021FA02CA00C98100A0FB00AECABAD1";let NftSale$1=class extends Contract$7{constructor(r,n){n.wc=0,n.code=n.code||Cell$9.oneFromBoc(NFT_SALE_HEX_CODE),super(r,n),this.methods.getData=this.getData.bind(this)}createDataCell(){const r=new Cell$9;r.bits.writeAddress(this.options.marketplaceAddress),r.bits.writeAddress(this.options.nftAddress),r.bits.writeAddress(null),r.bits.writeCoins(this.options.fullPrice);const n=new Cell$9;return n.bits.writeCoins(this.options.marketplaceFee),n.bits.writeAddress(this.options.royaltyAddress),n.bits.writeCoins(this.options.royaltyAmount),r.refs[0]=n,r}async getData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_sale_data"),o=parseAddress$6(n[0]),a=parseAddress$6(n[1]),s=parseAddress$6(n[2]),l=n[3],h=n[4],v=parseAddress$6(n[5]),x=n[6];return{marketplaceAddress:o,nftAddress:a,nftOwnerAddress:s,fullPrice:l,marketplaceFee:h,royaltyAddress:v,royaltyAmount:x}}async createCancelBody(r){const n=new Cell$9;return n.bits.writeUint(3,32),n.bits.writeUint(r.queryId||0,64),n}};NftSale$1.codeHex=NFT_SALE_HEX_CODE;var NftSale_1={NftSale:NftSale$1};const{NftCollection}=NftCollection_1,{NftItem}=NftItem_1,{NftMarketplace}=NftMarketplace_1,{NftSale}=NftSale_1;nft.default={NftCollection,NftItem,NftMarketplace,NftSale};var ft={};const{Contract:Contract$6}=contract,{Cell:Cell$8}=boc$1,{createOffchainUriCell,parseOffchainUriCell:parseOffchainUriCell$1,parseAddress:parseAddress$5}=NftUtils,{Address:Address$5,BN:BN$5,bytesToBase64:bytesToBase64$2}=utils$b;let JettonMinter$1=class extends Contract$6{constructor(r,n){n.wc=0,n.code=n.code||Cell$8.oneFromBoc("B5EE9C7241020B010001ED000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60090A03EFD9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF29385D71811A92E001F1811802600271812F82C207F97840607080093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FE3603FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE200303515C705F2E049FA403059C85004FA0258CF16CCCCC9ED54002E5143C705F2E049D43001C85004FA0258CF16CCCCC9ED54007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA904051007F09"),super(r,n)}createDataCell(){const r=new Cell$8;return r.bits.writeCoins(0),r.bits.writeAddress(this.options.adminAddress),r.refs[0]=createOffchainUriCell(this.options.jettonContentUri),r.refs[1]=Cell$8.oneFromBoc(this.options.jettonWalletCodeHex),r}createMintBody(r){const n=new Cell$8;n.bits.writeUint(21,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeAddress(r.destination),n.bits.writeCoins(r.amount);const o=new Cell$8;return o.bits.writeUint(395134233,32),o.bits.writeUint(r.queryId||0,64),o.bits.writeCoins(r.jettonAmount),o.bits.writeAddress(null),o.bits.writeAddress(null),o.bits.writeCoins(new BN$5(0)),o.bits.writeBit(!1),n.refs[0]=o,n}createChangeAdminBody(r){if(r.newAdminAddress===void 0)throw new Error("Specify newAdminAddress");const n=new Cell$8;return n.bits.writeUint(3,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeAddress(r.newAdminAddress),n}createEditContentBody(r){const n=new Cell$8;return n.bits.writeUint(4,32),n.bits.writeUint(r.queryId||0,64),n.refs[0]=createOffchainUriCell(r.jettonContentUri),n}async getJettonData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_jetton_data"),o=n[0],a=n[1].toNumber()===-1,s=parseAddress$5(n[2]),l=n[3];let h=null;try{h=parseOffchainUriCell$1(l)}catch{}const v=n[4];return{totalSupply:o,isMutable:a,adminAddress:s,jettonContentCell:l,jettonContentUri:h,jettonWalletCode:v}}async getJettonWalletAddress(r){const n=await this.getAddress(),o=new Cell$8;o.bits.writeAddress(r);const a=await this.provider.call2(n.toString(),"get_wallet_address",[["tvm.Slice",bytesToBase64$2(await o.toBoc(!1))]]);return parseAddress$5(a)}};var JettonMinter_1={JettonMinter:JettonMinter$1};const{Contract:Contract$5}=contract,{Cell:Cell$7}=boc$1,{parseAddress:parseAddress$4}=NftUtils,{BN:BN$4}=utils$b,JETTON_WALLET_CODE_HEX="B5EE9C7241021201000328000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C511100FC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B020120101101F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C03F73B51343E803E903E90350C0234CFFE80145468017E903E9014D6F1C1551CDB5C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140371C1472C7CB8B0C2BE80146A2860822625A020822625A004AD822860822625A028062849F8C3C975C2C070C008E00D0E0F009ACB3F5007FA0222CF165006CF1625FA025003CF16C95005CC2391729171E25008A813A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED5400705279A018A182107362D09CC8CB1F5230CB3F58FA025007CF165007CF16C9718018C8CB0524CF165006FA0215CB6A14CCC971FB0010241023000E10491038375F040076C200B08E218210D53276DB708010C8CB055008CF165004FA0216CB6A12CB1F12CB3FC972FB0093356C21E203C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60063232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55205ECCF23D";let JettonWallet$3=class extends Contract$5{constructor(r,n){n.wc=0,n.code=n.code||Cell$7.oneFromBoc(JETTON_WALLET_CODE_HEX),super(r,n)}async createTransferBody(r){const n=new Cell$7;return n.bits.writeUint(260734629,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeCoins(r.jettonAmount),n.bits.writeAddress(r.toAddress),n.bits.writeAddress(r.responseAddress),n.bits.writeBit(!1),n.bits.writeCoins(r.forwardAmount||new BN$4(0)),n.bits.writeBit(!1),r.forwardPayload&&n.bits.writeBytes(r.forwardPayload),n}async createBurnBody(r){const n=new Cell$7;return n.bits.writeUint(1499400124,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeCoins(r.jettonAmount),n.bits.writeAddress(r.responseAddress),n}async getData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_wallet_data"),o=n[0],a=parseAddress$4(n[1]),s=parseAddress$4(n[2]),l=n[3];return{balance:o,ownerAddress:a,jettonMinterAddress:s,jettonWalletCode:l}}};JettonWallet$3.codeHex=JETTON_WALLET_CODE_HEX;var JettonWallet_1={JettonWallet:JettonWallet$3};const{JettonMinter}=JettonMinter_1,{JettonWallet:JettonWallet$2}=JettonWallet_1;ft.default={JettonMinter,JettonWallet:JettonWallet$2};const MC_INTERVAL=10*1e3,SHARDS_INTERVAL=1*1e3,parseShardBlockNumber=e=>({workchain:e.workchain,shardId:e.shard,shardBlockNumber:e.seqno});let BlockSubscription$2=class{constructor(r,n,o,a){this.provider=r,this.storage=n,this.onBlock=o,this.startMcBlockNumber=a?a.startMcBlockNumber:void 0,this.mcInterval=(a?a.mcInterval:void 0)||MC_INTERVAL,this.shardsInterval=(a?a.shardsInterval:void 0)||SHARDS_INTERVAL}async start(){if(this.stop(),!this.startMcBlockNumber&&(this.startMcBlockNumber=(await this.provider.getMasterchainInfo()).last.seqno,!this.startMcBlockNumber))throw new Error("Cannot get start mc block number from provider");const r=await this.provider.getMasterchainBlockHeader(this.startMcBlockNumber);if(this.startLT=r.end_lt,!this.startLT)throw new Error("Cannot get startLT from provider");let n=!1;const o=async()=>{if(!n){n=!0;try{const l=await this.storage.getLastMasterchainBlockNumber()||this.startMcBlockNumber;if(!l)throw new Error("no init masterchain block in storage");const h=(await this.provider.getMasterchainInfo()).last.seqno;if(!h)throw new Error("invalid last masterchain block from provider");for(let v=l+1;v<h;v++){const x=await this.provider.getBlockShards(v),M=await this.provider.getMasterchainBlockHeader(v);await this.onBlock(M,x),await this.storage.insertBlocks(v,x.shards.map(parseShardBlockNumber))}}catch(l){console.error(l)}n=!1}};this.mcIntervalId=setInterval(()=>o(),this.mcInterval),o();let a=!1;const s=async()=>{if(!a){a=!0;try{const l=await this.storage.getUnprocessedShardBlock();if(l){const{workchain:h,shardId:v,shardBlockNumber:x}=l,M=await this.provider.getBlockHeader(h,v,x);if(M.end_lt<this.startLT)await this.storage.setBlockProcessed(h,v,x,[]);else{await this.onBlock(M);const P=M.prev_blocks.map(parseShardBlockNumber);await this.storage.setBlockProcessed(h,v,x,P)}}}catch(l){console.log(l)}a=!1}};this.shardsIntervalId=setInterval(()=>s(),this.shardsInterval)}stop(){clearInterval(this.mcIntervalId),clearInterval(this.shardsIntervalId)}};var BlockSubscription_1={BlockSubscription:BlockSubscription$2};let InMemoryBlockStorage$2=class{constructor(r){this.masterchainBlocks={},this.shardchainBlocks={},this.logFunction=r}async insertShardBlocks(r){for(const{workchain:n,shardId:o,shardBlockNumber:a}of r)this.shardchainBlocks[n+"_"+o+"_"+a]===void 0&&(this.logFunction&&this.logFunction("insert shard "+n+" "+o+" "+a),this.shardchainBlocks[n+"_"+o+"_"+a]=!1)}async insertBlocks(r,n){if(this.logFunction&&this.logFunction("mc processed "+r),this.masterchainBlocks[r]!==void 0)throw new Error("mc already exists "+r);this.masterchainBlocks[r]=!0,await this.insertShardBlocks(n)}async getLastMasterchainBlockNumber(){return Object.keys(this.masterchainBlocks).map(n=>Number(n)).sort((n,o)=>o-n)[0]}async setBlockProcessed(r,n,o,a){if(this.logFunction&&this.logFunction("shard processed "+r+" "+n+" "+o),this.shardchainBlocks[r+"_"+n+"_"+o]===void 0)throw new Error("shard not exists "+r+"_"+n+"_"+o);this.shardchainBlocks[r+"_"+n+"_"+o]=!0,await this.insertShardBlocks(a)}async getUnprocessedShardBlock(){for(let r in this.shardchainBlocks)if(this.shardchainBlocks[r]===!1){const n=r.split("_");return{workchain:Number(n[0]),shardId:n[1],shardBlockNumber:Number(n[2])}}}};var InMemoryBlockStorage_1={InMemoryBlockStorage:InMemoryBlockStorage$2};const{BlockSubscription:BlockSubscription$1}=BlockSubscription_1,{InMemoryBlockStorage:InMemoryBlockStorage$1}=InMemoryBlockStorage_1;var blockSubscription={BlockSubscription:BlockSubscription$1,InMemoryBlockStorage:InMemoryBlockStorage$1};const{Contract:Contract$4}=contract,{Cell:Cell$6}=boc$1,{hexToBytes:hexToBytes$1,BN:BN$3,nacl:nacl$2,bytesToBase64:bytesToBase64$1}=utils$b;let SubscriptionContract$1=class extends Contract$4{constructor(r,n){n.code=Cell$6.oneFromBoc("B5EE9C7241020F01000262000114FF00F4A413F4BCF2C80B0102012002030201480405036AF230DB3C5335A127A904F82327A128A90401BC5135A0F823B913B0F29EF800725210BE945387F0078E855386DB3CA4E2F82302DB3C0B0C0D0202CD06070121A0D0C9B67813F488DE0411F488DE0410130B048FD6D9E05E8698198FD201829846382C74E2F841999E98F9841083239BA395D497803F018B841083AB735BBED9E702984E382D9C74688462F863841083AB735BBED9E70156BA4E09040B0A0A080269F10FD22184093886D9E7C12C1083239BA39384008646582A803678B2801FD010A65B5658F89659FE4B9FD803FC1083239BA396D9E40E0A04F08E8D108C5F0C708210756E6B77DB3CE00AD31F308210706C7567831EB15210BA8F48305324A126A904F82326A127A904BEF27109FA4430A619F833D078D721D70B3F5260A11BBE8E923036F82370708210737562732759DB3C5077DE106910581047103645135042DB3CE0395F076C2232821064737472BA0A0A0D09011A8E897F821064737472DB3CE0300A006821B39982100400000072FB02DE70F8276F118010C8CB055005CF1621FA0214F40013CB6912CB1F830602948100A032DEC901FB000030ED44D0FA40FA40FA00D31FD31FD31FD31FD31FD307D31F30018021FA443020813A98DB3C01A619F833D078D721D70B3FA070F8258210706C7567228018C8CB055007CF165004FA0215CB6A12CB1F13CB3F01FA02CB00C973FB000E0040C8500ACF165008CF165006FA0214CB1F12CB1FCB1FCB1FCB1FCB07CB1FC9ED54005801A615F833D020D70B078100D1BA95810088D721DED307218100DDBA028100DEBA12B1F2E047D33F30A8AB0FE5855AB4"),super(r,n),this.methods.pay=()=>Contract$4.createMethod(r,this.createPayExternalMessage()),this.methods.getSubscriptionData=this.getSubscriptionData.bind(this)}createDataCell(){const r=new Cell$6;return r.bits.writeAddress(this.options.wallet),r.bits.writeAddress(this.options.beneficiary),r.bits.writeGrams(this.options.amount),r.bits.writeUint(this.options.period,32),r.bits.writeUint(this.options.startAt,32),r.bits.writeUint(this.options.timeout,32),r.bits.writeUint(0,32),r.bits.writeUint(0,32),r.bits.writeUint(0,8),r.bits.writeUint(this.options.subscriptionId,32),r}createBody(){const r=new Cell$6;return r.bits.writeUint(new BN$3(1886156135).add(new BN$3(2147483648)),32),r}createSelfDestructBody(){const r=new Cell$6;return r.bits.writeUint(1685288050,32),r}async getSubscriptionData(){const r=ee=>ee[0].toNumber()+":"+ee[1].toString(16),n=await this.getAddress(),o=await this.provider.call2(n.toString(),"get_subscription_data"),a=r(o[0]),s=r(o[1]),l=o[2],h=o[3].toNumber(),v=o[4].toNumber(),x=o[5].toNumber(),M=o[6].toNumber(),P=o[7].toNumber(),j=o[8].toNumber(),V=o[9].toNumber();return{wallet:a,beneficiary:s,amount:l,period:h,startAt:v,timeout:x,lastPayment:M,lastRequest:P,failedAttempts:j,subscriptionId:V}}async createPayExternalMessage(){const r=await this.getAddress(),n=Contract$4.createExternalMessageHeader(r),o=Contract$4.createCommonMsgInfo(n,null,null),a=new Cell$6;return a.bits.writeUint(Math.floor(Date.now()/1e3),64),{address:r,message:o,body:a}}};var subscription={SubscriptionContract:SubscriptionContract$1};const{Cell:Cell$5}=boc$1,writePublicKey$1=(e,r)=>{if(r.length!==256/8)throw new Error("invalid publicKey length");e.bits.writeBytes(r)},writeSignature$1=(e,r)=>{if(r.length!==512/8)throw new Error("invalid signature length");e.bits.writeBytes(r)},createSignatureCell$1=e=>{const r=new Cell$5;return writeSignature$1(r,e),r},writeMayBe=(e,r)=>{if(r){if(e.bits.writeBit(1),e.refs.length>=4)throw new Error("refs overflow");e.refs.push(r)}else e.bits.writeBit(0)},writeDict=writeMayBe,tag_init$1=1768843636,tag_cooperative_close$1=1131179891,tag_cooperative_commit$1=1128492404,tag_start_uncooperative_close$1=1433289580,tag_challenge_state$1=1130915665,tag_settle_conditionals$1=1131168622,tag_state$1=1130910580,op_top_up_balance$1=1741148801,op_init_channel$1=235282626,op_cooperative_close$1=1433884798,op_cooperative_commit$1=2040604399,op_start_uncooperative_close$1=521476815,op_challenge_quarantined_state$1=143567410,op_settle_conditionals$1=1727459433,op_finish_uncooperative_close$1=625158801,op_channel_closed$1=-572749638,createTopUpBalance$1=e=>{const r=new Cell$5;return r.bits.writeUint(op_top_up_balance$1,32),r.bits.writeCoins(e.coinsA),r.bits.writeCoins(e.coinsB),r},createInitChannelBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_init$1,32),r.bits.writeUint(e.channelId,128),r.bits.writeCoins(e.balanceA),r.bits.writeCoins(e.balanceB),r},createCooperativeCloseChannelBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_cooperative_close$1,32),r.bits.writeUint(e.channelId,128),r.bits.writeCoins(e.balanceA),r.bits.writeCoins(e.balanceB),r.bits.writeUint(e.seqnoA,64),r.bits.writeUint(e.seqnoB,64),r},createCooperativeCommitBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_cooperative_commit$1,32),r.bits.writeUint(e.channelId,128),r.bits.writeUint(e.seqnoA,64),r.bits.writeUint(e.seqnoB,64),r},createConditionalPayment$1=e=>{const r=new Cell$5;return r.bits.writeCoins(e.amount),r.writeCell(e.condition),r},createSemiChannelBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(e.seqno,64),r.bits.writeCoins(e.sentCoins),writeDict(r,e.conditionals),r},createSemiChannelState$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_state$1,32),r.bits.writeUint(e.channelId,128),r.writeCell(e.semiChannelBody),writeMayBe(r,e.counterpartySemiChannelBody),r},createSignedSemiChannelState$1=e=>{const r=new Cell$5;return writeSignature$1(r,e.signature),r.writeCell(e.state),r},createStartUncooperativeCloseBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_start_uncooperative_close$1,32),r.bits.writeUint(e.channelId,128),r.refs[0]=e.signedSemiChannelStateA,r.refs[1]=e.signedSemiChannelStateB,r},createChallengeQuarantinedStateBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_challenge_state$1,32),r.bits.writeUint(e.channelId,128),r.refs[0]=e.signedSemiChannelStateA,r.refs[1]=e.signedSemiChannelStateB,r},createSettleConditionalsBody$1=e=>{const r=new Cell$5;return r.bits.writeUint(tag_settle_conditionals$1,32),r.bits.writeUint(e.channelId,128),writeDict(r,e.conditionalsToSettle),r},createFinishUncooperativeClose$1=()=>{const e=new Cell$5;return e.bits.writeUint(op_finish_uncooperative_close$1,32),e},createOneSignature$1=e=>{const r=new Cell$5;return r.bits.writeUint(e.op,32),r.bits.writeBit(e.isA),writeSignature$1(r,e.signature),r.writeCell(e.cell),r},createTwoSignature$1=e=>{const r=new Cell$5;return r.bits.writeUint(e.op,32),r.refs[0]=createSignatureCell$1(e.signatureA),r.refs[1]=createSignatureCell$1(e.signatureB),r.writeCell(e.cell),r};var PaymentUtils={writePublicKey:writePublicKey$1,writeSignature:writeSignature$1,createSignatureCell:createSignatureCell$1,tag_init:tag_init$1,tag_cooperative_close:tag_cooperative_close$1,tag_cooperative_commit:tag_cooperative_commit$1,tag_start_uncooperative_close:tag_start_uncooperative_close$1,tag_challenge_state:tag_challenge_state$1,tag_settle_conditionals:tag_settle_conditionals$1,tag_state:tag_state$1,op_top_up_balance:op_top_up_balance$1,op_init_channel:op_init_channel$1,op_cooperative_close:op_cooperative_close$1,op_cooperative_commit:op_cooperative_commit$1,op_start_uncooperative_close:op_start_uncooperative_close$1,op_challenge_quarantined_state:op_challenge_quarantined_state$1,op_settle_conditionals:op_settle_conditionals$1,op_finish_uncooperative_close:op_finish_uncooperative_close$1,op_channel_closed:op_channel_closed$1,createTopUpBalance:createTopUpBalance$1,createInitChannelBody:createInitChannelBody$1,createCooperativeCloseChannelBody:createCooperativeCloseChannelBody$1,createCooperativeCommitBody:createCooperativeCommitBody$1,createConditionalPayment:createConditionalPayment$1,createSemiChannelBody:createSemiChannelBody$1,createSemiChannelState:createSemiChannelState$1,createSignedSemiChannelState:createSignedSemiChannelState$1,createStartUncooperativeCloseBody:createStartUncooperativeCloseBody$1,createChallengeQuarantinedStateBody:createChallengeQuarantinedStateBody$1,createSettleConditionalsBody:createSettleConditionalsBody$1,createFinishUncooperativeClose:createFinishUncooperativeClose$1,createOneSignature:createOneSignature$1,createTwoSignature:createTwoSignature$1};const{Contract:Contract$3}=contract,{Cell:Cell$4}=boc$1,{nacl:nacl$1,hexToBytes,BN:BN$2}=utils$b,{parseAddress:parseAddress$3}=NftUtils,{writePublicKey,writeSignature,createSignatureCell,tag_init,tag_cooperative_close,tag_cooperative_commit,tag_start_uncooperative_close,tag_challenge_state,tag_settle_conditionals,tag_state,op_top_up_balance,op_init_channel,op_cooperative_close,op_cooperative_commit,op_start_uncooperative_close,op_challenge_quarantined_state,op_settle_conditionals,op_finish_uncooperative_close,op_channel_closed,createTopUpBalance,createInitChannelBody,createCooperativeCloseChannelBody,createCooperativeCommitBody,createConditionalPayment,createSemiChannelBody,createSemiChannelState,createSignedSemiChannelState,createStartUncooperativeCloseBody,createChallengeQuarantinedStateBody,createSettleConditionalsBody,createFinishUncooperativeClose,createOneSignature,createTwoSignature}=PaymentUtils,PAYMENT_CHANNEL_CODE_HEX="B5EE9C72410230010007FB000114FF00F4A413F4BCF2C80B0102012002030201480405000AF26C21F0190202CB06070201202E2F020120080902012016170201200A0B0201200C0D0009D3610F80CC001D6B5007434C7FE8034C7CC1BC0FE19E0201580E0F0201201011002D3E11DBC4BE11DBC43232C7FE11DBC47E80B2C7F2407320008B083E1B7B51343480007E187E80007E18BE80007E18F4FFC07E1934FFC07E1974DFC07E19BC01887080A7F4C7C07E1A34C7C07E1A7D01007E1AB7807080E535007E1AF7BE1B2002012012130201201415008D3E13723E11BE117E113E10540132803E10BE80BE10FE8084F2FFC4B2FFF2DFFC02887080A7FE12BE127E121400F2C7C4B2C7FD0037807080E53E12C073253E1333C5B8B27B5520004D1C3C02FE106CFCB8193E803E800C3E1096283E18BE10C0683E18FE10BE10E8006EFCB819BC032000CF1D3C02FE106CFCB819348020C235C6083E4040E4BE1124BE117890CC3E443CB81974C7C060841A5B9A5D2EBCB81A3E118074DFD66EBCB81CBE803E800C3E1094882FBE10D4882FAC3CB819807E18BE18FE12F43E800C3E10BE10E80068006E7CB8199FFE187C0320004120843777222E9C20043232C15401B3C594013E808532DA84B2C7F2DFF2407EC02002012018190201D42B2C0201201A1B0201201E1F0201201C1D00E5473F00BD401D001D401D021F90102D31F01821043436D74BAF2E068F84601D37F59BAF2E072F844544355F910F8454330F910B0F2E065D33FD33F30F84822B9F84922B9B0F2E06C21F86820F869F84A6E915B8E19F84AD0D33FFA003171D721D33F305033BC02BCB1936DF86ADEE2F800F00C8006F3E12F43E800C7E903E900C3E09DBC41CBE10D62F24CC20C1B7BE10FE11963C03FE10BE11A04020BC03DC3E185C3E189C3E18DB7E1ABC032000B51D3C02F5007400750074087E4040B4C7C0608410DB1BDCEEBCB81A3E118074DFD66EBCB81CBE111510D57E443E1150CC3E442C3CB8197E80007E18BE80007E18F4CFF4CFCC3E1208AE7E1248AE6C3CB81B007E1A3E1A7E003C042001C1573F00BF84A6EF2E06AD2008308D71820F9012392F84492F845E24130F910F2E065D31F018210556E436CBAF2E068F84601D37F59BAF2E072D401D08308D71820F901F8444130F910F2E06501D430D08308D71820F901F8454130F910F2E06501820020120222301FED31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE23032F8485280BEF8495250BEB0524BBE1AB0527ABE19210064B05215BE14B05248BE17B0F2E06970F82305C8CB3F5004FA0215F40015CB3F5004FA0212F400CB1F12CA00CA00C9F86AF00C01C31CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DA19D46EBCB81A3E118074DFD66EBCB81CB5007420C235C6083E407E11104C3E443CB81940750C3420C235C6083E407E11504C3E443CB81940602403F71CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DB10DBAEBCB81A3E118074DFD66EBCB81CBD010C3E12B434CFFE803D0134CFFE803D0134C7FE11DBC4148828083E08EE7CB81BBE11DBC4A83E08EF3CB81C34800C151D5A64D6D4C8F7A2B98E82A49B08B8C3816028292A01FCD31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE230325339BE5381BEB0F8495250BEB0F8485290BEB02502FE5237BE16B05262BEB0F2E06927C20097F84918BEF2E0699137E222C20097F84813BEF2E0699132E2F84AD0D33FFA00F404D33FFA00F404D31FF8476F105220A0F823BCF2E06FD200D20030B3F2E073209C3537373A5274BC5263BC12B18E11323939395250BC5299BC18B14650134440E25319BAB3F2E06D9130E30D7F05C82627002496F8476F1114A098F8476F1117A00603E203003ECB3F5004FA0215F40012CB3F5004FA0213F400CB1F12CA00CA00C9F86AF00C00620A8020F4966FA5208E213050038020F4666FA1208E1001FA00ED1E15DA119450C3A00B9133E2923430E202926C21E2B31B000C3535075063140038C8CB3F5004FA0212F400CB3F5003FA0213F400CB1FCA00C9F86AF00C00D51D3C02FE129BACFCB81AFE12B434CFFE803D010C74CFFE803D010C74C7CC3E11DBC4283E11DBC4A83E08EE7CB81C7E003E10886808E87E18BE10D400E816287E18FE10F04026BE10BE10E83E189C3E18F7BE10B04026BE10FE10A83E18DC3E18F780693E1A293E1A7C042001F53B7EF4C7C8608419F1F4A06EA4CC7C037808608403818830AEA54C7C03B6CC780C882084155DD61FAEA54C3C0476CC780820841E6849BBEEA54C3C04B6CC7808208407C546B3EEA54C3C0576CC780820840223AA8CAEA54C3C05B6CC7808208419BDBC1A6EA54C3C05F6CC780C60840950CAA46EA53C0636CC78202D0008840FF2F00075BC7FE3A7805FC25E87D007D207D20184100D0CAF6A1EC7C217C21B7817C227C22B7817C237C23FC247C24B7817C2524C3B7818823881B22A021984008DBD0CABA7805FC20C8B870FC253748B8F07C256840206B90FD0018C020EB90FD0018B8EB90E98F987C23B7882908507C11DE491839707C23B788507C23B789507C11DE48B9F03A4331C4966";var Vt;let PaymentChannel$2=(Vt=class extends Contract$3{constructor(r,n){n.publicKeyA=n.isA?n.myKeyPair.publicKey:n.hisPublicKey,n.publicKeyB=n.isA?n.hisPublicKey:n.myKeyPair.publicKey,n.wc=n.wc||0,n.code=n.code||Cell$4.oneFromBoc(PAYMENT_CHANNEL_CODE_HEX),super(r,n)}createDataCell(){var a,s,l;const r=new Cell$4;r.bits.writeBit(0),r.bits.writeCoins(0),r.bits.writeCoins(0),writePublicKey(r,this.options.publicKeyA),writePublicKey(r,this.options.publicKeyB),r.bits.writeUint(this.options.channelId,128);const n=new Cell$4;n.bits.writeUint(((a=this.options.closingConfig)==null?void 0:a.quarantineDuration)||0,32),n.bits.writeCoins(((s=this.options.closingConfig)==null?void 0:s.misbehaviorFine)||new BN$2(0)),n.bits.writeUint(((l=this.options.closingConfig)==null?void 0:l.conditionalCloseDuration)||0,32),r.refs[0]=n,r.bits.writeUint(0,32),r.bits.writeUint(0,32),r.bits.writeBit(!1);const o=new Cell$4;return o.bits.writeCoins(this.options.excessFee||new BN$2(0)),o.bits.writeAddress(this.options.addressA),o.bits.writeAddress(this.options.addressB),r.refs[1]=o,r}async createOneSignature(r,n){const o=nacl$1.sign.detached(await n.hash(),this.options.myKeyPair.secretKey);return{cell:createOneSignature({op:r,isA:this.options.isA,signature:o,cell:n}),signature:o}}async createTwoSignature(r,n,o){const a=nacl$1.sign.detached(await o.hash(),this.options.myKeyPair.secretKey),s=this.options.isA?a:n,l=this.options.isA?n:a;return{cell:createTwoSignature({op:r,signatureA:s,signatureB:l,cell:o}),signature:a}}async createTopUpBalance(r){return createTopUpBalance(r)}async createInitChannel(r){return this.createOneSignature(op_init_channel,createInitChannelBody({...r,channelId:this.options.channelId}))}async createCooperativeCloseChannel(r){return r.hisSignature||(r.hisSignature=new Uint8Array(512/8)),this.createTwoSignature(op_cooperative_close,r.hisSignature,createCooperativeCloseChannelBody({...r,channelId:this.options.channelId}))}async createCooperativeCommit(r){return r.hisSignature||(r.hisSignature=new Uint8Array(512/8)),this.createTwoSignature(op_cooperative_commit,r.hisSignature,createCooperativeCommitBody({...r,channelId:this.options.channelId}))}async createSignedSemiChannelState(r){const n=createSemiChannelState({channelId:this.options.channelId,semiChannelBody:createSemiChannelBody({seqno:r.mySeqno,sentCoins:r.mySentCoins,conditionals:null}),counterpartySemiChannelBody:r.hisSeqno===void 0?null:createSemiChannelBody({seqno:r.hisSeqno,sentCoins:r.hisSentCoins,conditionals:null})}),o=nacl$1.sign.detached(await n.hash(),this.options.myKeyPair.secretKey);return{cell:createSignedSemiChannelState({signature:o,state:n}),signature:o}}async signState(r){const n=this.options.isA?r.seqnoA:r.seqnoB,o=this.options.isA?r.seqnoB:r.seqnoA,a=this.options.initBalanceA.gt(r.balanceA)?this.options.initBalanceA.sub(r.balanceA):new BN$2(0),s=this.options.initBalanceB.gt(r.balanceB)?this.options.initBalanceB.sub(r.balanceB):new BN$2(0),l=this.options.isA?a:s,h=this.options.isA?s:a,{cell:v,signature:x}=await this.createSignedSemiChannelState({mySeqno:n,mySentCoins:l,hisSeqno:o,hisSentCoins:h});return x}async verifyState(r,n){const o=this.options.isA?r.seqnoB:r.seqnoA,a=this.options.isA?r.seqnoA:r.seqnoB,s=this.options.initBalanceA.gt(r.balanceA)?this.options.initBalanceA.sub(r.balanceA):new BN$2(0),l=this.options.initBalanceB.gt(r.balanceB)?this.options.initBalanceB.sub(r.balanceB):new BN$2(0),h=this.options.isA?l:s,v=this.options.isA?s:l,M=await createSemiChannelState({channelId:this.options.channelId,semiChannelBody:createSemiChannelBody({seqno:o,sentCoins:h,conditionals:null}),counterpartySemiChannelBody:a===void 0?null:createSemiChannelBody({seqno:a,sentCoins:v,conditionals:null})}).hash();return nacl$1.sign.detached.verify(M,n,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async signClose(r){const{cell:n,signature:o}=await this.createCooperativeCloseChannel(r);return o}async verifyClose(r,n){const a=await(await createCooperativeCloseChannelBody({...r,channelId:this.options.channelId})).hash();return nacl$1.sign.detached.verify(a,n,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async createStartUncooperativeClose(r){return this.createOneSignature(op_start_uncooperative_close,createStartUncooperativeCloseBody({...r,channelId:this.options.channelId}))}async createChallengeQuarantinedState(r){return this.createOneSignature(op_challenge_quarantined_state,createChallengeQuarantinedStateBody({...r,channelId:this.options.channelId}))}async createSettleConditionals(r){return this.createOneSignature(op_settle_conditionals,createSettleConditionalsBody({...r,channelId:this.options.channelId}))}async createFinishUncooperativeClose(){return createFinishUncooperativeClose()}async getChannelState(){const r=await this.getAddress();return(await this.provider.call2(r.toString(),"get_channel_state",[])).toNumber()}async getData(){const r=ye=>{let G=ye.toString(16);return G.length%2!==0&&(G="0"+G),hexToBytes(G)},n=await this.getAddress(),o=await this.provider.call2(n.toString(),"get_channel_data",[]),a=o[0].toNumber(),s=o[1][0],l=o[1][1],h=r(o[2][0]),v=r(o[2][1]),x=o[3],M=o[4][0].toNumber(),P=o[4][1],j=o[4][2].toNumber(),V=o[5][0],ee=o[5][1],se=o[6],Q=o[7][0],$e=parseAddress$3(o[7][1]),Ie=parseAddress$3(o[7][2]);return{state:a,balanceA:s,balanceB:l,publicKeyA:h,publicKeyB:v,channelId:x,quarantineDuration:M,misbehaviorFine:P,conditionalCloseDuration:j,seqnoA:V,seqnoB:ee,quarantine:se,excessFee:Q,addressA:$e,addressB:Ie}}fromWallet(r){const{wallet:n,secretKey:o}=r,a=(s,l)=>{const h=async v=>{const x=l?(await this.createStateInit()).stateInit:null,M=await this.getAddress(),P=await n.methods.seqno().call()||0,j=await s;return n.methods.transfer({secretKey:o,toAddress:M.toString(!0,!0,!0),amount:v,seqno:P,payload:j,stateInit:x,sendMode:3})};return{send:v=>h(v).then(x=>x.send()),estimateFee:v=>h(v).then(x=>x.estimateFee())}};return{deploy:()=>a(null,!0),init:s=>a(this.createInitChannel(s).then(l=>l.cell)),topUp:s=>a(this.createTopUpBalance(s)),close:s=>a(this.createCooperativeCloseChannel(s).then(l=>l.cell)),commit:s=>a(this.createCooperativeCommit(s).then(l=>l.cell)),startUncooperativeClose:s=>a(this.createStartUncooperativeClose(s).then(l=>l.cell)),challengeQuarantinedState:s=>a(this.createChallengeQuarantinedState(s).then(l=>l.cell)),settleConditionals:s=>a(this.createSettleConditionals(s).then(l=>l.cell)),finishUncooperativeClose:()=>a(this.createFinishUncooperativeClose())}}},Dt(Vt,"STATE_UNINITED",0),Dt(Vt,"STATE_OPEN",1),Dt(Vt,"STATE_CLOSURE_STARTED",2),Dt(Vt,"STATE_SETTLING_CONDITIONALS",3),Dt(Vt,"STATE_AWAITING_FINALIZATION",4),Vt);PaymentChannel$2.codeHex=PAYMENT_CHANNEL_CODE_HEX;var PaymentChannel_1={PaymentChannel:PaymentChannel$2};const{PaymentChannel:PaymentChannel$1}=PaymentChannel_1;let Payments$1=class{constructor(r){this.provider=r}createChannel(r){return new PaymentChannel$1(this.provider,r)}};var payments={Payments:Payments$1,PaymentChannel:PaymentChannel$1},eventsExports={},events={get exports(){return eventsExports},set exports(e){eventsExports=e}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function e(r,n,o){return Function.prototype.apply.call(r,n,o)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ReflectOwnKeys=function(r){return Object.getOwnPropertyNames(r)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function e(r){return r!==r};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;eventsExports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function e(r){if(typeof r!="number"||r<0||NumberIsNaN(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter.defaultMaxListeners:e._maxListeners}EventEmitter.prototype.getMaxListeners=function e(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function e(r){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var a=r==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var l;if(n.length>0&&(l=n[0]),l instanceof Error)throw l;var h=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw h.context=l,h}var v=s[r];if(v===void 0)return!1;if(typeof v=="function")ReflectApply(v,this,n);else for(var x=v.length,M=arrayClone(v,x),o=0;o<x;++o)ReflectApply(M[o],this,n);return!0};function _addListener(e,r,n,o){var a,s,l;if(checkListener(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",r,n.listener?n.listener:n),s=e._events),l=s[r]),l===void 0)l=s[r]=n,++e._eventsCount;else if(typeof l=="function"?l=s[r]=o?[n,l]:[l,n]:o?l.unshift(n):l.push(n),a=_getMaxListeners(e),a>0&&l.length>a&&!l.warned){l.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=r,h.count=l.length,ProcessEmitWarning(h)}return e}EventEmitter.prototype.addListener=function e(r,n){return _addListener(this,r,n,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function e(r,n){return _addListener(this,r,n,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,r,n){var o={fired:!1,wrapFn:void 0,target:e,type:r,listener:n},a=onceWrapper.bind(o);return a.listener=n,o.wrapFn=a,a}EventEmitter.prototype.once=function e(r,n){return checkListener(n),this.on(r,_onceWrap(this,r,n)),this};EventEmitter.prototype.prependOnceListener=function e(r,n){return checkListener(n),this.prependListener(r,_onceWrap(this,r,n)),this};EventEmitter.prototype.removeListener=function e(r,n){var o,a,s,l,h;if(checkListener(n),a=this._events,a===void 0)return this;if(o=a[r],o===void 0)return this;if(o===n||o.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,o.listener||n));else if(typeof o!="function"){for(s=-1,l=o.length-1;l>=0;l--)if(o[l]===n||o[l].listener===n){h=o[l].listener,s=l;break}if(s<0)return this;s===0?o.shift():spliceOne(o,s),o.length===1&&(a[r]=o[0]),a.removeListener!==void 0&&this.emit("removeListener",r,h||n)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function e(r){var n,o,a;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[r]),this;if(arguments.length===0){var s=Object.keys(o),l;for(a=0;a<s.length;++a)l=s[a],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=o[r],typeof n=="function")this.removeListener(r,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(r,n[a]);return this};function _listeners(e,r,n){var o=e._events;if(o===void 0)return[];var a=o[r];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?unwrapListeners(a):arrayClone(a,a.length)}EventEmitter.prototype.listeners=function e(r){return _listeners(this,r,!0)};EventEmitter.prototype.rawListeners=function e(r){return _listeners(this,r,!1)};EventEmitter.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):listenerCount.call(e,r)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){var r=this._events;if(r!==void 0){var n=r[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}EventEmitter.prototype.eventNames=function e(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,r){for(var n=new Array(r),o=0;o<r;++o)n[o]=e[o];return n}function spliceOne(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function unwrapListeners(e){for(var r=new Array(e.length),n=0;n<r.length;++n)r[n]=e[n].listener||e[n];return r}function once(e,r){return new Promise(function(n,o){function a(l){e.removeListener(r,s),o(l)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",a),n([].slice.call(arguments))}eventTargetAgnosticAddListener(e,r,s,{once:!0}),r!=="error"&&addErrorHandlerIfEventEmitter(e,a,{once:!0})})}function addErrorHandlerIfEventEmitter(e,r,n){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",r,n)}function eventTargetAgnosticAddListener(e,r,n,o){if(typeof e.on=="function")o.once?e.once(r,n):e.on(r,n);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(s){o.once&&e.removeEventListener(r,a),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var errorClasses={},deserializers={},addCustomErrorDeserializer=function(e,r){deserializers[e]=r},createCustomErrorClass=function(e){var r=function(o,a){Object.assign(this,a),this.name=e,this.message=o||e,this.stack=new Error().stack};return r.prototype=new Error,errorClasses[e]=r,r},deserializeError=function(e){if(typeof e=="object"&&e){try{var r=JSON.parse(e.message);r.message&&r.name&&(e=r)}catch{}var n=void 0;if(typeof e.name=="string"){var o=e.name,a=deserializers[o];if(a)n=a(e);else{var s=o==="Error"?Error:errorClasses[o];s||(console.warn("deserializing an unknown class '"+o+"'"),s=createCustomErrorClass(o)),n=Object.create(s.prototype);try{for(var l in e)e.hasOwnProperty(l)&&(n[l]=e[l])}catch{}}}else n=new Error(e.message);return!n.stack&&Error.captureStackTrace&&Error.captureStackTrace(n,deserializeError),n}return new Error(String(e))},serializeError=function(e){return e&&(typeof e=="object"?destroyCircular(e,[]):typeof e=="function"?"[Function: "+(e.name||"anonymous")+"]":e)};function destroyCircular(e,r){var n={};r.push(e);for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o],l=e[s];if(typeof l!="function"){if(!l||typeof l!="object"){n[s]=l;continue}if(r.indexOf(e[s])===-1){n[s]=destroyCircular(e[s],r.slice(0));continue}n[s]="[Circular]"}}return typeof e.name=="string"&&(n.name=e.name),typeof e.message=="string"&&(n.message=e.message),typeof e.stack=="string"&&(n.stack=e.stack),n}var AccountNameRequiredError=createCustomErrorClass("AccountNameRequired"),AccountNotSupported=createCustomErrorClass("AccountNotSupported"),AmountRequired=createCustomErrorClass("AmountRequired"),BluetoothRequired=createCustomErrorClass("BluetoothRequired"),BtcUnmatchedApp=createCustomErrorClass("BtcUnmatchedApp"),CantOpenDevice=createCustomErrorClass("CantOpenDevice"),CashAddrNotSupported=createCustomErrorClass("CashAddrNotSupported"),CurrencyNotSupported=createCustomErrorClass("CurrencyNotSupported"),DeviceAppVerifyNotSupported=createCustomErrorClass("DeviceAppVerifyNotSupported"),DeviceGenuineSocketEarlyClose=createCustomErrorClass("DeviceGenuineSocketEarlyClose"),DeviceNotGenuineError=createCustomErrorClass("DeviceNotGenuine"),DeviceOnDashboardExpected=createCustomErrorClass("DeviceOnDashboardExpected"),DeviceOnDashboardUnexpected=createCustomErrorClass("DeviceOnDashboardUnexpected"),DeviceInOSUExpected=createCustomErrorClass("DeviceInOSUExpected"),DeviceHalted=createCustomErrorClass("DeviceHalted"),DeviceNameInvalid=createCustomErrorClass("DeviceNameInvalid"),DeviceSocketFail=createCustomErrorClass("DeviceSocketFail"),DeviceSocketNoBulkStatus=createCustomErrorClass("DeviceSocketNoBulkStatus"),DisconnectedDevice=createCustomErrorClass("DisconnectedDevice"),DisconnectedDeviceDuringOperation=createCustomErrorClass("DisconnectedDeviceDuringOperation"),EnpointConfigError=createCustomErrorClass("EnpointConfig"),EthAppPleaseEnableContractData=createCustomErrorClass("EthAppPleaseEnableContractData"),FeeEstimationFailed=createCustomErrorClass("FeeEstimationFailed"),FirmwareNotRecognized=createCustomErrorClass("FirmwareNotRecognized"),HardResetFail=createCustomErrorClass("HardResetFail"),InvalidXRPTag=createCustomErrorClass("InvalidXRPTag"),InvalidAddress=createCustomErrorClass("InvalidAddress"),InvalidAddressBecauseDestinationIsAlsoSource=createCustomErrorClass("InvalidAddressBecauseDestinationIsAlsoSource"),LatestMCUInstalledError=createCustomErrorClass("LatestMCUInstalledError"),UnknownMCU=createCustomErrorClass("UnknownMCU"),LedgerAPIError=createCustomErrorClass("LedgerAPIError"),LedgerAPIErrorWithMessage=createCustomErrorClass("LedgerAPIErrorWithMessage"),LedgerAPINotAvailable=createCustomErrorClass("LedgerAPINotAvailable"),ManagerAppAlreadyInstalledError=createCustomErrorClass("ManagerAppAlreadyInstalled"),ManagerAppRelyOnBTCError=createCustomErrorClass("ManagerAppRelyOnBTC"),ManagerAppDepInstallRequired=createCustomErrorClass("ManagerAppDepInstallRequired"),ManagerAppDepUninstallRequired=createCustomErrorClass("ManagerAppDepUninstallRequired"),ManagerDeviceLockedError=createCustomErrorClass("ManagerDeviceLocked"),ManagerFirmwareNotEnoughSpaceError=createCustomErrorClass("ManagerFirmwareNotEnoughSpace"),ManagerNotEnoughSpaceError=createCustomErrorClass("ManagerNotEnoughSpace"),ManagerUninstallBTCDep=createCustomErrorClass("ManagerUninstallBTCDep"),NetworkDown=createCustomErrorClass("NetworkDown"),NoAddressesFound=createCustomErrorClass("NoAddressesFound"),NotEnoughBalance=createCustomErrorClass("NotEnoughBalance"),NotEnoughBalanceToDelegate=createCustomErrorClass("NotEnoughBalanceToDelegate"),NotEnoughBalanceInParentAccount=createCustomErrorClass("NotEnoughBalanceInParentAccount"),NotEnoughSpendableBalance=createCustomErrorClass("NotEnoughSpendableBalance"),NotEnoughBalanceBecauseDestinationNotCreated=createCustomErrorClass("NotEnoughBalanceBecauseDestinationNotCreated"),NoAccessToCamera=createCustomErrorClass("NoAccessToCamera"),NotEnoughGas=createCustomErrorClass("NotEnoughGas"),NotSupportedLegacyAddress=createCustomErrorClass("NotSupportedLegacyAddress"),GasLessThanEstimate=createCustomErrorClass("GasLessThanEstimate"),PasswordsDontMatchError=createCustomErrorClass("PasswordsDontMatch"),PasswordIncorrectError=createCustomErrorClass("PasswordIncorrect"),RecommendSubAccountsToEmpty=createCustomErrorClass("RecommendSubAccountsToEmpty"),RecommendUndelegation=createCustomErrorClass("RecommendUndelegation"),TimeoutTagged=createCustomErrorClass("TimeoutTagged"),UnexpectedBootloader=createCustomErrorClass("UnexpectedBootloader"),MCUNotGenuineToDashboard=createCustomErrorClass("MCUNotGenuineToDashboard"),RecipientRequired=createCustomErrorClass("RecipientRequired"),UnavailableTezosOriginatedAccountReceive=createCustomErrorClass("UnavailableTezosOriginatedAccountReceive"),UnavailableTezosOriginatedAccountSend=createCustomErrorClass("UnavailableTezosOriginatedAccountSend"),UpdateFetchFileFail=createCustomErrorClass("UpdateFetchFileFail"),UpdateIncorrectHash=createCustomErrorClass("UpdateIncorrectHash"),UpdateIncorrectSig=createCustomErrorClass("UpdateIncorrectSig"),UpdateYourApp=createCustomErrorClass("UpdateYourApp"),UserRefusedDeviceNameChange=createCustomErrorClass("UserRefusedDeviceNameChange"),UserRefusedAddress=createCustomErrorClass("UserRefusedAddress"),UserRefusedFirmwareUpdate=createCustomErrorClass("UserRefusedFirmwareUpdate"),UserRefusedAllowManager=createCustomErrorClass("UserRefusedAllowManager"),UserRefusedOnDevice=createCustomErrorClass("UserRefusedOnDevice"),TransportOpenUserCancelled=createCustomErrorClass("TransportOpenUserCancelled"),TransportInterfaceNotAvailable=createCustomErrorClass("TransportInterfaceNotAvailable"),TransportRaceCondition=createCustomErrorClass("TransportRaceCondition"),TransportWebUSBGestureRequired=createCustomErrorClass("TransportWebUSBGestureRequired"),DeviceShouldStayInApp=createCustomErrorClass("DeviceShouldStayInApp"),WebsocketConnectionError=createCustomErrorClass("WebsocketConnectionError"),WebsocketConnectionFailed=createCustomErrorClass("WebsocketConnectionFailed"),WrongDeviceForAccount=createCustomErrorClass("WrongDeviceForAccount"),WrongAppForCurrency=createCustomErrorClass("WrongAppForCurrency"),ETHAddressNonEIP=createCustomErrorClass("ETHAddressNonEIP"),CantScanQRCode=createCustomErrorClass("CantScanQRCode"),FeeNotLoaded=createCustomErrorClass("FeeNotLoaded"),FeeRequired=createCustomErrorClass("FeeRequired"),FeeTooHigh=createCustomErrorClass("FeeTooHigh"),SyncError=createCustomErrorClass("SyncError"),PairingFailed=createCustomErrorClass("PairingFailed"),GenuineCheckFailed=createCustomErrorClass("GenuineCheckFailed"),LedgerAPI4xx=createCustomErrorClass("LedgerAPI4xx"),LedgerAPI5xx=createCustomErrorClass("LedgerAPI5xx"),FirmwareOrAppUpdateRequired=createCustomErrorClass("FirmwareOrAppUpdateRequired"),NoDBPathGiven=createCustomErrorClass("NoDBPathGiven"),DBWrongPassword=createCustomErrorClass("DBWrongPassword"),DBNotReset=createCustomErrorClass("DBNotReset");function TransportError(e,r){this.name="TransportError",this.message=e,this.stack=new Error().stack,this.id=r}TransportError.prototype=new Error;addCustomErrorDeserializer("TransportError",function(e){return new TransportError(e.message,e.id)});var StatusCodes={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function getAltStatusMessage(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}function TransportStatusError(e){this.name="TransportStatusError";var r=Object.keys(StatusCodes).find(function(a){return StatusCodes[a]===e})||"UNKNOWN_ERROR",n=getAltStatusMessage(e)||r,o=e.toString(16);this.message="Ledger device: "+n+" (0x"+o+")",this.stack=new Error().stack,this.statusCode=e,this.statusText=r}TransportStatusError.prototype=new Error;addCustomErrorDeserializer("TransportStatusError",function(e){return new TransportStatusError(e.statusCode)});const dist$3=Object.freeze(Object.defineProperty({__proto__:null,AccountNameRequiredError,AccountNotSupported,AmountRequired,BluetoothRequired,BtcUnmatchedApp,CantOpenDevice,CantScanQRCode,CashAddrNotSupported,CurrencyNotSupported,DBNotReset,DBWrongPassword,DeviceAppVerifyNotSupported,DeviceGenuineSocketEarlyClose,DeviceHalted,DeviceInOSUExpected,DeviceNameInvalid,DeviceNotGenuineError,DeviceOnDashboardExpected,DeviceOnDashboardUnexpected,DeviceShouldStayInApp,DeviceSocketFail,DeviceSocketNoBulkStatus,DisconnectedDevice,DisconnectedDeviceDuringOperation,ETHAddressNonEIP,EnpointConfigError,EthAppPleaseEnableContractData,FeeEstimationFailed,FeeNotLoaded,FeeRequired,FeeTooHigh,FirmwareNotRecognized,FirmwareOrAppUpdateRequired,GasLessThanEstimate,GenuineCheckFailed,HardResetFail,InvalidAddress,InvalidAddressBecauseDestinationIsAlsoSource,InvalidXRPTag,LatestMCUInstalledError,LedgerAPI4xx,LedgerAPI5xx,LedgerAPIError,LedgerAPIErrorWithMessage,LedgerAPINotAvailable,MCUNotGenuineToDashboard,ManagerAppAlreadyInstalledError,ManagerAppDepInstallRequired,ManagerAppDepUninstallRequired,ManagerAppRelyOnBTCError,ManagerDeviceLockedError,ManagerFirmwareNotEnoughSpaceError,ManagerNotEnoughSpaceError,ManagerUninstallBTCDep,NetworkDown,NoAccessToCamera,NoAddressesFound,NoDBPathGiven,NotEnoughBalance,NotEnoughBalanceBecauseDestinationNotCreated,NotEnoughBalanceInParentAccount,NotEnoughBalanceToDelegate,NotEnoughGas,NotEnoughSpendableBalance,NotSupportedLegacyAddress,PairingFailed,PasswordIncorrectError,PasswordsDontMatchError,RecipientRequired,RecommendSubAccountsToEmpty,RecommendUndelegation,StatusCodes,SyncError,TimeoutTagged,TransportError,TransportInterfaceNotAvailable,TransportOpenUserCancelled,TransportRaceCondition,TransportStatusError,TransportWebUSBGestureRequired,UnavailableTezosOriginatedAccountReceive,UnavailableTezosOriginatedAccountSend,UnexpectedBootloader,UnknownMCU,UpdateFetchFileFail,UpdateIncorrectHash,UpdateIncorrectSig,UpdateYourApp,UserRefusedAddress,UserRefusedAllowManager,UserRefusedDeviceNameChange,UserRefusedFirmwareUpdate,UserRefusedOnDevice,WebsocketConnectionError,WebsocketConnectionFailed,WrongAppForCurrency,WrongDeviceForAccount,addCustomErrorDeserializer,createCustomErrorClass,deserializeError,getAltStatusMessage,serializeError},Symbol.toStringTag,{value:"Module"}));class Transport{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new eventsExports,this.send=async(r,n,o,a,s=Buffer.alloc(0),l=[StatusCodes.OK])=>{if(s.length>=256)throw new TransportError("data.length exceed 256 bytes limit. Got: "+s.length,"DataLengthTooBig");const h=await this.exchange(Buffer.concat([Buffer.from([r,n,o,a]),Buffer.from([s.length]),s])),v=h.readUInt16BE(h.length-2);if(!l.some(x=>x===v))throw new TransportStatusError(v);return h},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async r=>{if(this.exchangeBusyPromise)throw new TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");let n;const o=new Promise(l=>{n=l});this.exchangeBusyPromise=o;let a=!1;const s=setTimeout(()=>{a=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const l=await r();return a&&this.emit("responsive"),l}finally{clearTimeout(s),n&&n(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(r){throw new Error("exchange not implemented")}setScrambleKey(r){}close(){return Promise.resolve()}on(r,n){this._events.on(r,n)}off(r,n){this._events.removeListener(r,n)}emit(r,...n){this._events.emit(r,...n)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(r){this.exchangeTimeout=r}setExchangeUnresponsiveTimeout(r){this.unresponsiveTimeout=r}static create(r=3e3,n){return new Promise((o,a)=>{let s=!1;const l=this.listen({next:v=>{s=!0,l&&l.unsubscribe(),h&&clearTimeout(h),this.open(v.descriptor,r).then(o,a)},error:v=>{h&&clearTimeout(h),a(v)},complete:()=>{h&&clearTimeout(h),s||a(new TransportError(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),h=n?setTimeout(()=>{l.unsubscribe(),a(new TransportError(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},n):null})}decorateAppAPIMethods(r,n,o){for(let a of n)r[a]=this.decorateAppAPIMethod(a,r[a],r,o)}decorateAppAPIMethod(r,n,o,a){return async(...s)=>{const{_appAPIlock:l}=this;if(l)return Promise.reject(new TransportError("Ledger Device is busy (lock "+l+")","TransportLocked"));try{return this._appAPIlock=r,this.setScrambleKey(a),await n.apply(o,s)}finally{this._appAPIlock=null}}}}Transport.isSupported=void 0;Transport.list=void 0;Transport.listen=void 0;Transport.open=void 0;Transport.ErrorMessage_ListenTimeout="No Ledger device found (timeout)";Transport.ErrorMessage_NoDeviceFound="No Ledger device found";var hidFraming={};const require$$0$1=getAugmentedNamespace(dist$3);Object.defineProperty(hidFraming,"__esModule",{value:!0});var default_1=hidFraming.default=void 0,_errors$1=require$$0$1;const Tag=5;function asUInt16BE(e){const r=Buffer.alloc(2);return r.writeUInt16BE(e,0),r}const initialAcc={data:Buffer.alloc(0),dataLength:0,sequence:0},createHIDframing=(e,r)=>({makeBlocks(n){let o=Buffer.concat([asUInt16BE(n.length),n]);const a=r-5,s=Math.ceil(o.length/a);o=Buffer.concat([o,Buffer.alloc(s*a-o.length+1).fill(0)]);const l=[];for(let h=0;h<s;h++){const v=Buffer.alloc(5);v.writeUInt16BE(e,0),v.writeUInt8(Tag,2),v.writeUInt16BE(h,3);const x=o.slice(h*a,(h+1)*a);l.push(Buffer.concat([v,x]))}return l},reduceResponse(n,o){let{data:a,dataLength:s,sequence:l}=n||initialAcc;if(o.readUInt16BE(0)!==e)throw new _errors$1.TransportError("Invalid channel","InvalidChannel");if(o.readUInt8(2)!==Tag)throw new _errors$1.TransportError("Invalid tag","InvalidTag");if(o.readUInt16BE(3)!==l)throw new _errors$1.TransportError("Invalid sequence","InvalidSequence");n||(s=o.readUInt16BE(5)),l++;const h=o.slice(n?5:7);return a=Buffer.concat([a,h]),a.length>s&&(a=a.slice(0,s)),{data:a,dataLength:s,sequence:l}},getReducedResult(n){if(n&&n.dataLength===n.data.length)return n.data}});var _default=createHIDframing;default_1=hidFraming.default=_default;var reExports={},re$3={get exports(){return reExports},set exports(e){reExports=e}};const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$2=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16;var constants$1={SEMVER_SPEC_VERSION,MAX_LENGTH:MAX_LENGTH$2,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,MAX_SAFE_COMPONENT_LENGTH};const debug$1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var debug_1=debug$1;(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:n}=constants$1,o=debug_1;r=e.exports={};const a=r.re=[],s=r.src=[],l=r.t={};let h=0;const v=(x,M,P)=>{const j=h++;o(x,j,M),l[x]=j,s[j]=M,a[j]=new RegExp(M,P?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","[0-9]+"),v("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),v("MAINVERSION",`(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${s[l.NUMERICIDENTIFIER]}|${s[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${s[l.NUMERICIDENTIFIERLOOSE]}|${s[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${s[l.PRERELEASEIDENTIFIER]}(?:\\.${s[l.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${s[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[l.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER","[0-9A-Za-z-]+"),v("BUILD",`(?:\\+(${s[l.BUILDIDENTIFIER]}(?:\\.${s[l.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${s[l.MAINVERSION]}${s[l.PRERELEASE]}?${s[l.BUILD]}?`),v("FULL",`^${s[l.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${s[l.MAINVERSIONLOOSE]}${s[l.PRERELEASELOOSE]}?${s[l.BUILD]}?`),v("LOOSE",`^${s[l.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${s[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${s[l.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:${s[l.PRERELEASE]})?${s[l.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:${s[l.PRERELEASELOOSE]})?${s[l.BUILD]}?)?)?`),v("XRANGE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAINLOOSE]}$`),v("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),v("COERCERTL",s[l.COERCE],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${s[l.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",v("TILDE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${s[l.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",v("CARET",`^${s[l.LONECARET]}${s[l.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${s[l.LONECARET]}${s[l.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${s[l.GTLT]}\\s*(${s[l.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]}|${s[l.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${s[l.XRANGEPLAIN]})\\s+-\\s+(${s[l.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${s[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[l.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$3,reExports);const opts=["includePrerelease","loose","rtl"],parseOptions$2=e=>e?typeof e!="object"?{loose:!0}:opts.filter(r=>e[r]).reduce((r,n)=>(r[n]=!0,r),{}):{};var parseOptions_1=parseOptions$2;const numeric=/^[0-9]+$/,compareIdentifiers$1=(e,r)=>{const n=numeric.test(e),o=numeric.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1},rcompareIdentifiers=(e,r)=>compareIdentifiers$1(r,e);var identifiers$1={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_INTEGER}=constants$1,{re:re$2,t:t$4}=reExports,parseOptions$1=parseOptions_1,{compareIdentifiers}=identifiers$1;let SemVer$d=class qt{constructor(r,n){if(n=parseOptions$1(n),r instanceof qt){if(r.loose===!!n.loose&&r.includePrerelease===!!n.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid Version: ${r}`);if(r.length>MAX_LENGTH$1)throw new TypeError(`version is longer than ${MAX_LENGTH$1} characters`);debug("SemVer",r,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const o=r.trim().match(n.loose?re$2[t$4.LOOSE]:re$2[t$4.FULL]);if(!o)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){const s=+a;if(s>=0&&s<MAX_SAFE_INTEGER)return s}return a}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(debug("SemVer.compare",this.version,this.options,r),!(r instanceof qt)){if(typeof r=="string"&&r===this.version)return 0;r=new qt(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof qt||(r=new qt(r,this.options)),compareIdentifiers(this.major,r.major)||compareIdentifiers(this.minor,r.minor)||compareIdentifiers(this.patch,r.patch)}comparePre(r){if(r instanceof qt||(r=new qt(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let n=0;do{const o=this.prerelease[n],a=r.prerelease[n];if(debug("prerelease compare",n,o,a),o===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(o===void 0)return-1;if(o===a)continue;return compareIdentifiers(o,a)}while(++n)}compareBuild(r){r instanceof qt||(r=new qt(r,this.options));let n=0;do{const o=this.build[n],a=r.build[n];if(debug("prerelease compare",n,o,a),o===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(o===void 0)return-1;if(o===a)continue;return compareIdentifiers(o,a)}while(++n)}inc(r,n){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);o===-1&&this.prerelease.push(0)}n&&(compareIdentifiers(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${r}`)}return this.format(),this.raw=this.version,this}};var semver$1=SemVer$d;const{MAX_LENGTH}=constants$1,{re:re$1,t:t$3}=reExports,SemVer$c=semver$1,parseOptions=parseOptions_1,parse$6=(e,r)=>{if(r=parseOptions(r),e instanceof SemVer$c)return e;if(typeof e!="string"||e.length>MAX_LENGTH||!(r.loose?re$1[t$3.LOOSE]:re$1[t$3.FULL]).test(e))return null;try{return new SemVer$c(e,r)}catch{return null}};var parse_1=parse$6;const parse$5=parse_1,valid$2=(e,r)=>{const n=parse$5(e,r);return n?n.version:null};var valid_1=valid$2;const parse$4=parse_1,clean$2=(e,r)=>{const n=parse$4(e.trim().replace(/^[=v]+/,""),r);return n?n.version:null};var clean_1=clean$2;const SemVer$b=semver$1,inc$1=(e,r,n,o)=>{typeof n=="string"&&(o=n,n=void 0);try{return new SemVer$b(e instanceof SemVer$b?e.version:e,n).inc(r,o).version}catch{return null}};var inc_1=inc$1;const SemVer$a=semver$1,compare$b=(e,r,n)=>new SemVer$a(e,n).compare(new SemVer$a(r,n));var compare_1=compare$b;const compare$a=compare_1,eq$3=(e,r,n)=>compare$a(e,r,n)===0;var eq_1=eq$3;const parse$3=parse_1,eq$2=eq_1,diff$1=(e,r)=>{if(eq$2(e,r))return null;{const n=parse$3(e),o=parse$3(r),a=n.prerelease.length||o.prerelease.length,s=a?"pre":"",l=a?"prerelease":"";for(const h in n)if((h==="major"||h==="minor"||h==="patch")&&n[h]!==o[h])return s+h;return l}};var diff_1=diff$1;const SemVer$9=semver$1,major$1=(e,r)=>new SemVer$9(e,r).major;var major_1=major$1;const SemVer$8=semver$1,minor$1=(e,r)=>new SemVer$8(e,r).minor;var minor_1=minor$1;const SemVer$7=semver$1,patch$1=(e,r)=>new SemVer$7(e,r).patch;var patch_1=patch$1;const parse$2=parse_1,prerelease$1=(e,r)=>{const n=parse$2(e,r);return n&&n.prerelease.length?n.prerelease:null};var prerelease_1=prerelease$1;const compare$9=compare_1,rcompare$1=(e,r,n)=>compare$9(r,e,n);var rcompare_1=rcompare$1;const compare$8=compare_1,compareLoose$1=(e,r)=>compare$8(e,r,!0);var compareLoose_1=compareLoose$1;const SemVer$6=semver$1,compareBuild$3=(e,r,n)=>{const o=new SemVer$6(e,n),a=new SemVer$6(r,n);return o.compare(a)||o.compareBuild(a)};var compareBuild_1=compareBuild$3;const compareBuild$2=compareBuild_1,sort$3=(e,r)=>e.sort((n,o)=>compareBuild$2(n,o,r));var sort_1=sort$3;const compareBuild$1=compareBuild_1,rsort$1=(e,r)=>e.sort((n,o)=>compareBuild$1(o,n,r));var rsort_1=rsort$1;const compare$7=compare_1,gt$4=(e,r,n)=>compare$7(e,r,n)>0;var gt_1=gt$4;const compare$6=compare_1,lt$3=(e,r,n)=>compare$6(e,r,n)<0;var lt_1=lt$3;const compare$5=compare_1,neq$2=(e,r,n)=>compare$5(e,r,n)!==0;var neq_1=neq$2;const compare$4=compare_1,gte$3=(e,r,n)=>compare$4(e,r,n)>=0;var gte_1=gte$3;const compare$3=compare_1,lte$3=(e,r,n)=>compare$3(e,r,n)<=0;var lte_1=lte$3;const eq$1=eq_1,neq$1=neq_1,gt$3=gt_1,gte$2=gte_1,lt$2=lt_1,lte$2=lte_1,cmp$1=(e,r,n,o)=>{switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return eq$1(e,n,o);case"!=":return neq$1(e,n,o);case">":return gt$3(e,n,o);case">=":return gte$2(e,n,o);case"<":return lt$2(e,n,o);case"<=":return lte$2(e,n,o);default:throw new TypeError(`Invalid operator: ${r}`)}};var cmp_1=cmp$1;const SemVer$5=semver$1,parse$1=parse_1,{re,t:t$2}=reExports,coerce$1=(e,r)=>{if(e instanceof SemVer$5)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let n=null;if(!r.rtl)n=e.match(re[t$2.COERCE]);else{let o;for(;(o=re[t$2.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||o.index+o[0].length!==n.index+n[0].length)&&(n=o),re[t$2.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;re[t$2.COERCERTL].lastIndex=-1}return n===null?null:parse$1(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,r)};var coerce_1=coerce$1,iterator$1,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator$1=function(e){e.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}),iterator$1}var yallist=Yallist$1;Yallist$1.Node=Node;Yallist$1.create=Yallist$1;function Yallist$1(e){var r=this;if(r instanceof Yallist$1||(r=new Yallist$1),r.tail=null,r.head=null,r.length=0,e&&typeof e.forEach=="function")e.forEach(function(a){r.push(a)});else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)r.push(arguments[n]);return r}Yallist$1.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var r=e.next,n=e.prev;return r&&(r.prev=n),n&&(n.next=r),e===this.head&&(this.head=r),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,r};Yallist$1.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var r=this.head;e.list=this,e.next=r,r&&(r.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Yallist$1.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var r=this.tail;e.list=this,e.prev=r,r&&(r.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Yallist$1.prototype.push=function(){for(var e=0,r=arguments.length;e<r;e++)push(this,arguments[e]);return this.length};Yallist$1.prototype.unshift=function(){for(var e=0,r=arguments.length;e<r;e++)unshift(this,arguments[e]);return this.length};Yallist$1.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Yallist$1.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Yallist$1.prototype.forEach=function(e,r){r=r||this;for(var n=this.head,o=0;n!==null;o++)e.call(r,n.value,o,this),n=n.next};Yallist$1.prototype.forEachReverse=function(e,r){r=r||this;for(var n=this.tail,o=this.length-1;n!==null;o--)e.call(r,n.value,o,this),n=n.prev};Yallist$1.prototype.get=function(e){for(var r=0,n=this.head;n!==null&&r<e;r++)n=n.next;if(r===e&&n!==null)return n.value};Yallist$1.prototype.getReverse=function(e){for(var r=0,n=this.tail;n!==null&&r<e;r++)n=n.prev;if(r===e&&n!==null)return n.value};Yallist$1.prototype.map=function(e,r){r=r||this;for(var n=new Yallist$1,o=this.head;o!==null;)n.push(e.call(r,o.value,this)),o=o.next;return n};Yallist$1.prototype.mapReverse=function(e,r){r=r||this;for(var n=new Yallist$1,o=this.tail;o!==null;)n.push(e.call(r,o.value,this)),o=o.prev;return n};Yallist$1.prototype.reduce=function(e,r){var n,o=this.head;if(arguments.length>1)n=r;else if(this.head)o=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;o!==null;a++)n=e(n,o.value,a),o=o.next;return n};Yallist$1.prototype.reduceReverse=function(e,r){var n,o=this.tail;if(arguments.length>1)n=r;else if(this.tail)o=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;o!==null;a--)n=e(n,o.value,a),o=o.prev;return n};Yallist$1.prototype.toArray=function(){for(var e=new Array(this.length),r=0,n=this.head;n!==null;r++)e[r]=n.value,n=n.next;return e};Yallist$1.prototype.toArrayReverse=function(){for(var e=new Array(this.length),r=0,n=this.tail;n!==null;r++)e[r]=n.value,n=n.prev;return e};Yallist$1.prototype.slice=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Yallist$1;if(r<e||r<0)return n;e<0&&(e=0),r>this.length&&(r=this.length);for(var o=0,a=this.head;a!==null&&o<e;o++)a=a.next;for(;a!==null&&o<r;o++,a=a.next)n.push(a.value);return n};Yallist$1.prototype.sliceReverse=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Yallist$1;if(r<e||r<0)return n;e<0&&(e=0),r>this.length&&(r=this.length);for(var o=this.length,a=this.tail;a!==null&&o>r;o--)a=a.prev;for(;a!==null&&o>e;o--,a=a.prev)n.push(a.value);return n};Yallist$1.prototype.splice=function(e,r,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var o=0,a=this.head;a!==null&&o<e;o++)a=a.next;for(var s=[],o=0;a&&o<r;o++)s.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var o=0;o<n.length;o++)a=insert(this,a,n[o]);return s};Yallist$1.prototype.reverse=function(){for(var e=this.head,r=this.tail,n=e;n!==null;n=n.prev){var o=n.prev;n.prev=n.next,n.next=o}return this.head=r,this.tail=e,this};function insert(e,r,n){var o=r===e.head?new Node(n,null,r,e):new Node(n,r,r.next,e);return o.next===null&&(e.tail=o),o.prev===null&&(e.head=o),e.length++,o}function push(e,r){e.tail=new Node(r,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function unshift(e,r){e.head=new Node(r,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Node(e,r,n,o){if(!(this instanceof Node))return new Node(e,r,n,o);this.list=o,this.value=e,r?(r.next=this,this.prev=r):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{requireIterator()(Yallist$1)}catch(e){}const Yallist=yallist,MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=r.max||1/0;const n=r.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof n!="function"?naiveLength:n,this[ALLOW_STALE]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=r.maxAge||0,this[DISPOSE]=r.dispose,this[NO_DISPOSE_ON_SET]=r.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[MAX]=r||1/0,trim$1(this)}get max(){return this[MAX]}set allowStale(r){this[ALLOW_STALE]=!!r}get allowStale(){return this[ALLOW_STALE]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=r,trim$1(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(r){typeof r!="function"&&(r=naiveLength),r!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=r,this[LENGTH]=0,this[LRU_LIST].forEach(n=>{n.length=this[LENGTH_CALCULATOR](n.value,n.key),this[LENGTH]+=n.length})),trim$1(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(r,n){n=n||this;for(let o=this[LRU_LIST].tail;o!==null;){const a=o.prev;forEachStep(this,r,o,n),o=a}}forEach(r,n){n=n||this;for(let o=this[LRU_LIST].head;o!==null;){const a=o.next;forEachStep(this,r,o,n),o=a}}keys(){return this[LRU_LIST].toArray().map(r=>r.key)}values(){return this[LRU_LIST].toArray().map(r=>r.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(r=>this[DISPOSE](r.key,r.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(r=>isStale(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[LRU_LIST]}set(r,n,o){if(o=o||this[MAX_AGE],o&&typeof o!="number")throw new TypeError("maxAge must be a number");const a=o?Date.now():0,s=this[LENGTH_CALCULATOR](n,r);if(this[CACHE].has(r)){if(s>this[MAX])return del(this,this[CACHE].get(r)),!1;const v=this[CACHE].get(r).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](r,v.value)),v.now=a,v.maxAge=o,v.value=n,this[LENGTH]+=s-v.length,v.length=s,this.get(r),trim$1(this),!0}const l=new Entry(r,n,s,a,o);return l.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](r,n),!1):(this[LENGTH]+=l.length,this[LRU_LIST].unshift(l),this[CACHE].set(r,this[LRU_LIST].head),trim$1(this),!0)}has(r){if(!this[CACHE].has(r))return!1;const n=this[CACHE].get(r).value;return!isStale(this,n)}get(r){return get(this,r,!0)}peek(r){return get(this,r,!1)}pop(){const r=this[LRU_LIST].tail;return r?(del(this,r),r.value):null}del(r){del(this,this[CACHE].get(r))}load(r){this.reset();const n=Date.now();for(let o=r.length-1;o>=0;o--){const a=r[o],s=a.e||0;if(s===0)this.set(a.k,a.v);else{const l=s-n;l>0&&this.set(a.k,a.v,l)}}}prune(){this[CACHE].forEach((r,n)=>get(this,n,!1))}}const get=(e,r,n)=>{const o=e[CACHE].get(r);if(o){const a=o.value;if(isStale(e,a)){if(del(e,o),!e[ALLOW_STALE])return}else n&&(e[UPDATE_AGE_ON_GET]&&(o.value.now=Date.now()),e[LRU_LIST].unshiftNode(o));return a.value}},isStale=(e,r)=>{if(!r||!r.maxAge&&!e[MAX_AGE])return!1;const n=Date.now()-r.now;return r.maxAge?n>r.maxAge:e[MAX_AGE]&&n>e[MAX_AGE]},trim$1=e=>{if(e[LENGTH]>e[MAX])for(let r=e[LRU_LIST].tail;e[LENGTH]>e[MAX]&&r!==null;){const n=r.prev;del(e,r),r=n}},del=(e,r)=>{if(r){const n=r.value;e[DISPOSE]&&e[DISPOSE](n.key,n.value),e[LENGTH]-=n.length,e[CACHE].delete(n.key),e[LRU_LIST].removeNode(r)}};class Entry{constructor(r,n,o,a,s){this.key=r,this.value=n,this.length=o,this.now=a,this.maxAge=s||0}}const forEachStep=(e,r,n,o)=>{let a=n.value;isStale(e,a)&&(del(e,n),e[ALLOW_STALE]||(a=void 0)),a&&r.call(o,a.value,a.key,e)};var lruCache=LRUCache,range$3,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range$3;hasRequiredRange=1;class e{constructor(d,c){if(c=o(c),d instanceof e)return d.loose===!!c.loose&&d.includePrerelease===!!c.includePrerelease?d:new e(d.raw,c);if(d instanceof a)return this.raw=d.value,this.set=[[d]],this.format(),this;if(this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease,this.raw=d,this.set=d.split("||").map(g=>this.parseRange(g.trim())).filter(g=>g.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${d}`);if(this.set.length>1){const g=this.set[0];if(this.set=this.set.filter(m=>!j(m[0])),this.set.length===0)this.set=[g];else if(this.set.length>1){for(const m of this.set)if(m.length===1&&V(m[0])){this.set=[m];break}}}this.format()}format(){return this.range=this.set.map(d=>d.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(d){d=d.trim();const g=`parseRange:${Object.keys(this.options).join(",")}:${d}`,m=n.get(g);if(m)return m;const w=this.options.loose,S=w?h[v.HYPHENRANGELOOSE]:h[v.HYPHENRANGE];d=d.replace(S,te(this.options.includePrerelease)),s("hyphen replace",d),d=d.replace(h[v.COMPARATORTRIM],x),s("comparator trim",d),d=d.replace(h[v.TILDETRIM],M),d=d.replace(h[v.CARETTRIM],P),d=d.split(/\s+/).join(" ");let $=d.split(" ").map(O=>se(O,this.options)).join(" ").split(/\s+/).map(O=>H(O,this.options));w&&($=$.filter(O=>(s("loose invalid filter",O,this.options),!!O.match(h[v.COMPARATORLOOSE])))),s("range list",$);const f=new Map,y=$.map(O=>new a(O,this.options));for(const O of y){if(j(O))return[O];f.set(O.value,O)}f.size>1&&f.has("")&&f.delete("");const B=[...f.values()];return n.set(g,B),B}intersects(d,c){if(!(d instanceof e))throw new TypeError("a Range is required");return this.set.some(g=>ee(g,c)&&d.set.some(m=>ee(m,c)&&g.every(w=>m.every(S=>w.intersects(S,c)))))}test(d){if(!d)return!1;if(typeof d=="string")try{d=new l(d,this.options)}catch{return!1}for(let c=0;c<this.set.length;c++)if(E(this.set[c],d,this.options))return!0;return!1}}range$3=e;const r=lruCache,n=new r({max:1e3}),o=parseOptions_1,a=requireComparator(),s=debug_1,l=semver$1,{re:h,t:v,comparatorTrimReplace:x,tildeTrimReplace:M,caretTrimReplace:P}=reExports,j=u=>u.value==="<0.0.0-0",V=u=>u.value==="",ee=(u,d)=>{let c=!0;const g=u.slice();let m=g.pop();for(;c&&g.length;)c=g.every(w=>m.intersects(w,d)),m=g.pop();return c},se=(u,d)=>(s("comp",u,d),u=ye(u,d),s("caret",u),u=$e(u,d),s("tildes",u),u=J(u,d),s("xrange",u),u=ae(u,d),s("stars",u),u),Q=u=>!u||u.toLowerCase()==="x"||u==="*",$e=(u,d)=>u.trim().split(/\s+/).map(c=>Ie(c,d)).join(" "),Ie=(u,d)=>{const c=d.loose?h[v.TILDELOOSE]:h[v.TILDE];return u.replace(c,(g,m,w,S,$)=>{s("tilde",u,g,m,w,S,$);let f;return Q(m)?f="":Q(w)?f=`>=${m}.0.0 <${+m+1}.0.0-0`:Q(S)?f=`>=${m}.${w}.0 <${m}.${+w+1}.0-0`:$?(s("replaceTilde pr",$),f=`>=${m}.${w}.${S}-${$} <${m}.${+w+1}.0-0`):f=`>=${m}.${w}.${S} <${m}.${+w+1}.0-0`,s("tilde return",f),f})},ye=(u,d)=>u.trim().split(/\s+/).map(c=>G(c,d)).join(" "),G=(u,d)=>{s("caret",u,d);const c=d.loose?h[v.CARETLOOSE]:h[v.CARET],g=d.includePrerelease?"-0":"";return u.replace(c,(m,w,S,$,f)=>{s("caret",u,m,w,S,$,f);let y;return Q(w)?y="":Q(S)?y=`>=${w}.0.0${g} <${+w+1}.0.0-0`:Q($)?w==="0"?y=`>=${w}.${S}.0${g} <${w}.${+S+1}.0-0`:y=`>=${w}.${S}.0${g} <${+w+1}.0.0-0`:f?(s("replaceCaret pr",f),w==="0"?S==="0"?y=`>=${w}.${S}.${$}-${f} <${w}.${S}.${+$+1}-0`:y=`>=${w}.${S}.${$}-${f} <${w}.${+S+1}.0-0`:y=`>=${w}.${S}.${$}-${f} <${+w+1}.0.0-0`):(s("no pr"),w==="0"?S==="0"?y=`>=${w}.${S}.${$}${g} <${w}.${S}.${+$+1}-0`:y=`>=${w}.${S}.${$}${g} <${w}.${+S+1}.0-0`:y=`>=${w}.${S}.${$} <${+w+1}.0.0-0`),s("caret return",y),y})},J=(u,d)=>(s("replaceXRanges",u,d),u.split(/\s+/).map(c=>le(c,d)).join(" ")),le=(u,d)=>{u=u.trim();const c=d.loose?h[v.XRANGELOOSE]:h[v.XRANGE];return u.replace(c,(g,m,w,S,$,f)=>{s("xRange",u,g,m,w,S,$,f);const y=Q(w),B=y||Q(S),O=B||Q($),oe=O;return m==="="&&oe&&(m=""),f=d.includePrerelease?"-0":"",y?m===">"||m==="<"?g="<0.0.0-0":g="*":m&&oe?(B&&(S=0),$=0,m===">"?(m=">=",B?(w=+w+1,S=0,$=0):(S=+S+1,$=0)):m==="<="&&(m="<",B?w=+w+1:S=+S+1),m==="<"&&(f="-0"),g=`${m+w}.${S}.${$}${f}`):B?g=`>=${w}.0.0${f} <${+w+1}.0.0-0`:O&&(g=`>=${w}.${S}.0${f} <${w}.${+S+1}.0-0`),s("xRange return",g),g})},ae=(u,d)=>(s("replaceStars",u,d),u.trim().replace(h[v.STAR],"")),H=(u,d)=>(s("replaceGTE0",u,d),u.trim().replace(h[d.includePrerelease?v.GTE0PRE:v.GTE0],"")),te=u=>(d,c,g,m,w,S,$,f,y,B,O,oe,he)=>(Q(g)?c="":Q(m)?c=`>=${g}.0.0${u?"-0":""}`:Q(w)?c=`>=${g}.${m}.0${u?"-0":""}`:S?c=`>=${c}`:c=`>=${c}${u?"-0":""}`,Q(y)?f="":Q(B)?f=`<${+y+1}.0.0-0`:Q(O)?f=`<${y}.${+B+1}.0-0`:oe?f=`<=${y}.${B}.${O}-${oe}`:u?f=`<${y}.${B}.${+O+1}-0`:f=`<=${f}`,`${c} ${f}`.trim()),E=(u,d,c)=>{for(let g=0;g<u.length;g++)if(!u[g].test(d))return!1;if(d.prerelease.length&&!c.includePrerelease){for(let g=0;g<u.length;g++)if(s(u[g].semver),u[g].semver!==a.ANY&&u[g].semver.prerelease.length>0){const m=u[g].semver;if(m.major===d.major&&m.minor===d.minor&&m.patch===d.patch)return!0}return!1}return!0};return range$3}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(M,P){if(P=n(P),M instanceof r){if(M.loose===!!P.loose)return M;M=M.value}l("comparator",M,P),this.options=P,this.loose=!!P.loose,this.parse(M),this.semver===e?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(M){const P=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],j=M.match(P);if(!j)throw new TypeError(`Invalid comparator: ${M}`);this.operator=j[1]!==void 0?j[1]:"",this.operator==="="&&(this.operator=""),j[2]?this.semver=new h(j[2],this.options.loose):this.semver=e}toString(){return this.value}test(M){if(l("Comparator.test",M,this.options.loose),this.semver===e||M===e)return!0;if(typeof M=="string")try{M=new h(M,this.options)}catch{return!1}return s(M,this.operator,this.semver,this.options)}intersects(M,P){if(!(M instanceof r))throw new TypeError("a Comparator is required");if((!P||typeof P!="object")&&(P={loose:!!P,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new v(M.value,P).test(this.value);if(M.operator==="")return M.value===""?!0:new v(this.value,P).test(M.semver);const j=(this.operator===">="||this.operator===">")&&(M.operator===">="||M.operator===">"),V=(this.operator==="<="||this.operator==="<")&&(M.operator==="<="||M.operator==="<"),ee=this.semver.version===M.semver.version,se=(this.operator===">="||this.operator==="<=")&&(M.operator===">="||M.operator==="<="),Q=s(this.semver,"<",M.semver,P)&&(this.operator===">="||this.operator===">")&&(M.operator==="<="||M.operator==="<"),$e=s(this.semver,">",M.semver,P)&&(this.operator==="<="||this.operator==="<")&&(M.operator===">="||M.operator===">");return j||V||ee&&se||Q||$e}}comparator=r;const n=parseOptions_1,{re:o,t:a}=reExports,s=cmp_1,l=debug_1,h=semver$1,v=requireRange();return comparator}const Range$9=requireRange(),satisfies$4=(e,r,n)=>{try{r=new Range$9(r,n)}catch{return!1}return r.test(e)};var satisfies_1=satisfies$4;const Range$8=requireRange(),toComparators$1=(e,r)=>new Range$8(e,r).set.map(n=>n.map(o=>o.value).join(" ").trim().split(" "));var toComparators_1=toComparators$1;const SemVer$4=semver$1,Range$7=requireRange(),maxSatisfying$1=(e,r,n)=>{let o=null,a=null,s=null;try{s=new Range$7(r,n)}catch{return null}return e.forEach(l=>{s.test(l)&&(!o||a.compare(l)===-1)&&(o=l,a=new SemVer$4(o,n))}),o};var maxSatisfying_1=maxSatisfying$1;const SemVer$3=semver$1,Range$6=requireRange(),minSatisfying$1=(e,r,n)=>{let o=null,a=null,s=null;try{s=new Range$6(r,n)}catch{return null}return e.forEach(l=>{s.test(l)&&(!o||a.compare(l)===1)&&(o=l,a=new SemVer$3(o,n))}),o};var minSatisfying_1=minSatisfying$1;const SemVer$2=semver$1,Range$5=requireRange(),gt$2=gt_1,minVersion$1=(e,r)=>{e=new Range$5(e,r);let n=new SemVer$2("0.0.0");if(e.test(n)||(n=new SemVer$2("0.0.0-0"),e.test(n)))return n;n=null;for(let o=0;o<e.set.length;++o){const a=e.set[o];let s=null;a.forEach(l=>{const h=new SemVer$2(l.semver.version);switch(l.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!s||gt$2(h,s))&&(s=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),s&&(!n||gt$2(n,s))&&(n=s)}return n&&e.test(n)?n:null};var minVersion_1=minVersion$1;const Range$4=requireRange(),validRange$1=(e,r)=>{try{return new Range$4(e,r).range||"*"}catch{return null}};var valid$1=validRange$1;const SemVer$1=semver$1,Comparator$2=requireComparator(),{ANY:ANY$1}=Comparator$2,Range$3=requireRange(),satisfies$3=satisfies_1,gt$1=gt_1,lt$1=lt_1,lte$1=lte_1,gte$1=gte_1,outside$3=(e,r,n,o)=>{e=new SemVer$1(e,o),r=new Range$3(r,o);let a,s,l,h,v;switch(n){case">":a=gt$1,s=lte$1,l=lt$1,h=">",v=">=";break;case"<":a=lt$1,s=gte$1,l=gt$1,h="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$3(e,r,o))return!1;for(let x=0;x<r.set.length;++x){const M=r.set[x];let P=null,j=null;if(M.forEach(V=>{V.semver===ANY$1&&(V=new Comparator$2(">=0.0.0")),P=P||V,j=j||V,a(V.semver,P.semver,o)?P=V:l(V.semver,j.semver,o)&&(j=V)}),P.operator===h||P.operator===v||(!j.operator||j.operator===h)&&s(e,j.semver))return!1;if(j.operator===v&&l(e,j.semver))return!1}return!0};var outside_1=outside$3;const outside$2=outside_1,gtr$1=(e,r,n)=>outside$2(e,r,">",n);var gtr_1=gtr$1;const outside$1=outside_1,ltr$1=(e,r,n)=>outside$1(e,r,"<",n);var ltr_1=ltr$1;const Range$2=requireRange(),intersects$1=(e,r,n)=>(e=new Range$2(e,n),r=new Range$2(r,n),e.intersects(r));var intersects_1=intersects$1;const satisfies$2=satisfies_1,compare$2=compare_1;var simplify=(e,r,n)=>{const o=[];let a=null,s=null;const l=e.sort((M,P)=>compare$2(M,P,n));for(const M of l)satisfies$2(M,r,n)?(s=M,a||(a=M)):(s&&o.push([a,s]),s=null,a=null);a&&o.push([a,null]);const h=[];for(const[M,P]of o)M===P?h.push(M):!P&&M===l[0]?h.push("*"):P?M===l[0]?h.push(`<=${P}`):h.push(`${M} - ${P}`):h.push(`>=${M}`);const v=h.join(" || "),x=typeof r.raw=="string"?r.raw:String(r);return v.length<x.length?v:r};const Range$1=requireRange(),Comparator$1=requireComparator(),{ANY}=Comparator$1,satisfies$1=satisfies_1,compare$1=compare_1,subset$1=(e,r,n={})=>{if(e===r)return!0;e=new Range$1(e,n),r=new Range$1(r,n);let o=!1;e:for(const a of e.set){for(const s of r.set){const l=simpleSubset(a,s,n);if(o=o||l!==null,l)continue e}if(o)return!1}return!0},simpleSubset=(e,r,n)=>{if(e===r)return!0;if(e.length===1&&e[0].semver===ANY){if(r.length===1&&r[0].semver===ANY)return!0;n.includePrerelease?e=[new Comparator$1(">=0.0.0-0")]:e=[new Comparator$1(">=0.0.0")]}if(r.length===1&&r[0].semver===ANY){if(n.includePrerelease)return!0;r=[new Comparator$1(">=0.0.0")]}const o=new Set;let a,s;for(const V of e)V.operator===">"||V.operator===">="?a=higherGT(a,V,n):V.operator==="<"||V.operator==="<="?s=lowerLT(s,V,n):o.add(V.semver);if(o.size>1)return null;let l;if(a&&s){if(l=compare$1(a.semver,s.semver,n),l>0)return null;if(l===0&&(a.operator!==">="||s.operator!=="<="))return null}for(const V of o){if(a&&!satisfies$1(V,String(a),n)||s&&!satisfies$1(V,String(s),n))return null;for(const ee of r)if(!satisfies$1(V,String(ee),n))return!1;return!0}let h,v,x,M,P=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,j=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1;P&&P.prerelease.length===1&&s.operator==="<"&&P.prerelease[0]===0&&(P=!1);for(const V of r){if(M=M||V.operator===">"||V.operator===">=",x=x||V.operator==="<"||V.operator==="<=",a){if(j&&V.semver.prerelease&&V.semver.prerelease.length&&V.semver.major===j.major&&V.semver.minor===j.minor&&V.semver.patch===j.patch&&(j=!1),V.operator===">"||V.operator===">="){if(h=higherGT(a,V,n),h===V&&h!==a)return!1}else if(a.operator===">="&&!satisfies$1(a.semver,String(V),n))return!1}if(s){if(P&&V.semver.prerelease&&V.semver.prerelease.length&&V.semver.major===P.major&&V.semver.minor===P.minor&&V.semver.patch===P.patch&&(P=!1),V.operator==="<"||V.operator==="<="){if(v=lowerLT(s,V,n),v===V&&v!==s)return!1}else if(s.operator==="<="&&!satisfies$1(s.semver,String(V),n))return!1}if(!V.operator&&(s||a)&&l!==0)return!1}return!(a&&x&&!s&&l!==0||s&&M&&!a&&l!==0||j||P)},higherGT=(e,r,n)=>{if(!e)return r;const o=compare$1(e.semver,r.semver,n);return o>0?e:o<0||r.operator===">"&&e.operator===">="?r:e},lowerLT=(e,r,n)=>{if(!e)return r;const o=compare$1(e.semver,r.semver,n);return o<0?e:o>0||r.operator==="<"&&e.operator==="<="?r:e};var subset_1=subset$1;const internalRe=reExports,constants=constants$1,SemVer=semver$1,identifiers=identifiers$1,parse=parse_1,valid=valid_1,clean$1=clean_1,inc=inc_1,diff=diff_1,major=major_1,minor=minor_1,patch=patch_1,prerelease=prerelease_1,compare=compare_1,rcompare=rcompare_1,compareLoose=compareLoose_1,compareBuild=compareBuild_1,sort$2=sort_1,rsort=rsort_1,gt=gt_1,lt=lt_1,eq=eq_1,neq=neq_1,gte=gte_1,lte=lte_1,cmp=cmp_1,coerce=coerce_1,Comparator=requireComparator(),Range=requireRange(),satisfies=satisfies_1,toComparators=toComparators_1,maxSatisfying=maxSatisfying_1,minSatisfying=minSatisfying_1,minVersion=minVersion_1,validRange=valid$1,outside=outside_1,gtr=gtr_1,ltr=ltr_1,intersects=intersects_1,simplifyRange=simplify,subset=subset_1;var semver={parse,valid,clean:clean$1,inc,diff,major,minor,patch,prerelease,compare,rcompare,compareLoose,compareBuild,sort:sort$2,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers};const devices={blue:{id:"blue",productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,blockSize:4*1024,getBlockSize:e=>4*1024},nanoS:{id:"nanoS",productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,blockSize:4*1024,getBlockSize:e=>semver.lt(semver.coerce(e),"2.0.0")?4*1024:2*1024},nanoX:{id:"nanoX",productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,blockSize:4*1024,getBlockSize:e=>4*1024,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},devicesList=Object.values(devices),ledgerUSBVendorId=11415,identifyUSBProductId=e=>{const r=devicesList.find(a=>a.legacyUsbProductId===e);if(r)return r;const n=e>>8;return devicesList.find(a=>a.productIdMM===n)},bluetoothServices=[],serviceUuidToInfos={};for(let e in devices){const r=devices[e],{bluetoothSpec:n}=r;if(n)for(let o=0;o<n.length;o++){const a=n[o];bluetoothServices.push(a.serviceUuid),serviceUuidToInfos[a.serviceUuid]=serviceUuidToInfos[a.serviceUuid.replace(/-/g,"")]={deviceModel:r,...a}}}const getBluetoothServiceUuids=()=>bluetoothServices,getInfosForServiceUuid=e=>serviceUuidToInfos[e.toLowerCase()];let id=0;const subscribers=[],log=(e,r,n)=>{const o={type:e,id:String(++id),date:new Date};r&&(o.message=r),n&&(o.data=n),dispatch$8(o)},listen=e=>(subscribers.push(e),()=>{const r=subscribers.indexOf(e);r!==-1&&(subscribers[r]=subscribers[subscribers.length-1],subscribers.pop())});function dispatch$8(e){for(let r=0;r<subscribers.length;r++)try{subscribers[r](e)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=listen);const libEs=Object.freeze(Object.defineProperty({__proto__:null,listen,log},Symbol.toStringTag,{value:"Module"})),ledgerDevices$1=[{vendorId:ledgerUSBVendorId}];async function requestLedgerDevice(){return await navigator.usb.requestDevice({filters:ledgerDevices$1})}async function getLedgerDevices$1(){return(await navigator.usb.getDevices()).filter(r=>r.vendorId===ledgerUSBVendorId)}async function getFirstLedgerDevice$1(){const e=await getLedgerDevices$1();return e.length>0?e[0]:requestLedgerDevice()}const isSupported$1=()=>Promise.resolve(!!navigator&&!!navigator.usb&&typeof navigator.usb.getDevices=="function"),configurationValue=1,endpointNumber=3;let TransportWebUSB$1=class Kt extends Transport{constructor(r,n){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=o=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",o))},this.exchange=o=>this.exchangeAtomicImpl(async()=>{const{channel:a,packetSize:s}=this;log("apdu","=> "+o.toString("hex"));const l=default_1(a,s),h=l.makeBlocks(o);for(let M=0;M<h.length;M++)await this.device.transferOut(endpointNumber,h[M]);let v,x;for(;!(v=l.getReducedResult(x));){const M=await this.device.transferIn(endpointNumber,s),P=Buffer.from(M.data.buffer);x=l.reduceResponse(x,P)}return log("apdu","<= "+v.toString("hex")),v}).catch(a=>{throw a&&a.message&&a.message.includes("disconnected")?(this._emitDisconnect(a),new DisconnectedDeviceDuringOperation(a.message)):a}),this.device=r,this.interfaceNumber=n,this.deviceModel=identifyUSBProductId(r.productId)}static async request(){const r=await requestLedgerDevice();return Kt.open(r)}static async openConnected(){const r=await getLedgerDevices$1();return r.length===0?null:Kt.open(r[0])}static async open(r){await r.open(),r.configuration===null&&await r.selectConfiguration(configurationValue),await gracefullyResetDevice(r);const n=r.configurations[0].interfaces.find(({alternates:l})=>l.some(h=>h.interfaceClass===255));if(!n)throw new TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const o=n.interfaceNumber;try{await r.claimInterface(o)}catch(l){throw await r.close(),new TransportInterfaceNotAvailable(l.message)}const a=new Kt(r,o),s=l=>{r===l.device&&(navigator.usb.removeEventListener("disconnect",s),a._emitDisconnect(new DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",s),a}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await gracefullyResetDevice(this.device),await this.device.close()}setScrambleKey(){}};TransportWebUSB$1.isSupported=isSupported$1;TransportWebUSB$1.list=getLedgerDevices$1;TransportWebUSB$1.listen=e=>{let r=!1;getFirstLedgerDevice$1().then(o=>{if(!r){const a=identifyUSBProductId(o.productId);e.next({type:"add",descriptor:o,deviceModel:a}),e.complete()}},o=>{window.DOMException&&o instanceof window.DOMException&&o.code===18?e.error(new TransportWebUSBGestureRequired(o.message)):e.error(new TransportOpenUserCancelled(o.message))});function n(){r=!0}return{unsubscribe:n}};async function gracefullyResetDevice(e){try{await e.reset()}catch(r){console.warn(r)}}const TransportWebUSB$2=Object.freeze(Object.defineProperty({__proto__:null,default:TransportWebUSB$1},Symbol.toStringTag,{value:"Module"})),require$$12=getAugmentedNamespace(TransportWebUSB$2),ledgerDevices=[{vendorId:ledgerUSBVendorId}],isSupported=()=>Promise.resolve(!!(global.navigator&&global.navigator.hid)),getHID=()=>{const{hid:e}=navigator;if(!e)throw new TransportError("navigator.hid is not supported","HIDNotSupported");return e};async function requestLedgerDevices(){const e=await getHID().requestDevice({filters:ledgerDevices});return Array.isArray(e)?e:[e]}async function getLedgerDevices(){return(await getHID().getDevices()).filter(r=>r.vendorId===ledgerUSBVendorId)}async function getFirstLedgerDevice(){const e=await getLedgerDevices();return e.length>0?e[0]:(await requestLedgerDevices())[0]}let TransportWebHID$1=class Gt extends Transport{constructor(r){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(Math.random()*65535),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(n=>{this.inputCallback=n}),this.onInputReport=n=>{const o=Buffer.from(n.data.buffer);this.inputCallback?(this.inputCallback(o),this.inputCallback=null):this.inputs.push(o)},this._disconnectEmitted=!1,this._emitDisconnect=n=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",n))},this.exchange=n=>this.exchangeAtomicImpl(async()=>{const{channel:o,packetSize:a}=this;log("apdu","=> "+n.toString("hex"));const s=default_1(o,a),l=s.makeBlocks(n);for(let x=0;x<l.length;x++)await this.device.sendReport(0,l[x]);let h,v;for(;!(h=s.getReducedResult(v));){const x=await this.read();v=s.reduceResponse(v,x)}return log("apdu","<= "+h.toString("hex")),h}).catch(o=>{throw o&&o.message&&o.message.includes("write")?(this._emitDisconnect(o),new DisconnectedDeviceDuringOperation(o.message)):o}),this.device=r,this.deviceModel=identifyUSBProductId(r.productId),r.addEventListener("inputreport",this.onInputReport)}static async request(){const[r]=await requestLedgerDevices();return Gt.open(r)}static async openConnected(){const r=await getLedgerDevices();return r.length===0?null:Gt.open(r[0])}static async open(r){await r.open();const n=new Gt(r),o=a=>{r===a.device&&(getHID().removeEventListener("disconnect",o),n._emitDisconnect(new DisconnectedDevice))};return getHID().addEventListener("disconnect",o),n}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}};TransportWebHID$1.isSupported=isSupported;TransportWebHID$1.list=getLedgerDevices;TransportWebHID$1.listen=e=>{let r=!1;getFirstLedgerDevice().then(o=>{if(!o)e.error(new TransportOpenUserCancelled("Access denied to use Ledger device"));else if(!r){const a=identifyUSBProductId(o.productId);e.next({type:"add",descriptor:o,deviceModel:a}),e.complete()}},o=>{e.error(new TransportOpenUserCancelled(o.message))});function n(){r=!0}return{unsubscribe:n}};const TransportWebHID$2=Object.freeze(Object.defineProperty({__proto__:null,default:TransportWebHID$1},Symbol.toStringTag,{value:"Module"})),require$$13=getAugmentedNamespace(TransportWebHID$2);var sendAPDU$1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(e,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},extendStatics(e,r)};function __extends$1(e,r){extendStatics(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function isFunction$1(e){return typeof e=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var r=new Error;""+r.stack}_enable_super_gross_mode_that_will_cause_bad_things=e},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(e){setTimeout(function(){throw e},0)}var empty$4={closed:!0,next:function(e){},error:function(e){if(config.useDeprecatedSynchronousErrorHandling)throw e;hostReportError(e)},complete:function(){}},isArray$1=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function isObject$1(e){return e!==null&&typeof e=="object"}var UnsubscriptionErrorImpl=function(){function e(r){return Error.call(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r,this}return e.prototype=Object.create(Error.prototype),e}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function e(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}return e.prototype.unsubscribe=function(){var r;if(!this.closed){var n=this,o=n._parentOrParents,a=n._ctorUnsubscribe,s=n._unsubscribe,l=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof e)o.remove(this);else if(o!==null)for(var h=0;h<o.length;++h){var v=o[h];v.remove(this)}if(isFunction$1(s)){a&&(this._unsubscribe=void 0);try{s.call(this)}catch(P){r=P instanceof UnsubscriptionError?flattenUnsubscriptionErrors(P.errors):[P]}}if(isArray$1(l))for(var h=-1,x=l.length;++h<x;){var M=l[h];if(isObject$1(M))try{M.unsubscribe()}catch(j){r=r||[],j instanceof UnsubscriptionError?r=r.concat(flattenUnsubscriptionErrors(j.errors)):r.push(j)}}if(r)throw new UnsubscriptionError(r)}},e.prototype.add=function(r){var n=r;if(!r)return e.EMPTY;switch(typeof r){case"function":n=new e(r);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var o=n;n=new e,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var a=n._parentOrParents;if(a===null)n._parentOrParents=this;else if(a instanceof e){if(a===this)return n;n._parentOrParents=[a,this]}else if(a.indexOf(this)===-1)a.push(this);else return n;var s=this._subscriptions;return s===null?this._subscriptions=[n]:s.push(n),n},e.prototype.remove=function(r){var n=this._subscriptions;if(n){var o=n.indexOf(r);o!==-1&&n.splice(o,1)}},e.EMPTY=function(r){return r.closed=!0,r}(new e),e}();function flattenUnsubscriptionErrors(e){return e.reduce(function(r,n){return r.concat(n instanceof UnsubscriptionError?n.errors:n)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=empty$4;break;case 1:if(!n){s.destination=empty$4;break}if(typeof n=="object"){n instanceof r?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new SafeSubscriber(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new SafeSubscriber(s,n,o,a);break}return s}return r.prototype[rxSubscriber]=function(){return this},r.create=function(n,o,a){var s=new r(n,o,a);return s.syncErrorThrowable=!1,s},r.prototype.next=function(n){this.isStopped||this._next(n)},r.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},r.prototype._next=function(n){this.destination.next(n)},r.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},r}(Subscription),SafeSubscriber=function(e){__extends$1(r,e);function r(n,o,a,s){var l=e.call(this)||this;l._parentSubscriber=n;var h,v=l;return isFunction$1(o)?h=o:o&&(h=o.next,a=o.error,s=o.complete,o!==empty$4&&(v=Object.create(o),isFunction$1(v.unsubscribe)&&l.add(v.unsubscribe.bind(v)),v.unsubscribe=l.unsubscribe.bind(l))),l._context=v,l._next=h,l._error=a,l._complete=s,l}return r.prototype.next=function(n){if(!this.isStopped&&this._next){var o=this._parentSubscriber;!config.useDeprecatedSynchronousErrorHandling||!o.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(o,this._next,n)&&this.unsubscribe()}},r.prototype.error=function(n){if(!this.isStopped){var o=this._parentSubscriber,a=config.useDeprecatedSynchronousErrorHandling;if(this._error)!a||!o.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(o,this._error,n),this.unsubscribe());else if(o.syncErrorThrowable)a?(o.syncErrorValue=n,o.syncErrorThrown=!0):hostReportError(n),this.unsubscribe();else{if(this.unsubscribe(),a)throw n;hostReportError(n)}}},r.prototype.complete=function(){var n=this;if(!this.isStopped){var o=this._parentSubscriber;if(this._complete){var a=function(){return n._complete.call(n._context)};!config.useDeprecatedSynchronousErrorHandling||!o.syncErrorThrowable?(this.__tryOrUnsub(a),this.unsubscribe()):(this.__tryOrSetError(o,a),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(n,o){try{n.call(this._context,o)}catch(a){if(this.unsubscribe(),config.useDeprecatedSynchronousErrorHandling)throw a;hostReportError(a)}},r.prototype.__tryOrSetError=function(n,o,a){if(!config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{o.call(this._context,a)}catch(s){return config.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=s,n.syncErrorThrown=!0,!0):(hostReportError(s),!0)}return!1},r.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},r}(Subscriber);function canReportError(e){for(;e;){var r=e,n=r.closed,o=r.destination,a=r.isStopped;if(n||a)return!1;o&&o instanceof Subscriber?e=o:e=null}return!0}function toSubscriber(e,r,n){if(e){if(e instanceof Subscriber)return e;if(e[rxSubscriber])return e[rxSubscriber]()}return!e&&!r&&!n?new Subscriber(empty$4):new Subscriber(e,r,n)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$2(e){return e}function pipe$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pipeFromArray(e)}function pipeFromArray(e){return e.length===0?identity$2:e.length===1?e[0]:function(n){return e.reduce(function(o,a){return a(o)},n)}}var Observable=function(){function e(r){this._isScalar=!1,r&&(this._subscribe=r)}return e.prototype.lift=function(r){var n=new e;return n.source=this,n.operator=r,n},e.prototype.subscribe=function(r,n,o){var a=this.operator,s=toSubscriber(r,n,o);if(a?s.add(a.call(s,this.source)):s.add(this.source||config.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),config.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(n){config.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=n),canReportError(r)?r.error(n):console.warn(n)}},e.prototype.forEach=function(r,n){var o=this;return n=getPromiseCtor(n),new n(function(a,s){var l;l=o.subscribe(function(h){try{r(h)}catch(v){s(v),l&&l.unsubscribe()}},s,a)})},e.prototype._subscribe=function(r){var n=this.source;return n&&n.subscribe(r)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===0?this:pipeFromArray(r)(this)},e.prototype.toPromise=function(r){var n=this;return r=getPromiseCtor(r),new r(function(o,a){var s;n.subscribe(function(l){return s=l},function(l){return a(l)},function(){return o(s)})})},e.create=function(r){return new e(r)},e}();function getPromiseCtor(e){if(e||(e=config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var ObjectUnsubscribedErrorImpl=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this)||this;return a.subject=n,a.subscriber=o,a.closed=!1,a}return r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,o=n.observers;if(this.subject=null,!(!o||o.length===0||n.isStopped||n.closed)){var a=o.indexOf(this.subscriber);a!==-1&&o.splice(a,1)}}},r}(Subscription),SubjectSubscriber=function(e){__extends$1(r,e);function r(n){var o=e.call(this,n)||this;return o.destination=n,o}return r}(Subscriber),Subject=function(e){__extends$1(r,e);function r(){var n=e.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return r.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},r.prototype.lift=function(n){var o=new AnonymousSubject(this,this);return o.operator=n,o},r.prototype.next=function(n){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var o=this.observers,a=o.length,s=o.slice(),l=0;l<a;l++)s[l].next(n)},r.prototype.error=function(n){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var o=this.observers,a=o.length,s=o.slice(),l=0;l<a;l++)s[l].error(n);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var n=this.observers,o=n.length,a=n.slice(),s=0;s<o;s++)a[s].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(n){if(this.closed)throw new ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,n)},r.prototype._subscribe=function(n){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(n.error(this.thrownError),Subscription.EMPTY):this.isStopped?(n.complete(),Subscription.EMPTY):(this.observers.push(n),new SubjectSubscription(this,n))},r.prototype.asObservable=function(){var n=new Observable;return n.source=this,n},r.create=function(n,o){return new AnonymousSubject(n,o)},r}(Observable),AnonymousSubject=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this)||this;return a.destination=n,a.source=o,a}return r.prototype.next=function(n){var o=this.destination;o&&o.next&&o.next(n)},r.prototype.error=function(n){var o=this.destination;o&&o.error&&this.destination.error(n)},r.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},r.prototype._subscribe=function(n){var o=this.source;return o?this.source.subscribe(n):Subscription.EMPTY},r}(Subject);function refCount(){return function(r){return r.lift(new RefCountOperator(r))}}var RefCountOperator=function(){function e(r){this.connectable=r}return e.prototype.call=function(r,n){var o=this.connectable;o._refCount++;var a=new RefCountSubscriber(r,o),s=n.subscribe(a);return a.closed||(a.connection=o.connect()),s},e}(),RefCountSubscriber=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n)||this;return a.connectable=o,a}return r.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var o=n._refCount;if(o<=0){this.connection=null;return}if(n._refCount=o-1,o>1){this.connection=null;return}var a=this.connection,s=n._connection;this.connection=null,s&&(!a||s===a)&&s.unsubscribe()},r}(Subscriber),ConnectableObservable=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this)||this;return a.source=n,a.subjectFactory=o,a._refCount=0,a._isComplete=!1,a}return r.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},r.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},r.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new Subscription,n.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),n.closed&&(this._connection=null,n=Subscription.EMPTY)),n},r.prototype.refCount=function(){return refCount()(this)},r}(Observable),connectableObservableDescriptor=function(){var e=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ConnectableSubscriber=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n)||this;return a.connectable=o,a}return r.prototype._error=function(n){this._unsubscribe(),e.prototype._error.call(this,n)},r.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},r.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var o=n._connection;n._refCount=0,n._subject=null,n._connection=null,o&&o.unsubscribe()}},r}(SubjectSubscriber),GroupedObservable=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this)||this;return s.key=n,s.groupSubject=o,s.refCountSubscription=a,s}return r.prototype._subscribe=function(n){var o=new Subscription,a=this,s=a.refCountSubscription,l=a.groupSubject;return s&&!s.closed&&o.add(new InnerRefCountSubscription(s)),o.add(l.subscribe(n)),o},r}(Observable),InnerRefCountSubscription=function(e){__extends$1(r,e);function r(n){var o=e.call(this)||this;return o.parent=n,n.count++,o}return r.prototype.unsubscribe=function(){var n=this.parent;!n.closed&&!this.closed&&(e.prototype.unsubscribe.call(this),n.count-=1,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},r}(Subscription),BehaviorSubject=function(e){__extends$1(r,e);function r(n){var o=e.call(this)||this;return o._value=n,o}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),r.prototype._subscribe=function(n){var o=e.prototype._subscribe.call(this,n);return o&&!o.closed&&n.next(this._value),o},r.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},r.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},r}(Subject),Action=function(e){__extends$1(r,e);function r(n,o){return e.call(this)||this}return r.prototype.schedule=function(n,o){return this},r}(Subscription),AsyncAction=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.scheduler=n,a.work=o,a.pending=!1,a}return r.prototype.schedule=function(n,o){if(o===void 0&&(o=0),this.closed)return this;this.state=n;var a=this.id,s=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(s,a,o)),this.pending=!0,this.delay=o,this.id=this.id||this.requestAsyncId(s,this.id,o),this},r.prototype.requestAsyncId=function(n,o,a){return a===void 0&&(a=0),setInterval(n.flush.bind(n,this),a)},r.prototype.recycleAsyncId=function(n,o,a){if(a===void 0&&(a=0),a!==null&&this.delay===a&&this.pending===!1)return o;clearInterval(o)},r.prototype.execute=function(n,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(n,o);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(n,o){var a=!1,s=void 0;try{this.work(n)}catch(l){a=!0,s=!!l&&l||new Error(l)}if(a)return this.unsubscribe(),s},r.prototype._unsubscribe=function(){var n=this.id,o=this.scheduler,a=o.actions,s=a.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&a.splice(s,1),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null},r}(Action),QueueAction=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.scheduler=n,a.work=o,a}return r.prototype.schedule=function(n,o){return o===void 0&&(o=0),o>0?e.prototype.schedule.call(this,n,o):(this.delay=o,this.state=n,this.scheduler.flush(this),this)},r.prototype.execute=function(n,o){return o>0||this.closed?e.prototype.execute.call(this,n,o):this._execute(n,o)},r.prototype.requestAsyncId=function(n,o,a){return a===void 0&&(a=0),a!==null&&a>0||a===null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,o,a):n.flush(this)},r}(AsyncAction),Scheduler=function(){function e(r,n){n===void 0&&(n=e.now),this.SchedulerAction=r,this.now=n}return e.prototype.schedule=function(r,n,o){return n===void 0&&(n=0),new this.SchedulerAction(this,r).schedule(o,n)},e.now=function(){return Date.now()},e}(),AsyncScheduler=function(e){__extends$1(r,e);function r(n,o){o===void 0&&(o=Scheduler.now);var a=e.call(this,n,function(){return r.delegate&&r.delegate!==a?r.delegate.now():o()})||this;return a.actions=[],a.active=!1,a.scheduled=void 0,a}return r.prototype.schedule=function(n,o,a){return o===void 0&&(o=0),r.delegate&&r.delegate!==this?r.delegate.schedule(n,o,a):e.prototype.schedule.call(this,n,o,a)},r.prototype.flush=function(n){var o=this.actions;if(this.active){o.push(n);return}var a;this.active=!0;do if(a=n.execute(n.state,n.delay))break;while(n=o.shift());if(this.active=!1,a){for(;n=o.shift();)n.unsubscribe();throw a}},r}(Scheduler),QueueScheduler=function(e){__extends$1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(e){return e.complete()});function empty$3(e){return e?emptyScheduled(e):EMPTY}function emptyScheduled(e){return new Observable(function(r){return e.schedule(function(){return r.complete()})})}function isScheduler(e){return e&&typeof e.schedule=="function"}var subscribeToArray=function(e){return function(r){for(var n=0,o=e.length;n<o&&!r.closed;n++)r.next(e[n]);r.complete()}};function scheduleArray(e,r){return new Observable(function(n){var o=new Subscription,a=0;return o.add(r.schedule(function(){if(a===e.length){n.complete();return}n.next(e[a++]),n.closed||o.add(this.schedule())})),o})}function fromArray$1(e,r){return r?scheduleArray(e,r):new Observable(subscribeToArray(e))}function of$4(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[e.length-1];return isScheduler(n)?(e.pop(),scheduleArray(e,n)):fromArray$1(e)}function throwError$2(e,r){return r?new Observable(function(n){return r.schedule(dispatch$7,0,{error:e,subscriber:n})}):new Observable(function(n){return n.error(e)})}function dispatch$7(e){var r=e.error,n=e.subscriber;n.error(r)}var NotificationKind;NotificationKind||(NotificationKind={});var Notification=function(){function e(r,n,o){this.kind=r,this.value=n,this.error=o,this.hasValue=r==="N"}return e.prototype.observe=function(r){switch(this.kind){case"N":return r.next&&r.next(this.value);case"E":return r.error&&r.error(this.error);case"C":return r.complete&&r.complete()}},e.prototype.do=function(r,n,o){var a=this.kind;switch(a){case"N":return r&&r(this.value);case"E":return n&&n(this.error);case"C":return o&&o()}},e.prototype.accept=function(r,n,o){return r&&typeof r.next=="function"?this.observe(r):this.do(r,n,o)},e.prototype.toObservable=function(){var r=this.kind;switch(r){case"N":return of$4(this.value);case"E":return throwError$2(this.error);case"C":return empty$3()}throw new Error("unexpected notification kind value")},e.createNext=function(r){return typeof r<"u"?new e("N",r):e.undefinedValueNotification},e.createError=function(r){return new e("E",void 0,r)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),ObserveOnSubscriber=function(e){__extends$1(r,e);function r(n,o,a){a===void 0&&(a=0);var s=e.call(this,n)||this;return s.scheduler=o,s.delay=a,s}return r.dispatch=function(n){var o=n.notification,a=n.destination;o.observe(a),this.unsubscribe()},r.prototype.scheduleMessage=function(n){var o=this.destination;o.add(this.scheduler.schedule(r.dispatch,this.delay,new ObserveOnMessage(n,this.destination)))},r.prototype._next=function(n){this.scheduleMessage(Notification.createNext(n))},r.prototype._error=function(n){this.scheduleMessage(Notification.createError(n)),this.unsubscribe()},r.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},r}(Subscriber),ObserveOnMessage=function(){function e(r,n){this.notification=r,this.destination=n}return e}(),ReplaySubject=function(e){__extends$1(r,e);function r(n,o,a){n===void 0&&(n=Number.POSITIVE_INFINITY),o===void 0&&(o=Number.POSITIVE_INFINITY);var s=e.call(this)||this;return s.scheduler=a,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=n<1?1:n,s._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return r.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var o=this._events;o.push(n),o.length>this._bufferSize&&o.shift()}e.prototype.next.call(this,n)},r.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),n)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,n)},r.prototype._subscribe=function(n){var o=this._infiniteTimeWindow,a=o?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,l=a.length,h;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?h=Subscription.EMPTY:(this.observers.push(n),h=new SubjectSubscription(this,n)),s&&n.add(n=new ObserveOnSubscriber(n,s)),o)for(var v=0;v<l&&!n.closed;v++)n.next(a[v]);else for(var v=0;v<l&&!n.closed;v++)n.next(a[v].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),h},r.prototype._getNow=function(){return(this.scheduler||queue).now()},r.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),o=this._bufferSize,a=this._windowTime,s=this._events,l=s.length,h=0;h<l&&!(n-s[h].time<a);)h++;return l>o&&(h=Math.max(h,l-o)),h>0&&s.splice(0,h),s},r}(Subject),ReplayEvent=function(){function e(r,n){this.time=r,this.value=n}return e}(),AsyncSubject=function(e){__extends$1(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return r.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),Subscription.EMPTY):e.prototype._subscribe.call(this,n)},r.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},r.prototype.error=function(n){this.hasCompleted||e.prototype.error.call(this,n)},r.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},r}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(e){return e in activeHandles?(delete activeHandles[e],!0):!1}var Immediate={setImmediate:function(e){var r=nextHandle++;return activeHandles[r]=!0,RESOLVED.then(function(){return findAndClearHandle(r)&&e()}),r},clearImmediate:function(e){findAndClearHandle(e)}},AsapAction=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.scheduler=n,a.work=o,a}return r.prototype.requestAsyncId=function(n,o,a){return a===void 0&&(a=0),a!==null&&a>0?e.prototype.requestAsyncId.call(this,n,o,a):(n.actions.push(this),n.scheduled||(n.scheduled=Immediate.setImmediate(n.flush.bind(n,null))))},r.prototype.recycleAsyncId=function(n,o,a){if(a===void 0&&(a=0),a!==null&&a>0||a===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,n,o,a);n.actions.length===0&&(Immediate.clearImmediate(o),n.scheduled=void 0)},r}(AsyncAction),AsapScheduler=function(e){__extends$1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var o=this.actions,a,s=-1,l=o.length;n=n||o.shift();do if(a=n.execute(n.state,n.delay))break;while(++s<l&&(n=o.shift()));if(this.active=!1,a){for(;++s<l&&(n=o.shift());)n.unsubscribe();throw a}},r}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,AnimationFrameAction=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n,o)||this;return a.scheduler=n,a.work=o,a}return r.prototype.requestAsyncId=function(n,o,a){return a===void 0&&(a=0),a!==null&&a>0?e.prototype.requestAsyncId.call(this,n,o,a):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},r.prototype.recycleAsyncId=function(n,o,a){if(a===void 0&&(a=0),a!==null&&a>0||a===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,n,o,a);n.actions.length===0&&(cancelAnimationFrame(o),n.scheduled=void 0)},r}(AsyncAction),AnimationFrameScheduler=function(e){__extends$1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var o=this.actions,a,s=-1,l=o.length;n=n||o.shift();do if(a=n.execute(n.state,n.delay))break;while(++s<l&&(n=o.shift()));if(this.active=!1,a){for(;++s<l&&(n=o.shift());)n.unsubscribe();throw a}},r}(AsyncScheduler),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(e){__extends$1(r,e);function r(n,o){n===void 0&&(n=VirtualAction),o===void 0&&(o=Number.POSITIVE_INFINITY);var a=e.call(this,n,function(){return a.frame})||this;return a.maxFrames=o,a.frame=0,a.index=-1,a}return r.prototype.flush=function(){for(var n=this,o=n.actions,a=n.maxFrames,s,l;(l=o[0])&&l.delay<=a&&(o.shift(),this.frame=l.delay,!(s=l.execute(l.state,l.delay))););if(s){for(;l=o.shift();)l.unsubscribe();throw s}},r.frameTimeFactor=10,r}(AsyncScheduler),VirtualAction=function(e){__extends$1(r,e);function r(n,o,a){a===void 0&&(a=n.index+=1);var s=e.call(this,n,o)||this;return s.scheduler=n,s.work=o,s.index=a,s.active=!0,s.index=n.index=a,s}return r.prototype.schedule=function(n,o){if(o===void 0&&(o=0),!this.id)return e.prototype.schedule.call(this,n,o);this.active=!1;var a=new r(this.scheduler,this.work);return this.add(a),a.schedule(n,o)},r.prototype.requestAsyncId=function(n,o,a){a===void 0&&(a=0),this.delay=n.frame+a;var s=n.actions;return s.push(this),s.sort(r.sortActions),!0},r.prototype.recycleAsyncId=function(n,o,a){},r.prototype._execute=function(n,o){if(this.active===!0)return e.prototype._execute.call(this,n,o)},r.sortActions=function(n,o){return n.delay===o.delay?n.index===o.index?0:n.index>o.index?1:-1:n.delay>o.delay?1:-1},r}(AsyncAction);function noop(){}function isObservable(e){return!!e&&(e instanceof Observable||typeof e.lift=="function"&&typeof e.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),TimeoutError=TimeoutErrorImpl;function map$8(e,r){return function(o){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new MapOperator(e,r))}}var MapOperator=function(){function e(r,n){this.project=r,this.thisArg=n}return e.prototype.call=function(r,n){return n.subscribe(new MapSubscriber(r,this.project,this.thisArg))},e}(),MapSubscriber=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this,n)||this;return s.project=o,s.count=0,s.thisArg=a||s,s}return r.prototype._next=function(n){var o;try{o=this.project.call(this.thisArg,n,this.count++)}catch(a){this.destination.error(a);return}this.destination.next(o)},r}(Subscriber);function bindCallback(e,r,n){if(r)if(isScheduler(r))n=r;else return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return bindCallback(e,n).apply(void 0,o).pipe(map$8(function(s){return isArray$1(s)?r.apply(void 0,s):r(s)}))};return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=this,l,h={context:s,subject:l,callbackFunc:e,scheduler:n};return new Observable(function(v){if(n){var M={args:o,subscriber:v,params:h};return n.schedule(dispatch$6,0,M)}else{if(!l){l=new AsyncSubject;var x=function(){for(var P=[],j=0;j<arguments.length;j++)P[j]=arguments[j];l.next(P.length<=1?P[0]:P),l.complete()};try{e.apply(s,o.concat([x]))}catch(P){canReportError(l)?l.error(P):console.warn(P)}}return l.subscribe(v)}})}}function dispatch$6(e){var r=this,n=e.args,o=e.subscriber,a=e.params,s=a.callbackFunc,l=a.context,h=a.scheduler,v=a.subject;if(!v){v=a.subject=new AsyncSubject;var x=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];var j=M.length<=1?M[0]:M;r.add(h.schedule(dispatchNext$1,0,{value:j,subject:v}))};try{s.apply(l,n.concat([x]))}catch(M){v.error(M)}}this.add(v.subscribe(o))}function dispatchNext$1(e){var r=e.value,n=e.subject;n.next(r),n.complete()}function bindNodeCallback(e,r,n){if(r)if(isScheduler(r))n=r;else return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return bindNodeCallback(e,n).apply(void 0,o).pipe(map$8(function(s){return isArray$1(s)?r.apply(void 0,s):r(s)}))};return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s={subject:void 0,args:o,callbackFunc:e,scheduler:n,context:this};return new Observable(function(l){var h=s.context,v=s.subject;if(n)return n.schedule(dispatch$5,0,{params:s,subscriber:l,context:h});if(!v){v=s.subject=new AsyncSubject;var x=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];var j=M.shift();if(j){v.error(j);return}v.next(M.length<=1?M[0]:M),v.complete()};try{e.apply(h,o.concat([x]))}catch(M){canReportError(v)?v.error(M):console.warn(M)}}return v.subscribe(l)})}}function dispatch$5(e){var r=this,n=e.params,o=e.subscriber,a=e.context,s=n.callbackFunc,l=n.args,h=n.scheduler,v=n.subject;if(!v){v=n.subject=new AsyncSubject;var x=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];var j=M.shift();if(j)r.add(h.schedule(dispatchError,0,{err:j,subject:v}));else{var V=M.length<=1?M[0]:M;r.add(h.schedule(dispatchNext,0,{value:V,subject:v}))}};try{s.apply(a,l.concat([x]))}catch(M){this.add(h.schedule(dispatchError,0,{err:M,subject:v}))}}this.add(v.subscribe(o))}function dispatchNext(e){var r=e.value,n=e.subject;n.next(r),n.complete()}function dispatchError(e){var r=e.err,n=e.subject;n.error(r)}var OuterSubscriber=function(e){__extends$1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.notifyNext=function(n,o,a,s,l){this.destination.next(o)},r.prototype.notifyError=function(n,o){this.destination.error(n)},r.prototype.notifyComplete=function(n){this.destination.complete()},r}(Subscriber),InnerSubscriber=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this)||this;return s.parent=n,s.outerValue=o,s.outerIndex=a,s.index=0,s}return r.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},r.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(Subscriber),subscribeToPromise=function(e){return function(r){return e.then(function(n){r.closed||(r.next(n),r.complete())},function(n){return r.error(n)}).then(null,hostReportError),r}};function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator(),subscribeToIterable=function(e){return function(r){var n=e[iterator]();do{var o=void 0;try{o=n.next()}catch(a){return r.error(a),r}if(o.done){r.complete();break}if(r.next(o.value),r.closed)break}while(!0);return typeof n.return=="function"&&r.add(function(){n.return&&n.return()}),r}},subscribeToObservable=function(e){return function(r){var n=e[observable]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(r)}},isArrayLike$1=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function isPromise(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var subscribeTo=function(e){if(e&&typeof e[observable]=="function")return subscribeToObservable(e);if(isArrayLike$1(e))return subscribeToArray(e);if(isPromise(e))return subscribeToPromise(e);if(e&&typeof e[iterator]=="function")return subscribeToIterable(e);var r=isObject$1(e)?"an invalid object":"'"+e+"'",n="You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function subscribeToResult(e,r,n,o,a){if(a===void 0&&(a=new InnerSubscriber(e,n,o)),!a.closed)return r instanceof Observable?r.subscribe(a):subscribeTo(r)(a)}var NONE={};function combineLatest(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=void 0,o=void 0;return isScheduler(e[e.length-1])&&(o=e.pop()),typeof e[e.length-1]=="function"&&(n=e.pop()),e.length===1&&isArray$1(e[0])&&(e=e[0]),fromArray$1(e,o).lift(new CombineLatestOperator(n))}var CombineLatestOperator=function(){function e(r){this.resultSelector=r}return e.prototype.call=function(r,n){return n.subscribe(new CombineLatestSubscriber(r,this.resultSelector))},e}(),CombineLatestSubscriber=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n)||this;return a.resultSelector=o,a.active=0,a.values=[],a.observables=[],a}return r.prototype._next=function(n){this.values.push(NONE),this.observables.push(n)},r.prototype._complete=function(){var n=this.observables,o=n.length;if(o===0)this.destination.complete();else{this.active=o,this.toRespond=o;for(var a=0;a<o;a++){var s=n[a];this.add(subscribeToResult(this,s,void 0,a))}}},r.prototype.notifyComplete=function(n){(this.active-=1)===0&&this.destination.complete()},r.prototype.notifyNext=function(n,o,a){var s=this.values,l=s[a],h=this.toRespond?l===NONE?--this.toRespond:this.toRespond:0;s[a]=o,h===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},r.prototype._tryResultSelector=function(n){var o;try{o=this.resultSelector.apply(this,n)}catch(a){this.destination.error(a);return}this.destination.next(o)},r}(OuterSubscriber);function scheduleObservable(e,r){return new Observable(function(n){var o=new Subscription;return o.add(r.schedule(function(){var a=e[observable]();o.add(a.subscribe({next:function(s){o.add(r.schedule(function(){return n.next(s)}))},error:function(s){o.add(r.schedule(function(){return n.error(s)}))},complete:function(){o.add(r.schedule(function(){return n.complete()}))}}))})),o})}function schedulePromise(e,r){return new Observable(function(n){var o=new Subscription;return o.add(r.schedule(function(){return e.then(function(a){o.add(r.schedule(function(){n.next(a),o.add(r.schedule(function(){return n.complete()}))}))},function(a){o.add(r.schedule(function(){return n.error(a)}))})})),o})}function scheduleIterable(e,r){if(!e)throw new Error("Iterable cannot be null");return new Observable(function(n){var o=new Subscription,a;return o.add(function(){a&&typeof a.return=="function"&&a.return()}),o.add(r.schedule(function(){a=e[iterator](),o.add(r.schedule(function(){if(!n.closed){var s,l;try{var h=a.next();s=h.value,l=h.done}catch(v){n.error(v);return}l?n.complete():(n.next(s),this.schedule())}}))})),o})}function isInteropObservable(e){return e&&typeof e[observable]=="function"}function isIterable(e){return e&&typeof e[iterator]=="function"}function scheduled(e,r){if(e!=null){if(isInteropObservable(e))return scheduleObservable(e,r);if(isPromise(e))return schedulePromise(e,r);if(isArrayLike$1(e))return scheduleArray(e,r);if(isIterable(e)||typeof e=="string")return scheduleIterable(e,r)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function from(e,r){return r?scheduled(e,r):e instanceof Observable?e:new Observable(subscribeTo(e))}var SimpleInnerSubscriber=function(e){__extends$1(r,e);function r(n){var o=e.call(this)||this;return o.parent=n,o}return r.prototype._next=function(n){this.parent.notifyNext(n)},r.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(Subscriber),SimpleOuterSubscriber=function(e){__extends$1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.notifyNext=function(n){this.destination.next(n)},r.prototype.notifyError=function(n){this.destination.error(n)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(Subscriber);function innerSubscribe(e,r){if(!r.closed){if(e instanceof Observable)return e.subscribe(r);var n;try{n=subscribeTo(e)(r)}catch(o){r.error(o)}return n}}function mergeMap(e,r,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof r=="function"?function(o){return o.pipe(mergeMap(function(a,s){return from(e(a,s)).pipe(map$8(function(l,h){return r(a,l,s,h)}))},n))}:(typeof r=="number"&&(n=r),function(o){return o.lift(new MergeMapOperator(e,n))})}var MergeMapOperator=function(){function e(r,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=r,this.concurrent=n}return e.prototype.call=function(r,n){return n.subscribe(new MergeMapSubscriber(r,this.project,this.concurrent))},e}(),MergeMapSubscriber=function(e){__extends$1(r,e);function r(n,o,a){a===void 0&&(a=Number.POSITIVE_INFINITY);var s=e.call(this,n)||this;return s.project=o,s.concurrent=a,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return r.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},r.prototype._tryNext=function(n){var o,a=this.index++;try{o=this.project(n,a)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(o)},r.prototype._innerSub=function(n){var o=new SimpleInnerSubscriber(this),a=this.destination;a.add(o);var s=innerSubscribe(n,o);s!==o&&a.add(s)},r.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(n){this.destination.next(n)},r.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},r}(SimpleOuterSubscriber);function mergeAll$1(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),mergeMap(identity$2,e)}function concatAll$2(){return mergeAll$1(1)}function concat$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return concatAll$2()(of$4.apply(void 0,e))}function defer(e){return new Observable(function(r){var n;try{n=e()}catch(a){r.error(a);return}var o=n?from(n):empty$3();return o.subscribe(r)})}function forkJoin(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===1){var n=e[0];if(isArray$1(n))return forkJoinInternal(n,null);if(isObject$1(n)&&Object.getPrototypeOf(n)===Object.prototype){var o=Object.keys(n);return forkJoinInternal(o.map(function(s){return n[s]}),o)}}if(typeof e[e.length-1]=="function"){var a=e.pop();return e=e.length===1&&isArray$1(e[0])?e[0]:e,forkJoinInternal(e,null).pipe(map$8(function(s){return a.apply(void 0,s)}))}return forkJoinInternal(e,null)}function forkJoinInternal(e,r){return new Observable(function(n){var o=e.length;if(o===0){n.complete();return}for(var a=new Array(o),s=0,l=0,h=function(x){var M=from(e[x]),P=!1;n.add(M.subscribe({next:function(j){P||(P=!0,l++),a[x]=j},error:function(j){return n.error(j)},complete:function(){s++,(s===o||!P)&&(l===o&&n.next(r?r.reduce(function(j,V,ee){return j[V]=a[ee],j},{}):a),n.complete())}}))},v=0;v<o;v++)h(v)})}function fromEvent(e,r,n,o){return isFunction$1(n)&&(o=n,n=void 0),o?fromEvent(e,r,n).pipe(map$8(function(a){return isArray$1(a)?o.apply(void 0,a):o(a)})):new Observable(function(a){function s(l){arguments.length>1?a.next(Array.prototype.slice.call(arguments)):a.next(l)}setupSubscription(e,r,s,a,n)})}function setupSubscription(e,r,n,o,a){var s;if(isEventTarget(e)){var l=e;e.addEventListener(r,n,a),s=function(){return l.removeEventListener(r,n,a)}}else if(isJQueryStyleEventEmitter(e)){var h=e;e.on(r,n),s=function(){return h.off(r,n)}}else if(isNodeStyleEventEmitter(e)){var v=e;e.addListener(r,n),s=function(){return v.removeListener(r,n)}}else if(e&&e.length)for(var x=0,M=e.length;x<M;x++)setupSubscription(e[x],r,n,o,a);else throw new TypeError("Invalid event target");o.add(s)}function isNodeStyleEventEmitter(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function isJQueryStyleEventEmitter(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function isEventTarget(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function fromEventPattern(e,r,n){return n?fromEventPattern(e,r).pipe(map$8(function(o){return isArray$1(o)?n.apply(void 0,o):n(o)})):new Observable(function(o){var a=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return o.next(l.length===1?l[0]:l)},s;try{s=e(a)}catch(l){o.error(l);return}if(isFunction$1(r))return function(){return r(a,s)}})}function generate(e,r,n,o,a){var s,l;if(arguments.length==1){var h=e;l=h.initialState,r=h.condition,n=h.iterate,s=h.resultSelector||identity$2,a=h.scheduler}else o===void 0||isScheduler(o)?(l=e,s=identity$2,a=o):(l=e,s=o);return new Observable(function(v){var x=l;if(a)return a.schedule(dispatch$4,0,{subscriber:v,iterate:n,condition:r,resultSelector:s,state:x});do{if(r){var M=void 0;try{M=r(x)}catch(j){v.error(j);return}if(!M){v.complete();break}}var P=void 0;try{P=s(x)}catch(j){v.error(j);return}if(v.next(P),v.closed)break;try{x=n(x)}catch(j){v.error(j);return}}while(!0)})}function dispatch$4(e){var r=e.subscriber,n=e.condition;if(!r.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(s){r.error(s);return}else e.needIterate=!0;if(n){var o=void 0;try{o=n(e.state)}catch(s){r.error(s);return}if(!o){r.complete();return}if(r.closed)return}var a;try{a=e.resultSelector(e.state)}catch(s){r.error(s);return}if(!r.closed&&(r.next(a),!r.closed))return this.schedule(e)}}function iif(e,r,n){return r===void 0&&(r=EMPTY),n===void 0&&(n=EMPTY),defer(function(){return e()?r:n})}function isNumeric(e){return!isArray$1(e)&&e-parseFloat(e)+1>=0}function interval(e,r){return e===void 0&&(e=0),r===void 0&&(r=async),(!isNumeric(e)||e<0)&&(e=0),(!r||typeof r.schedule!="function")&&(r=async),new Observable(function(n){return n.add(r.schedule(dispatch$3,e,{subscriber:n,counter:0,period:e})),n})}function dispatch$3(e){var r=e.subscriber,n=e.counter,o=e.period;r.next(n),this.schedule({subscriber:r,counter:n+1,period:o},o)}function merge$1(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Number.POSITIVE_INFINITY,o=null,a=e[e.length-1];return isScheduler(a)?(o=e.pop(),e.length>1&&typeof e[e.length-1]=="number"&&(n=e.pop())):typeof a=="number"&&(n=e.pop()),o===null&&e.length===1&&e[0]instanceof Observable?e[0]:mergeAll$1(n)(fromArray$1(e,o))}var NEVER=new Observable(noop);function never$1(){return NEVER}function onErrorResumeNext(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===0)return EMPTY;var n=e[0],o=e.slice(1);return e.length===1&&isArray$1(n)?onErrorResumeNext.apply(void 0,n):new Observable(function(a){var s=function(){return a.add(onErrorResumeNext.apply(void 0,o).subscribe(a))};return from(n).subscribe({next:function(l){a.next(l)},error:s,complete:s})})}function pairs(e,r){return r?new Observable(function(n){var o=Object.keys(e),a=new Subscription;return a.add(r.schedule(dispatch$2,0,{keys:o,index:0,subscriber:n,subscription:a,obj:e})),a}):new Observable(function(n){for(var o=Object.keys(e),a=0;a<o.length&&!n.closed;a++){var s=o[a];e.hasOwnProperty(s)&&n.next([s,e[s]])}n.complete()})}function dispatch$2(e){var r=e.keys,n=e.index,o=e.subscriber,a=e.subscription,s=e.obj;if(!o.closed)if(n<r.length){var l=r[n];o.next([l,s[l]]),a.add(this.schedule({keys:r,index:n+1,subscriber:o,subscription:a,obj:s}))}else o.complete()}function not$1(e,r){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=r,n}function filter$6(e,r){return function(o){return o.lift(new FilterOperator(e,r))}}var FilterOperator=function(){function e(r,n){this.predicate=r,this.thisArg=n}return e.prototype.call=function(r,n){return n.subscribe(new FilterSubscriber(r,this.predicate,this.thisArg))},e}(),FilterSubscriber=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this,n)||this;return s.predicate=o,s.thisArg=a,s.count=0,s}return r.prototype._next=function(n){var o;try{o=this.predicate.call(this.thisArg,n,this.count++)}catch(a){this.destination.error(a);return}o&&this.destination.next(n)},r}(Subscriber);function partition$5(e,r,n){return[filter$6(r,n)(new Observable(subscribeTo(e))),filter$6(not$1(r,n))(new Observable(subscribeTo(e)))]}function race(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===1)if(isArray$1(e[0]))e=e[0];else return e[0];return fromArray$1(e,void 0).lift(new RaceOperator)}var RaceOperator=function(){function e(){}return e.prototype.call=function(r,n){return n.subscribe(new RaceSubscriber(r))},e}(),RaceSubscriber=function(e){__extends$1(r,e);function r(n){var o=e.call(this,n)||this;return o.hasFirst=!1,o.observables=[],o.subscriptions=[],o}return r.prototype._next=function(n){this.observables.push(n)},r.prototype._complete=function(){var n=this.observables,o=n.length;if(o===0)this.destination.complete();else{for(var a=0;a<o&&!this.hasFirst;a++){var s=n[a],l=subscribeToResult(this,s,void 0,a);this.subscriptions&&this.subscriptions.push(l),this.add(l)}this.observables=null}},r.prototype.notifyNext=function(n,o,a){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==a){var l=this.subscriptions[s];l.unsubscribe(),this.remove(l)}this.subscriptions=null}this.destination.next(o)},r}(OuterSubscriber);function range$2(e,r,n){return e===void 0&&(e=0),new Observable(function(o){r===void 0&&(r=e,e=0);var a=0,s=e;if(n)return n.schedule(dispatch$1,0,{index:a,count:r,start:e,subscriber:o});do{if(a++>=r){o.complete();break}if(o.next(s++),o.closed)break}while(!0)})}function dispatch$1(e){var r=e.start,n=e.index,o=e.count,a=e.subscriber;if(n>=o){a.complete();return}a.next(r),!a.closed&&(e.index=n+1,e.start=r+1,this.schedule(e))}function timer(e,r,n){e===void 0&&(e=0);var o=-1;return isNumeric(r)?o=Number(r)<1&&1||Number(r):isScheduler(r)&&(n=r),isScheduler(n)||(n=async),new Observable(function(a){var s=isNumeric(e)?e:+e-n.now();return n.schedule(dispatch,s,{index:0,period:o,subscriber:a})})}function dispatch(e){var r=e.index,n=e.period,o=e.subscriber;if(o.next(r),!o.closed){if(n===-1)return o.complete();e.index=r+1,this.schedule(e,n)}}function using(e,r){return new Observable(function(n){var o;try{o=e()}catch(h){n.error(h);return}var a;try{a=r(o)}catch(h){n.error(h);return}var s=a?from(a):EMPTY,l=s.subscribe(n);return function(){l.unsubscribe(),o&&o.unsubscribe()}})}function zip$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[e.length-1];return typeof n=="function"&&e.pop(),fromArray$1(e,void 0).lift(new ZipOperator(n))}var ZipOperator=function(){function e(r){this.resultSelector=r}return e.prototype.call=function(r,n){return n.subscribe(new ZipSubscriber(r,this.resultSelector))},e}(),ZipSubscriber=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this,n)||this;return s.resultSelector=o,s.iterators=[],s.active=0,s.resultSelector=typeof o=="function"?o:void 0,s}return r.prototype._next=function(n){var o=this.iterators;isArray$1(n)?o.push(new StaticArrayIterator(n)):typeof n[iterator]=="function"?o.push(new StaticIterator(n[iterator]())):o.push(new ZipBufferIterator(this.destination,this,n))},r.prototype._complete=function(){var n=this.iterators,o=n.length;if(this.unsubscribe(),o===0){this.destination.complete();return}this.active=o;for(var a=0;a<o;a++){var s=n[a];if(s.stillUnsubscribed){var l=this.destination;l.add(s.subscribe())}else this.active--}},r.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},r.prototype.checkIterators=function(){for(var n=this.iterators,o=n.length,a=this.destination,s=0;s<o;s++){var l=n[s];if(typeof l.hasValue=="function"&&!l.hasValue())return}for(var h=!1,v=[],s=0;s<o;s++){var l=n[s],x=l.next();if(l.hasCompleted()&&(h=!0),x.done){a.complete();return}v.push(x.value)}this.resultSelector?this._tryresultSelector(v):a.next(v),h&&a.complete()},r.prototype._tryresultSelector=function(n){var o;try{o=this.resultSelector.apply(this,n)}catch(a){this.destination.error(a);return}this.destination.next(o)},r}(Subscriber),StaticIterator=function(){function e(r){this.iterator=r,this.nextResult=r.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var r=this.nextResult;return this.nextResult=this.iterator.next(),r},e.prototype.hasCompleted=function(){var r=this.nextResult;return Boolean(r&&r.done)},e}(),StaticArrayIterator=function(){function e(r){this.array=r,this.index=0,this.length=0,this.length=r.length}return e.prototype[iterator]=function(){return this},e.prototype.next=function(r){var n=this.index++,o=this.array;return n<this.length?{value:o[n],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),ZipBufferIterator=function(e){__extends$1(r,e);function r(n,o,a){var s=e.call(this,n)||this;return s.parent=o,s.observable=a,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return r.prototype[iterator]=function(){return this},r.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},r.prototype.hasValue=function(){return this.buffer.length>0},r.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},r.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},r.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},r.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},r}(SimpleOuterSubscriber);const _esm5=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError,AsyncSubject,BehaviorSubject,ConnectableObservable,EMPTY,EmptyError,GroupedObservable,NEVER,Notification,get NotificationKind(){return NotificationKind},ObjectUnsubscribedError,Observable,ReplaySubject,Scheduler,Subject,Subscriber,Subscription,TimeoutError,UnsubscriptionError,VirtualAction,VirtualTimeScheduler,animationFrame,animationFrameScheduler,asap,asapScheduler,async,asyncScheduler,bindCallback,bindNodeCallback,combineLatest,concat:concat$2,config,defer,empty:empty$3,forkJoin,from,fromEvent,fromEventPattern,generate,identity:identity$2,iif,interval,isObservable,merge:merge$1,never:never$1,noop,observable,of:of$4,onErrorResumeNext,pairs,partition:partition$5,pipe:pipe$2,queue,queueScheduler,race,range:range$2,scheduled,throwError:throwError$2,timer,using,zip:zip$2},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(_esm5),require$$2$1=getAugmentedNamespace(libEs);Object.defineProperty(sendAPDU$1,"__esModule",{value:!0});var sendAPDU_2=sendAPDU$1.sendAPDU=void 0,_rxjs$1=require$$1$2,_logs$1=require$$2$1;const TagId$1=5;function chunkBuffer(e,r){const n=[];for(let o=0,a=r(0);o<e.length;o+=a,a=r(o))n.push(e.slice(o,o+a));return n}const sendAPDU=(e,r,n)=>{const o=chunkBuffer(r,a=>n-(a===0?5:3)).map((a,s)=>{const l=Buffer.alloc(s===0?5:3);return l.writeUInt8(TagId$1,0),l.writeUInt16BE(s,1),s===0&&l.writeUInt16BE(r.length,3),Buffer.concat([l,a])});return _rxjs$1.Observable.create(a=>{let s=!1;async function l(){for(const v of o){if(s)return;await e(v)}}return l().then(()=>{s=!0,a.complete()},v=>{s=!0,(0,_logs$1.log)("ble-error","sendAPDU failure "+String(v)),a.error(v)}),()=>{s||((0,_logs$1.log)("ble-verbose","sendAPDU interruption"),s=!0)}})};sendAPDU_2=sendAPDU$1.sendAPDU=sendAPDU;var receiveAPDU$1={};Object.defineProperty(receiveAPDU$1,"__esModule",{value:!0});var receiveAPDU_2=receiveAPDU$1.receiveAPDU=void 0,_errors=require$$0$1,_rxjs=require$$1$2,_logs=require$$2$1;const TagId=5,receiveAPDU=e=>_rxjs.Observable.create(r=>{let n=0,o=0,a=Buffer.alloc(0);const s=e.subscribe({complete:()=>{r.error(new _errors.DisconnectedDevice),s.unsubscribe()},error:l=>{(0,_logs.log)("ble-error","in receiveAPDU "+String(l)),r.error(l),s.unsubscribe()},next:l=>{const h=l.readUInt8(0),v=l.readUInt16BE(1);let x=l.slice(3);if(h!==TagId){r.error(new _errors.TransportError("Invalid tag "+h.toString(16),"InvalidTag"));return}if(n!==v){r.error(new _errors.TransportError("BLE: Invalid sequence number. discontinued chunk. Received "+v+" but expected "+n,"InvalidSequence"));return}if(v===0&&(o=x.readUInt16BE(0),x=x.slice(2)),n++,a=Buffer.concat([a,x]),a.length>o){r.error(new _errors.TransportError("BLE: received too much data. discontinued chunk. Received "+a.length+" but expected "+o,"BLETooMuchData"));return}a.length===o&&(r.next(a),r.complete(),s.unsubscribe())}});return()=>{s.unsubscribe()}});receiveAPDU_2=receiveAPDU$1.receiveAPDU=receiveAPDU;function defaultIfEmpty(e){return e===void 0&&(e=null),function(r){return r.lift(new DefaultIfEmptyOperator(e))}}var DefaultIfEmptyOperator=function(){function e(r){this.defaultValue=r}return e.prototype.call=function(r,n){return n.subscribe(new DefaultIfEmptySubscriber(r,this.defaultValue))},e}(),DefaultIfEmptySubscriber=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n)||this;return a.defaultValue=o,a.isEmpty=!0,a}return r.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},r.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},r}(Subscriber);function throwIfEmpty(e){return e===void 0&&(e=defaultErrorFactory),function(r){return r.lift(new ThrowIfEmptyOperator(e))}}var ThrowIfEmptyOperator=function(){function e(r){this.errorFactory=r}return e.prototype.call=function(r,n){return n.subscribe(new ThrowIfEmptySubscriber(r,this.errorFactory))},e}(),ThrowIfEmptySubscriber=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n)||this;return a.errorFactory=o,a.hasValue=!1,a}return r.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},r.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(o){n=o}this.destination.error(n)},r}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(e){return function(r){return e===0?empty$3():r.lift(new TakeOperator(e))}}var TakeOperator=function(){function e(r){if(this.total=r,this.total<0)throw new ArgumentOutOfRangeError}return e.prototype.call=function(r,n){return n.subscribe(new TakeSubscriber(r,this.total))},e}(),TakeSubscriber=function(e){__extends$1(r,e);function r(n,o){var a=e.call(this,n)||this;return a.total=o,a.count=0,a}return r.prototype._next=function(n){var o=this.total,a=++this.count;a<=o&&(this.destination.next(n),a===o&&(this.destination.complete(),this.unsubscribe()))},r}(Subscriber);function first$1(e,r){var n=arguments.length>=2;return function(o){return o.pipe(e?filter$6(function(a,s){return e(a,s,o)}):identity$2,take(1),n?defaultIfEmpty(r):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(r){return r.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function e(){}return e.prototype.call=function(r,n){return n.subscribe(new IgnoreElementsSubscriber(r))},e}(),IgnoreElementsSubscriber=function(e){__extends$1(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype._next=function(n){},r}(Subscriber);function multicast(e,r){return function(o){var a;if(typeof e=="function"?a=e:a=function(){return e},typeof r=="function")return o.lift(new MulticastOperator(a,r));var s=Object.create(o,connectableObservableDescriptor);return s.source=o,s.subjectFactory=a,s}}var MulticastOperator=function(){function e(r,n){this.subjectFactory=r,this.selector=n}return e.prototype.call=function(r,n){var o=this.selector,a=this.subjectFactory(),s=o(a).subscribe(r);return s.add(n.subscribe(a)),s},e}();function shareSubjectFactory(){return new Subject}function share(){return function(e){return refCount()(multicast(shareSubjectFactory)(e))}}function tap(e,r,n){return function(a){return a.lift(new DoOperator(e,r,n))}}var DoOperator=function(){function e(r,n,o){this.nextOrObserver=r,this.error=n,this.complete=o}return e.prototype.call=function(r,n){return n.subscribe(new TapSubscriber(r,this.nextOrObserver,this.error,this.complete))},e}(),TapSubscriber=function(e){__extends$1(r,e);function r(n,o,a,s){var l=e.call(this,n)||this;return l._tapNext=noop,l._tapError=noop,l._tapComplete=noop,l._tapError=a||noop,l._tapComplete=s||noop,isFunction$1(o)?(l._context=l,l._tapNext=o):o&&(l._context=o,l._tapNext=o.next||noop,l._tapError=o.error||noop,l._tapComplete=o.complete||noop),l}return r.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(o){this.destination.error(o);return}this.destination.next(n)},r.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(o){this.destination.error(o);return}this.destination.error(n)},r.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},r}(Subscriber);const monitorCharacteristic=e=>Observable.create(r=>{log("ble-verbose","start monitor "+e.uuid);function n(o){const a=o.target;a.value&&r.next(Buffer.from(a.value.buffer))}return e.startNotifications().then(()=>{e.addEventListener("characteristicvaluechanged",n)}),()=>{log("ble-verbose","end monitor "+e.uuid),e.stopNotifications()}}),requiresBluetooth=()=>{const{bluetooth:e}=navigator;if(typeof e>"u")throw new Error("web bluetooth not supported");return e},availability=()=>Observable.create(e=>{const r=requiresBluetooth(),n=a=>{e.next(a.value)};r.addEventListener("availabilitychanged",n);let o=!1;return r.getAvailability().then(a=>{o||e.next(a)}),()=>{o=!0,r.removeEventListener("availabilitychanged",n)}}),transportsCache={},requestDeviceParam=()=>({filters:getBluetoothServiceUuids().map(e=>({services:[e]}))}),retrieveService=async e=>{if(!e.gatt)throw new Error("bluetooth gatt not found");const[r]=await e.gatt.getPrimaryServices();if(!r)throw new Error("bluetooth service not found");const n=getInfosForServiceUuid(r.uuid);if(!n)throw new Error("bluetooth service infos not found");return[r,n]};async function open(e,r){let n;if(typeof e=="string"){if(transportsCache[e])return log("ble-verbose","Transport in cache, using that."),transportsCache[e];n=await requiresBluetooth().requestDevice(requestDeviceParam())}else n=e;n.gatt.connected||(log("ble-verbose","not connected. connecting..."),await n.gatt.connect());const[o,a]=await retrieveService(n),{deviceModel:s,writeUuid:l,notifyUuid:h}=a,[v,x]=await Promise.all([o.getCharacteristic(l),o.getCharacteristic(h)]),M=monitorCharacteristic(x).pipe(tap(se=>{log("ble-frame","<= "+se.toString("hex"))}),share()),P=M.subscribe(),j=new BluetoothTransport$1(n,v,M,s);if(!n.gatt.connected)throw new DisconnectedDevice;transportsCache[j.id]=j;const V=se=>{console.log("onDisconnect!",se),delete transportsCache[j.id],j.notYetDisconnected=!1,P.unsubscribe(),n.removeEventListener("gattserverdisconnected",V),log("ble-verbose",`BleTransport(${j.id}) disconnected`),j.emit("disconnect",se)};n.addEventListener("gattserverdisconnected",V);let ee=Date.now();try{await j.inferMTU()}finally{Date.now()-ee<1e3&&(r=!1),r&&(await n.gatt.disconnect(),await new Promise(Q=>setTimeout(Q,4e3)))}return r?open(n,!1):j}let BluetoothTransport$1=class extends Transport{static listen(r){log("ble-verbose","listen...");let n;requiresBluetooth().requestDevice(requestDeviceParam()).then(async s=>{n||(r.next({type:"add",descriptor:s}),r.complete())},s=>{r.error(new TransportOpenUserCancelled(s.message))});function a(){n=!0}return{unsubscribe:a}}static async open(r){return open(r,!0)}constructor(r,n,o,a){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=s=>this.exchangeAtomicImpl(async()=>{try{const l=s.toString("hex");log("apdu",`=> ${l}`);const h=await merge$1(this.notifyObservable.pipe(receiveAPDU_2),sendAPDU_2(this.write,s,this.mtuSize)).toPromise(),v=h.toString("hex");return log("apdu",`<= ${v}`),h}catch(l){throw log("ble-error","exchange got "+String(l)),this.notYetDisconnected&&this.device.gatt.disconnect(),l}}),this.write=async s=>{log("ble-frame","=> "+s.toString("hex")),await this.writeCharacteristic.writeValue(s)},this.id=r.id,this.device=r,this.writeCharacteristic=n,this.notifyObservable=o,this.deviceModel=a,log("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}async inferMTU(){let r=23;if(await this.exchangeAtomicImpl(async()=>{try{r=await merge$1(this.notifyObservable.pipe(first$1(n=>n.readUInt8(0)===8),map$8(n=>n.readUInt8(5))),defer(()=>from(this.write(Buffer.from([8,0,0,0,0])))).pipe(ignoreElements())).toPromise()+3}catch(n){throw log("ble-error","inferMTU got "+String(n)),this.device.gatt.disconnect(),n}}),r>23){const n=r-3;log("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(n)}`),this.mtuSize=n}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}};BluetoothTransport$1.isSupported=()=>Promise.resolve().then(requiresBluetooth).then(()=>!0,()=>!1);BluetoothTransport$1.observeAvailability=e=>availability.subscribe(e);BluetoothTransport$1.list=()=>Promise.resolve([]);BluetoothTransport$1.disconnect=async e=>{log("ble-verbose",`user disconnect(${e})`);const r=transportsCache[e];r&&r.device.gatt.disconnect()};const TransportWebBLE=Object.freeze(Object.defineProperty({__proto__:null,default:BluetoothTransport$1},Symbol.toStringTag,{value:"Module"})),require$$14=getAugmentedNamespace(TransportWebBLE);var dns={},Dns$3={};const{parseAddress:parseAddress$2}=NftUtils,{AdnlAddress,StorageBagId,BN:BN$1,sha256:sha256$4,bytesToHex:bytesToHex$1,bytesToBase64}=utils$b,{Cell:Cell$3}=boc$1,DNS_CATEGORY_NEXT_RESOLVER$1="dns_next_resolver",DNS_CATEGORY_WALLET$1="wallet",DNS_CATEGORY_SITE$1="site",DNS_CATEGORY_STORAGE$1="storage",categoryToBN$1=async e=>{if(!e)return new BN$1(0);const r=new TextEncoder().encode(e),n=new Uint8Array(await sha256$4(r));return new BN$1(bytesToHex$1(n),16)},createSmartContractAddressRecord$1=e=>{const r=new Cell$3;return r.bits.writeUint(40915,16),r.bits.writeAddress(e),r.bits.writeUint(0,8),r},createAdnlAddressRecord$1=e=>{const r=new Cell$3;return r.bits.writeUint(44289,16),r.bits.writeBytes(e.bytes),r.bits.writeUint(0,8),r},createStorageBagIdRecord$1=e=>{const r=new Cell$3;return r.bits.writeUint(29811,16),r.bits.writeBytes(e.bytes),r},createNextResolverRecord$1=e=>{const r=new Cell$3;return r.bits.writeUint(47763,16),r.bits.writeAddress(e),r},parseSmartContractAddressImpl=(e,r,n)=>{if(e.bits.array[0]!==r||e.bits.array[1]!==n)throw new Error("Invalid dns record value prefix");return e.bits.array=e.bits.array.slice(2),parseAddress$2(e)},parseSmartContractAddressRecord$1=e=>parseSmartContractAddressImpl(e,159,211),parseNextResolverRecord$1=e=>parseSmartContractAddressImpl(e,186,147),parseAdnlAddressRecord$1=e=>{if(e.bits.array[0]!==173||e.bits.array[1]!==1)throw new Error("Invalid dns record value prefix");const r=e.bits.array.slice(2,2+32);return new AdnlAddress(r)},parseStorageBagIdRecord$1=e=>{if(e.bits.array[0]!==116||e.bits.array[1]!==115)throw new Error("Invalid dns record value prefix");const r=e.bits.array.slice(2,2+32);return new StorageBagId(r)},parseSiteRecord$1=e=>e?e.bits.array[0]===173||e.bits.array[1]===1?parseAdnlAddressRecord$1(e):parseStorageBagIdRecord$1(e):null,dnsResolveImpl=async(e,r,n,o,a)=>{const s=n.length*8,l=new Cell$3;l.bits.writeBytes(n);const h=await categoryToBN$1(o),v=await e.call2(r,"dnsresolve",[["tvm.Slice",bytesToBase64(await l.toBoc(!1))],["num",h.toString()]]);if(v.length!==2)throw new Error("Invalid dnsresolve response");const x=v[0].toNumber();let M=v[1];if(M instanceof Array&&M.length===0&&(M=null),M&&!M.bits)throw new Error("Invalid dnsresolve response");if(x===0)return null;if(x%8!==0)throw new Error("domain split not at a component boundary");if(x>s)throw new Error("invalid response "+x+"/"+s);if(x===s)return o===DNS_CATEGORY_NEXT_RESOLVER$1?M?parseNextResolverRecord$1(M):null:o===DNS_CATEGORY_WALLET$1?M?parseSmartContractAddressRecord$1(M):null:o===DNS_CATEGORY_SITE$1?M?parseSiteRecord$1(M):null:o===DNS_CATEGORY_STORAGE$1?M?parseStorageBagIdRecord$1(M):null:M;if(M){const P=parseNextResolverRecord$1(M);return a?o===DNS_CATEGORY_NEXT_RESOLVER$1?P:null:await dnsResolveImpl(e,P.toString(),n.slice(x/8),o,!1)}else return null},domainToBytes=e=>{if(!e||!e.length)throw new Error("empty domain");if(e===".")return new Uint8Array([0]);e=e.toLowerCase();for(let o=0;o<e.length;o++)if(e.charCodeAt(o)<=32)throw new Error("bytes in range 0..32 are not allowed in domain names");for(let o=0;o<e.length;o++){const a=e.substring(o,o+1);for(let s=127;s<=159;s++)if(a===String.fromCharCode(s))throw new Error("bytes in range 127..159 are not allowed in domain names")}const r=e.split(".");r.forEach(o=>{if(!o.length)throw new Error("domain name cannot have an empty component")});let n=r.reverse().join("\0")+"\0";return n.length<126&&(n="\0"+n),new TextEncoder().encode(n)},dnsResolve$3=async(e,r,n,o,a)=>{const s=domainToBytes(n);return dnsResolveImpl(e,r,s,o,a)};var DnsUtils={DNS_CATEGORY_NEXT_RESOLVER:DNS_CATEGORY_NEXT_RESOLVER$1,DNS_CATEGORY_SITE:DNS_CATEGORY_SITE$1,DNS_CATEGORY_WALLET:DNS_CATEGORY_WALLET$1,DNS_CATEGORY_STORAGE:DNS_CATEGORY_STORAGE$1,categoryToBN:categoryToBN$1,domainToBytes,createSmartContractAddressRecord:createSmartContractAddressRecord$1,createAdnlAddressRecord:createAdnlAddressRecord$1,createNextResolverRecord:createNextResolverRecord$1,parseSmartContractAddressRecord:parseSmartContractAddressRecord$1,parseAdnlAddressRecord:parseAdnlAddressRecord$1,parseStorageBagIdRecord:parseStorageBagIdRecord$1,parseSiteRecord:parseSiteRecord$1,parseNextResolverRecord:parseNextResolverRecord$1,createStorageBagIdRecord:createStorageBagIdRecord$1,dnsResolve:dnsResolve$3};const{Address:Address$4,bytesToHex}=utils$b,{DNS_CATEGORY_NEXT_RESOLVER,DNS_CATEGORY_SITE,DNS_CATEGORY_WALLET,DNS_CATEGORY_STORAGE,createSmartContractAddressRecord,createAdnlAddressRecord,createStorageBagIdRecord,createNextResolverRecord,parseSmartContractAddressRecord,parseAdnlAddressRecord,parseStorageBagIdRecord,parseSiteRecord,parseNextResolverRecord,dnsResolve:dnsResolve$2}=DnsUtils;let Dns$2=class{constructor(r){this.provider=r}async getRootDnsAddress(){const n=(await this.provider.getConfigParam(4)).bits.array;if(n.length!==256/8)throw new Error("Invalid ConfigParam 4 length "+n.length);const o=bytesToHex(n);return new Address$4("-1:"+o)}async resolve(r,n,o){const a=await this.getRootDnsAddress();return dnsResolve$2(this.provider,a.toString(),r,n,o)}getWalletAddress(r){return this.resolve(r,DNS_CATEGORY_WALLET)}getSiteAddress(r){return this.resolve(r,DNS_CATEGORY_SITE)}};Dns$2.resolve=dnsResolve$2;Dns$2.createSmartContractAddressRecord=createSmartContractAddressRecord;Dns$2.createAdnlAddressRecord=createAdnlAddressRecord;Dns$2.createStorageBagIdRecord=createStorageBagIdRecord;Dns$2.createNextResolverRecord=createNextResolverRecord;Dns$2.parseNextResolverRecord=parseNextResolverRecord;Dns$2.parseAdnlAddressRecord=parseAdnlAddressRecord;Dns$2.parseStorageBagIdRecord=parseStorageBagIdRecord;Dns$2.parseSiteRecord=parseSiteRecord;Dns$2.parseSmartContractAddressRecord=parseSmartContractAddressRecord;Dns$2.DNS_CATEGORY_NEXT_RESOLVER=DNS_CATEGORY_NEXT_RESOLVER;Dns$2.DNS_CATEGORY_WALLET=DNS_CATEGORY_WALLET;Dns$2.DNS_CATEGORY_SITE=DNS_CATEGORY_SITE;Dns$2.DNS_CATEGORY_STORAGE=DNS_CATEGORY_STORAGE;Dns$3.default=Dns$2;const{Contract:Contract$2}=contract,{Cell:Cell$2}=boc$1,{parseAddress:parseAddress$1}=NftUtils,{dnsResolve:dnsResolve$1}=DnsUtils,{parseOffchainUriCell}=NftUtils;let DnsCollection$2=class extends Contract$2{constructor(r,n){if(n.wc=0,n.code=n.code,super(r,n),!n.collectionContent&&!n.address)throw new Error("required collectionContent cell");this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.resolve=this.resolve.bind(this)}createDataCell(){const r=new Cell$2;return r.refs[0]=this.options.collectionContent,r.refs[1]=Cell$2.oneFromBoc(this.options.dnsItemCodeHex),r}async getCollectionData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_collection_data"),o=n[0].toNumber(),a=n[1];return{collectionContentUri:parseOffchainUriCell(a),collectionContent:a,ownerAddress:null,nextItemIndex:o}}async getNftItemContent(r){return await r.getData()}async getNftItemAddressByIndex(r){const n=await this.getAddress(),o=await this.provider.call2(n.toString(),"get_nft_address_by_index",[["num",r.toString()]]);return parseAddress$1(o)}async resolve(r,n,o){const a=await this.getAddress();return dnsResolve$1(this.provider,a.toString(),r,n,o)}};var DnsCollection_1={DnsCollection:DnsCollection$2};const{Contract:Contract$1}=contract,{Cell:Cell$1}=boc$1,{Address:Address$3,BN}=utils$b,{parseAddress}=NftUtils,{dnsResolve,categoryToBN}=DnsUtils;let DnsItem$2=class extends Contract$1{constructor(r,n){n.wc=0,n.code=n.code,super(r,n),this.methods.getData=this.getData.bind(this),this.methods.getDomain=this.getDomain.bind(this),this.methods.getAuctionInfo=this.getAuctionInfo.bind(this),this.methods.getLastFillUpTime=this.getLastFillUpTime.bind(this),this.methods.resolve=this.resolve.bind(this)}createDataCell(){const r=new Cell$1;return r.bits.writeUint(this.options.index,256),r.bits.writeAddress(this.options.collectionAddress),r}async getData(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_nft_data"),o=n[0].toNumber()===-1,a=n[1],s=parseAddress(n[2]),l=o?parseAddress(n[3]):null,h=n[4];return{isInitialized:o,index:a,collectionAddress:s,ownerAddress:l,contentCell:h}}async createTransferBody(r){const n=new Cell$1;return n.bits.writeUint(1607220500,32),n.bits.writeUint(r.queryId||0,64),n.bits.writeAddress(r.newOwnerAddress),n.bits.writeAddress(r.responseAddress),n.bits.writeBit(!1),n.bits.writeCoins(r.forwardAmount||new BN(0)),n.bits.writeBit(!1),r.forwardPayload&&n.bits.writeBytes(r.forwardPayload),n}createGetStaticDataBody(r){const n=new Cell$1;return n.bits.writeUint(801842850,32),n.bits.writeUint(r.queryId||0,64),n}async getDomain(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_domain");return new TextDecoder().decode(n.bits.array.buffer)}async getAuctionInfo(){const r=await this.getAddress(),n=await this.provider.call2(r.toString(),"get_auction_info"),o=parseAddress(n[0]),a=n[1],s=n[2].toNumber();return{maxBidAddress:o,maxBidAmount:a,auctionEndTime:s}}async getLastFillUpTime(){const r=await this.getAddress();return(await this.provider.call2(r.toString(),"get_last_fill_up_time")).toNumber()}async resolve(r,n,o){const a=await this.getAddress();return dnsResolve(this.provider,a.toString(),r,n,o)}};DnsItem$2.createChangeContentEntryBody=async e=>{const r=new Cell$1;return r.bits.writeUint(1320284409,32),r.bits.writeUint(e.queryId||0,64),r.bits.writeUint(await categoryToBN(e.category),256),e.value&&(r.refs[0]=e.value),r};var DnsItem_1={DnsItem:DnsItem$2};const Dns$1=Dns$3.default,{DnsCollection:DnsCollection$1}=DnsCollection_1,{DnsItem:DnsItem$1}=DnsItem_1;dns.default={Dns:Dns$1,DnsCollection:DnsCollection$1,DnsItem:DnsItem$1};const utils$a=utils$b,Address$2=utils$a.Address,boc=boc$1,AppTon=AppTon_1,HttpProvider=providers.default,{Contract}=contract,Wallets=wallet.default,LockupWallets=lockup.default,NFT=nft.default,JETTON=ft.default,{BlockSubscription,InMemoryBlockStorage}=blockSubscription,{SubscriptionContract}=subscription,{Payments,PaymentChannel}=payments,TransportWebUSB=require$$12.default,TransportWebHID=require$$13.default,BluetoothTransport=require$$14.default,{Dns,DnsCollection,DnsItem}=dns.default,version$2="0.0.60";class TonWeb{constructor(r){this.version=version$2,this.utils=utils$a,this.Address=Address$2,this.boc=boc,this.Contract=Contract,this.BlockSubscription=BlockSubscription,this.InMemoryBlockStorage=InMemoryBlockStorage,this.provider=r||new HttpProvider,this.dns=new Dns(this.provider),this.wallet=new Wallets(this.provider),this.payments=new Payments(this.provider),this.lockupWallet=LockupWallets}async getTransactions(r,n=20,o=void 0,a=void 0,s=void 0){return this.provider.getTransactions(r.toString(),n,o,a,s)}async getBalance(r){return this.provider.getBalance(r.toString())}async sendBoc(r){return this.provider.sendBoc(utils$a.bytesToBase64(r))}async call(r,n,o=[]){return this.provider.call(r.toString(),n,o)}}TonWeb.version=version$2;TonWeb.utils=utils$a;TonWeb.Address=Address$2;TonWeb.boc=boc;TonWeb.HttpProvider=HttpProvider;TonWeb.Contract=Contract;TonWeb.Wallets=Wallets;TonWeb.LockupWallets=LockupWallets;TonWeb.SubscriptionContract=SubscriptionContract;TonWeb.BlockSubscription=BlockSubscription;TonWeb.InMemoryBlockStorage=InMemoryBlockStorage;TonWeb.ledger={TransportWebUSB,TransportWebHID,BluetoothTransport,AppTon};TonWeb.token={nft:NFT,ft:JETTON,jetton:JETTON};TonWeb.dns=Dns;TonWeb.dns.DnsCollection=DnsCollection;TonWeb.dns.DnsItem=DnsItem;TonWeb.payments=Payments;TonWeb.payments.PaymentChannel=PaymentChannel;var dist$2={},dist$1={},Address$1={};const SymbolInspect=Symbol.for("nodejs.util.inspect.custom");var symbol_inspect=SymbolInspect,crc16$2={};Object.defineProperty(crc16$2,"__esModule",{value:!0});crc16$2.crc16=void 0;function crc16$1(e){let n=0;const o=Buffer.alloc(e.length+2);o.set(e);for(let a of o){let s=128;for(;s>0;)n<<=1,a&s&&(n+=1),s>>=1,n>65535&&(n&=65535,n^=4129)}return Buffer.from([Math.floor(n/256),n%256])}crc16$2.crc16=crc16$1;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_a$2;Object.defineProperty(Address$1,"__esModule",{value:!0});Address$1.address=Address$1.Address=void 0;const symbol_inspect_1$2=__importDefault$9(symbol_inspect),crc16_1$1=crc16$2,bounceable_tag=17,non_bounceable_tag=81,test_flag=128;function parseFriendlyAddress(e){const r=Buffer.isBuffer(e)?e:Buffer.from(e,"base64");if(r.length!==36)throw new Error("Unknown address type: byte length is not equal to 36");const n=r.subarray(0,34),o=r.subarray(34,36),a=(0,crc16_1$1.crc16)(n);if(!(a[0]===o[0]&&a[1]===o[1]))throw new Error("Invalid checksum: "+e);let s=n[0],l=!1,h=!1;if(s&test_flag&&(l=!0,s=s^test_flag),s!==bounceable_tag&&s!==non_bounceable_tag)throw"Unknown address tag";h=s===bounceable_tag;let v=null;n[1]===255?v=-1:v=n[1];const x=n.subarray(2,34);return{isTestOnly:l,isBounceable:h,workchain:v,hashPart:x}}class Address{static isAddress(r){return r instanceof Address}static isFriendly(r){return r.indexOf(":")<0}static normalize(r){return typeof r=="string"?Address.parse(r).toString():r.toString()}static parse(r){return Address.isFriendly(r)?this.parseFriendly(r).address:this.parseRaw(r)}static parseRaw(r){let n=parseInt(r.split(":")[0]),o=Buffer.from(r.split(":")[1],"hex");return new Address(n,o)}static parseFriendly(r){if(Buffer.isBuffer(r)){let n=parseFriendlyAddress(r);return{isBounceable:n.isBounceable,isTestOnly:n.isTestOnly,address:new Address(n.workchain,n.hashPart)}}else{let n=r.replace(/\-/g,"+").replace(/_/g,"/"),o=parseFriendlyAddress(n);return{isBounceable:o.isBounceable,isTestOnly:o.isTestOnly,address:new Address(o.workchain,o.hashPart)}}}constructor(r,n){this.toRawString=()=>this.workChain+":"+this.hash.toString("hex"),this.toRaw=()=>{const o=Buffer.alloc(36);return o.set(this.hash),o.set([this.workChain,this.workChain,this.workChain,this.workChain],32),o},this.toStringBuffer=o=>{let a=o&&o.testOnly!==void 0?o.testOnly:!1,l=(o&&o.bounceable!==void 0?o.bounceable:!0)?bounceable_tag:non_bounceable_tag;a&&(l|=test_flag);const h=Buffer.alloc(34);h[0]=l,h[1]=this.workChain,h.set(this.hash,2);const v=Buffer.alloc(36);return v.set(h),v.set((0,crc16_1$1.crc16)(h),34),v},this.toString=o=>{let a=o&&o.urlSafe!==void 0?o.urlSafe:!0,s=this.toStringBuffer(o);return a?s.toString("base64").replace(/\+/g,"-").replace(/\//g,"_"):s.toString("base64")},this[_a$2]=()=>this.toString(),this.workChain=r,this.hash=n,Object.freeze(this)}equals(r){return r.workChain!==this.workChain?!1:r.hash.equals(this.hash)}}Address$1.Address=Address;_a$2=symbol_inspect_1$2.default;function address(e){return Address.parse(e)}Address$1.address=address;var ExternalAddress$1={},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_a$1;Object.defineProperty(ExternalAddress$1,"__esModule",{value:!0});ExternalAddress$1.ExternalAddress=void 0;const symbol_inspect_1$1=__importDefault$8(symbol_inspect);class ExternalAddress{static isAddress(r){return r instanceof ExternalAddress}constructor(r,n){this[_a$1]=()=>this.toString(),this.value=r,this.bits=n}toString(){return`External<${this.bits}:${this.value}>`}}ExternalAddress$1.ExternalAddress=ExternalAddress;_a$1=symbol_inspect_1$1.default;var ADNLAddress$1={},base32={};Object.defineProperty(base32,"__esModule",{value:!0});base32.base32Decode=base32.base32Encode=void 0;const alphabet="abcdefghijklmnopqrstuvwxyz234567";function base32Encode(e){const r=e.byteLength;let n=0,o=0,a="";for(let s=0;s<r;s++)for(o=o<<8|e[s],n+=8;n>=5;)a+=alphabet[o>>>n-5&31],n-=5;return n>0&&(a+=alphabet[o<<5-n&31]),a}base32.base32Encode=base32Encode;function readChar(e,r){const n=e.indexOf(r);if(n===-1)throw new Error("Invalid character found: "+r);return n}function base32Decode(e){let r;r=e.toLowerCase();const{length:n}=r;let o=0,a=0,s=0;const l=Buffer.alloc(n*5/8|0);for(let h=0;h<n;h++)a=a<<5|readChar(alphabet,r[h]),o+=5,o>=8&&(l[s++]=a>>>o-8&255,o-=8);return l}base32.base32Decode=base32Decode;var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_a;Object.defineProperty(ADNLAddress$1,"__esModule",{value:!0});ADNLAddress$1.ADNLAddress=void 0;const symbol_inspect_1=__importDefault$7(symbol_inspect),base32_1=base32,crc16_1=crc16$2;class ADNLAddress{static parseFriendly(r){if(r.length!==55)throw Error("Invalid address");r="f"+r;let n=(0,base32_1.base32Decode)(r);if(n[0]!==45)throw Error("Invalid address");let o=n.slice(33);if(!(0,crc16_1.crc16)(n.slice(0,33)).equals(o))throw Error("Invalid address");return new ADNLAddress(n.slice(1,33))}static parseRaw(r){const n=Buffer.from(r,"base64");return new ADNLAddress(n)}constructor(r){if(this.toRaw=()=>this.address.toString("hex").toUpperCase(),this.toString=()=>{let n=Buffer.concat([Buffer.from([45]),this.address]),o=(0,crc16_1.crc16)(n);return n=Buffer.concat([n,o]),(0,base32_1.base32Encode)(n).slice(1)},this[_a]=()=>this.toString(),r.length!==32)throw Error("Invalid address");this.address=r}equals(r){return this.address.equals(r.address)}}ADNLAddress$1.ADNLAddress=ADNLAddress;_a=symbol_inspect_1.default;var contractAddress$1={},Builder={},BitBuilder={},BitString={},paddedBits={},hasRequiredPaddedBits;function requirePaddedBits(){if(hasRequiredPaddedBits)return paddedBits;hasRequiredPaddedBits=1,Object.defineProperty(paddedBits,"__esModule",{value:!0}),paddedBits.bitsToPaddedBuffer=void 0;const e=requireBitBuilder();function r(n){let o=new e.BitBuilder(Math.ceil(n.length/8)*8);o.writeBits(n);let a=Math.ceil(n.length/8)*8-n.length;for(let s=0;s<a;s++)s===0?o.writeBit(1):o.writeBit(0);return o.buffer()}return paddedBits.bitsToPaddedBuffer=r,paddedBits}var hasRequiredBitString;function requireBitString(){if(hasRequiredBitString)return BitString;hasRequiredBitString=1;var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},r;Object.defineProperty(BitString,"__esModule",{value:!0}),BitString.BitString=void 0;const n=requirePaddedBits(),o=e(symbol_inspect);let a=class Zt{constructor(l,h,v){if(this[r]=()=>this.toString(),v<0)throw new Error(`Length ${v} is out of bounds`);this._length=v,this._data=l,this._offset=h}get length(){return this._length}at(l){if(l>=this._length)throw new Error(`Index ${l} > ${this._length} is out of bounds`);if(l<0)throw new Error(`Index ${l} < 0 is out of bounds`);let h=this._offset+l>>3,v=7-(this._offset+l)%8;return(this._data[h]&1<<v)!==0}substring(l,h){if(h===0&&l===this._length)return Zt.EMPTY;if(l>=this._length)throw new Error(`Offset(${l}) > ${this._length} is out of bounds`);if(l<0)throw new Error(`Offset(${l}) < 0 is out of bounds`);if(l+h>this._length)throw new Error(`Offset ${l} + Length ${h} > ${this._length} is out of bounds`);return new Zt(this._data,this._offset+l,h)}subbuffer(l,h){if(l>=this._length)throw new Error(`Offset ${l} is out of bounds`);if(l<0)throw new Error(`Offset ${l} is out of bounds`);if(l+h>this._length)throw new Error(`Offset + Lenght = ${l+h} is out of bounds`);if(h%8!==0||(this._offset+l)%8!==0)return null;let v=this._offset+l>>3,x=v+(h>>3);return this._data.subarray(v,x)}equals(l){if(this._length!==l._length)return!1;for(let h=0;h<this._length;h++)if(this.at(h)!==l.at(h))return!1;return!0}toString(){const l=(0,n.bitsToPaddedBuffer)(this);if(this._length%4===0){const h=l.subarray(0,Math.ceil(this._length/8)).toString("hex").toUpperCase();return this._length%8===0?h:h.substring(0,h.length-1)}else{const h=l.toString("hex").toUpperCase();return this._length%8<=4?h.substring(0,h.length-1)+"_":h+"_"}}};return BitString.BitString=a,r=o.default,a.EMPTY=new a(Buffer.alloc(0),0,0),BitString}var hasRequiredBitBuilder;function requireBitBuilder(){if(hasRequiredBitBuilder)return BitBuilder;hasRequiredBitBuilder=1,Object.defineProperty(BitBuilder,"__esModule",{value:!0}),BitBuilder.BitBuilder=void 0;const e=Address$1,r=ExternalAddress$1,n=requireBitString();let o=class{constructor(s=1023){this._buffer=Buffer.alloc(Math.ceil(s/8)),this._length=0}get length(){return this._length}writeBit(s){let l=this._length;if(l>this._buffer.length*8)throw new Error("BitBuilder overflow");(s===!0||s>0)&&(this._buffer[l/8|0]|=1<<7-l%8),this._length++}writeBits(s){for(let l=0;l<s.length;l++)this.writeBit(s.at(l))}writeBuffer(s){if(this._length%8===0){if(this._length+s.length*8>this._buffer.length*8)throw new Error("BitBuilder overflow");s.copy(this._buffer,this._length/8),this._length+=s.length*8}else for(let l=0;l<s.length;l++)this.writeUint(s[l],8)}writeUint(s,l){if(l===8&&this._length%8===0){let M=Number(s);if(M<0||M>255||!Number.isSafeInteger(M))throw Error(`value is out of range for ${l} bits. Got ${s}`);this._buffer[this._length/8]=Number(s),this._length+=8;return}if(l===16&&this._length%8===0){let M=Number(s);if(M<0||M>65536||!Number.isSafeInteger(M))throw Error(`value is out of range for ${l} bits. Got ${s}`);this._buffer[this._length/8]=M>>8,this._buffer[this._length/8+1]=M&255,this._length+=16;return}let h=BigInt(s);if(l<0||!Number.isSafeInteger(l))throw Error(`invalid bit length. Got ${l}`);if(l===0){if(s!==0n)throw Error(`value is not zero for ${l} bits. Got ${s}`);return}let v=1n<<BigInt(l);if(h<0||h>=v)throw Error(`bitLength is too small for a value ${s}. Got ${l}`);let x=[];for(;h>0;)x.push(h%2n===1n),h/=2n;for(let M=0;M<l;M++){let P=l-M-1;P<x.length?this.writeBit(x[P]):this.writeBit(!1)}}writeInt(s,l){let h=BigInt(s);if(l<0||!Number.isSafeInteger(l))throw Error(`invalid bit length. Got ${l}`);if(l===0){if(s!==0n)throw Error(`value is not zero for ${l} bits. Got ${s}`);return}if(l===1){if(s!==-1n&&s!==0n)throw Error(`value is not zero or -1 for ${l} bits. Got ${s}`);this.writeBit(s===-1n);return}let v=1n<<BigInt(l)-1n;if(h<-v||h>=v)throw Error(`value is out of range for ${l} bits. Got ${s}`);h<0?(this.writeBit(!0),h=(1n<<BigInt(l)-1n)+h):this.writeBit(!1),this.writeUint(h,l-1)}writeVarUint(s,l){let h=BigInt(s);if(l<0||!Number.isSafeInteger(l))throw Error(`invalid bit length. Got ${l}`);if(h<0)throw Error(`value is negative. Got ${s}`);if(h===0n){this.writeUint(0,l);return}const v=Math.ceil(h.toString(2).length/8),x=v*8;this.writeUint(v,l),this.writeUint(h,x)}writeVarInt(s,l){let h=BigInt(s);if(l<0||!Number.isSafeInteger(l))throw Error(`invalid bit length. Got ${l}`);if(h===0n){this.writeUint(0,l);return}let v=h>0?h:-h;const x=1+Math.ceil(v.toString(2).length/8),M=x*8;this.writeUint(x,l),this.writeInt(h,M)}writeCoins(s){this.writeVarUint(s,4)}writeAddress(s){if(s==null){this.writeUint(0,2);return}if(e.Address.isAddress(s)){this.writeUint(2,2),this.writeUint(0,1),this.writeInt(s.workChain,8),this.writeBuffer(s.hash);return}if(r.ExternalAddress.isAddress(s)){this.writeUint(1,2),this.writeUint(s.bits,9),this.writeUint(s.value,s.bits);return}throw Error(`Invalid address. Got ${s}`)}build(){return new n.BitString(this._buffer,0,this._length)}buffer(){if(this._length%8!==0)throw new Error("BitBuilder buffer is not byte aligned");return this._buffer.subarray(0,this._length/8)}};return BitBuilder.BitBuilder=o,BitBuilder}var Cell={},CellType={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CellType=void 0,function(r){r[r.Ordinary=-1]="Ordinary",r[r.PrunedBranch=1]="PrunedBranch",r[r.Library=2]="Library",r[r.MerkleProof=3]="MerkleProof",r[r.MerkleUpdate=4]="MerkleUpdate"}(e.CellType||(e.CellType={}))})(CellType);var Slice={},Dictionary$1={},parseDict$1={};Object.defineProperty(parseDict$1,"__esModule",{value:!0});parseDict$1.parseDict=void 0;function readUnaryLength(e){let r=0;for(;e.loadBit();)r++;return r}function doParse(e,r,n,o,a){let s=r.loadBit()?1:0,l=0,h=e;if(s===0){l=readUnaryLength(r);for(let v=0;v<l;v++)h+=r.loadBit()?"1":"0"}else if((r.loadBit()?1:0)===0){l=r.loadUint(Math.ceil(Math.log2(n+1)));for(let x=0;x<l;x++)h+=r.loadBit()?"1":"0"}else{let x=r.loadBit()?"1":"0";l=r.loadUint(Math.ceil(Math.log2(n+1)));for(let M=0;M<l;M++)h+=x}if(n-l===0)o.set(BigInt("0b"+h),a(r));else{let v=r.loadRef(),x=r.loadRef();v.isExotic||doParse(h+"0",v.beginParse(),n-l-1,o,a),x.isExotic||doParse(h+"1",x.beginParse(),n-l-1,o,a)}}function parseDict(e,r,n){let o=new Map;return e&&doParse("",e,r,o,n),o}parseDict$1.parseDict=parseDict;var serializeDict={},findCommonPrefix$1={};Object.defineProperty(findCommonPrefix$1,"__esModule",{value:!0});findCommonPrefix$1.findCommonPrefix=void 0;function findCommonPrefix(e){if(e.length===0)return"";if(e.length===1)return e[0];const r=[...e].sort();let n=0;for(let o=0;o<r[0].length&&r[0][o]===r[r.length-1][o];o++)n++;return e[0].slice(0,n)}findCommonPrefix$1.findCommonPrefix=findCommonPrefix;var hasRequiredSerializeDict;function requireSerializeDict(){if(hasRequiredSerializeDict)return serializeDict;hasRequiredSerializeDict=1,Object.defineProperty(serializeDict,"__esModule",{value:!0}),serializeDict.serializeDict=serializeDict.detectLabelType=serializeDict.writeLabelSame=serializeDict.writeLabelLong=serializeDict.writeLabelShort=serializeDict.buildTree=void 0;const e=requireBuilder(),r=findCommonPrefix$1;function n(G,J){for(;G.length<J;)G="0"+G;return G}function o(G,J){if(J===0)return G;{let le=new Map;for(let ae of G.keys()){let H=G.get(ae);le.set(ae.slice(J),H)}return le}}function a(G){if(G.size===0)throw Error("Internal inconsistency");let J=new Map,le=new Map;for(let ae of G.keys()){let H=G.get(ae);ae.startsWith("0")?J.set(ae.substr(1),H):le.set(ae.substr(1),H)}if(J.size===0)throw Error("Internal inconsistency. Left emtpy.");if(le.size===0)throw Error("Internal inconsistency. Right emtpy.");return{left:J,right:le}}function s(G){if(G.size===0)throw Error("Internal inconsistency");if(G.size===1)return{type:"leaf",value:Array.from(G.values())[0]};let{left:J,right:le}=a(G);return{type:"fork",left:l(J),right:l(le)}}function l(G){if(G.size===0)throw Error("Internal inconsistency");const J=(0,r.findCommonPrefix)(Array.from(G.keys()));return{label:J,node:s(o(G,J.length))}}function h(G,J){let le=new Map;for(let ae of Array.from(G.keys())){const H=n(ae.toString(2),J);le.set(H,G.get(ae))}return l(le)}serializeDict.buildTree=h;function v(G,J){J.storeBit(0);for(let le=0;le<G.length;le++)J.storeBit(1);J.storeBit(0);for(let le=0;le<G.length;le++)J.storeBit(G[le]==="1");return J}serializeDict.writeLabelShort=v;function x(G){return 1+G.length+1+G.length}function M(G,J,le){le.storeBit(1),le.storeBit(0);let ae=Math.ceil(Math.log2(J+1));le.storeUint(G.length,ae);for(let H=0;H<G.length;H++)le.storeBit(G[H]==="1");return le}serializeDict.writeLabelLong=M;function P(G,J){return 1+1+Math.ceil(Math.log2(J+1))+G.length}function j(G,J,le,ae){ae.storeBit(1),ae.storeBit(1),ae.storeBit(G);let H=Math.ceil(Math.log2(le+1));ae.storeUint(J,H)}serializeDict.writeLabelSame=j;function V(G){return 1+1+1+Math.ceil(Math.log2(G+1))}function ee(G){if(G.length===0||G.length===1)return!0;for(let J=1;J<G.length;J++)if(G[J]!==G[0])return!1;return!0}function se(G,J){let le="short",ae=x(G),H=P(G,J);if(H<ae&&(ae=H,le="long"),ee(G)){let te=V(J);te<ae&&(ae=te,le="same")}return le}serializeDict.detectLabelType=se;function Q(G,J,le){let ae=se(G,J);ae==="short"&&v(G,le),ae==="long"&&M(G,J,le),ae==="same"&&j(G[0]==="1",G.length,J,le)}function $e(G,J,le,ae){if(G.type==="leaf"&&le(G.value,ae),G.type==="fork"){const H=(0,e.beginCell)(),te=(0,e.beginCell)();Ie(G.left,J-1,le,H),Ie(G.right,J-1,le,te),ae.storeRef(H),ae.storeRef(te)}}function Ie(G,J,le,ae){Q(G.label,J,ae),$e(G.node,J-G.label.length,le,ae)}function ye(G,J,le,ae){const H=h(G,J);Ie(H,J,le,ae)}return serializeDict.serializeDict=ye,serializeDict}var internalKeySerializer={};Object.defineProperty(internalKeySerializer,"__esModule",{value:!0});internalKeySerializer.deserializeInternalKey=internalKeySerializer.serializeInternalKey=void 0;const Address_1$4=Address$1;function serializeInternalKey(e){if(typeof e=="number"){if(!Number.isSafeInteger(e))throw Error("Invalid key type: not a safe integer: "+e);return"n:"+e.toString(10)}else{if(typeof e=="bigint")return"b:"+e.toString(10);if(Address_1$4.Address.isAddress(e))return"a:"+e.toString();if(Buffer.isBuffer(e))return"f:"+e.toString("hex");throw Error("Invalid key type")}}internalKeySerializer.serializeInternalKey=serializeInternalKey;function deserializeInternalKey(e){let r=e.slice(0,2),n=e.slice(2);if(r==="n:")return parseInt(n,10);if(r==="b:")return BigInt(n);if(r==="a:")return Address_1$4.Address.parse(n);if(r==="f:")return Buffer.from(n,"hex");throw Error("Invalid key type: "+r)}internalKeySerializer.deserializeInternalKey=deserializeInternalKey;var hasRequiredDictionary;function requireDictionary(){if(hasRequiredDictionary)return Dictionary$1;hasRequiredDictionary=1,Object.defineProperty(Dictionary$1,"__esModule",{value:!0}),Dictionary$1.Dictionary=void 0;const e=Address$1,r=requireBuilder(),n=requireCell(),o=parseDict$1,a=requireSerializeDict(),s=internalKeySerializer;class l{static empty(te,E){return te&&E?new l(new Map,te,E):new l(new Map,null,null)}static load(te,E,u){let d;if(u instanceof n.Cell){if(u.isExotic)return l.empty(te,E);d=u.beginParse()}else d=u;let c=d.loadMaybeRef();return c&&!c.isExotic?l.loadDirect(te,E,c.beginParse()):l.empty(te,E)}static loadDirect(te,E,u){if(!u)return l.empty(te,E);let d;u instanceof n.Cell?d=u.beginParse():d=u;let c=(0,o.parseDict)(d,te.bits,E.parse),g=new Map;for(let[m,w]of c)g.set((0,s.serializeInternalKey)(te.parse(m)),w);return new l(g,te,E)}constructor(te,E,u){this._key=E,this._value=u,this._map=te}get size(){return this._map.size}get(te){return this._map.get((0,s.serializeInternalKey)(te))}has(te){return this._map.has((0,s.serializeInternalKey)(te))}set(te,E){return this._map.set((0,s.serializeInternalKey)(te),E),this}delete(te){const E=(0,s.serializeInternalKey)(te);return this._map.delete(E)}clear(){this._map.clear()}*[Symbol.iterator](){for(const[te,E]of this._map)yield[(0,s.deserializeInternalKey)(te),E]}keys(){return Array.from(this._map.keys()).map(te=>(0,s.deserializeInternalKey)(te))}values(){return Array.from(this._map.values())}store(te,E,u){if(this._map.size===0)te.storeBit(0);else{let d=this._key;E!=null&&(d=E);let c=this._value;if(u!=null&&(c=u),!d)throw Error("Key serializer is not defined");if(!c)throw Error("Value serializer is not defined");let g=new Map;for(const[w,S]of this._map)g.set(d.serialize((0,s.deserializeInternalKey)(w)),S);te.storeBit(1);let m=(0,r.beginCell)();(0,a.serializeDict)(g,d.bits,c.serialize,m),te.storeRef(m.endCell())}}storeDirect(te,E,u){if(this._map.size===0)throw Error("Cannot store empty dictionary directly");let d=this._key;E!=null&&(d=E);let c=this._value;if(u!=null&&(c=u),!d)throw Error("Key serializer is not defined");if(!c)throw Error("Value serializer is not defined");let g=new Map;for(const[m,w]of this._map)g.set(d.serialize((0,s.deserializeInternalKey)(m)),w);(0,a.serializeDict)(g,d.bits,c.serialize,te)}}Dictionary$1.Dictionary=l,l.Keys={Address:()=>h(),BigInt:H=>v(H),Int:H=>x(H),BigUint:H=>M(H),Uint:H=>P(H),Buffer:H=>j(H)},l.Values={BigInt:H=>ee(H),Int:H=>V(H),BigVarInt:H=>se(H),BigUint:H=>Ie(H),Uint:H=>$e(H),BigVarUint:H=>Q(H),Bool:()=>ye(),Address:()=>G(),Cell:()=>J(),Buffer:H=>ae(H),Dictionary:(H,te)=>le(H,te)};function h(){return{bits:267,serialize:H=>{if(!e.Address.isAddress(H))throw Error("Key is not an address");return(0,r.beginCell)().storeAddress(H).endCell().beginParse().preloadUintBig(267)},parse:H=>(0,r.beginCell)().storeUint(H,267).endCell().beginParse().loadAddress()}}function v(H){return{bits:H,serialize:te=>{if(typeof te!="bigint")throw Error("Key is not a bigint");return(0,r.beginCell)().storeInt(te,H).endCell().beginParse().loadUintBig(H)},parse:te=>(0,r.beginCell)().storeUint(te,H).endCell().beginParse().loadIntBig(H)}}function x(H){return{bits:H,serialize:te=>{if(typeof te!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(te))throw Error("Key is not a safe integer: "+te);return(0,r.beginCell)().storeInt(te,H).endCell().beginParse().loadUintBig(H)},parse:te=>(0,r.beginCell)().storeUint(te,H).endCell().beginParse().loadInt(H)}}function M(H){return{bits:H,serialize:te=>{if(typeof te!="bigint")throw Error("Key is not a bigint");if(te<0)throw Error("Key is negative: "+te);return(0,r.beginCell)().storeUint(te,H).endCell().beginParse().loadUintBig(H)},parse:te=>(0,r.beginCell)().storeUint(te,H).endCell().beginParse().loadUintBig(H)}}function P(H){return{bits:H,serialize:te=>{if(typeof te!="number")throw Error("Key is not a number");if(!Number.isSafeInteger(te))throw Error("Key is not a safe integer: "+te);if(te<0)throw Error("Key is negative: "+te);return(0,r.beginCell)().storeUint(te,H).endCell().beginParse().loadUintBig(H)},parse:te=>Number((0,r.beginCell)().storeUint(te,H).endCell().beginParse().loadUint(H))}}function j(H){return{bits:H*8,serialize:te=>{if(!Buffer.isBuffer(te))throw Error("Key is not a buffer");return(0,r.beginCell)().storeBuffer(te).endCell().beginParse().loadUintBig(H*8)},parse:te=>(0,r.beginCell)().storeUint(te,H*8).endCell().beginParse().loadBuffer(H)}}function V(H){return{serialize:(te,E)=>{E.storeInt(te,H)},parse:te=>te.loadInt(H)}}function ee(H){return{serialize:(te,E)=>{E.storeInt(te,H)},parse:te=>te.loadIntBig(H)}}function se(H){return{serialize:(te,E)=>{E.storeVarInt(te,H)},parse:te=>te.loadVarIntBig(H)}}function Q(H){return{serialize:(te,E)=>{E.storeVarUint(te,H)},parse:te=>te.loadVarUintBig(H)}}function $e(H){return{serialize:(te,E)=>{E.storeUint(te,H)},parse:te=>te.loadUint(H)}}function Ie(H){return{serialize:(te,E)=>{E.storeUint(te,H)},parse:te=>te.loadUintBig(H)}}function ye(){return{serialize:(H,te)=>{te.storeBit(H)},parse:H=>H.loadBit()}}function G(){return{serialize:(H,te)=>{te.storeAddress(H)},parse:H=>H.loadAddress()}}function J(){return{serialize:(H,te)=>{te.storeRef(H)},parse:H=>H.loadRef()}}function le(H,te){return{serialize:(E,u)=>{E.store(u)},parse:E=>l.load(H,te,E)}}function ae(H){return{serialize:(te,E)=>{if(te.length!==H)throw Error("Invalid buffer size");E.storeBuffer(te)},parse:te=>te.loadBuffer(H)}}return Dictionary$1}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1,Object.defineProperty(strings,"__esModule",{value:!0}),strings.writeString=strings.stringToCell=strings.readString=void 0;const e=requireBuilder();function r(l){if(l.remainingBits%8!==0)throw new Error(`Invalid string length: ${l.remainingBits}`);if(l.remainingRefs!==0&&l.remainingRefs!==1)throw new Error(`invalid number of refs: ${l.remainingRefs}`);if(l.remainingRefs===1&&1023-l.remainingBits>7)throw new Error(`invalid string length: ${l.remainingBits/8}`);let h;return l.remainingBits===0?h=Buffer.alloc(0):h=l.loadBuffer(l.remainingBits/8),l.remainingRefs===1&&(h=Buffer.concat([h,r(l.loadRef().beginParse())])),h}function n(l){return r(l).toString()}strings.readString=n;function o(l,h){if(l.length>0){let v=Math.floor(h.availableBits/8);if(l.length>v){let x=l.subarray(0,v),M=l.subarray(v);h=h.storeBuffer(x);let P=(0,e.beginCell)();o(M,P),h=h.storeRef(P.endCell())}else h=h.storeBuffer(l)}}function a(l){let h=(0,e.beginCell)();return o(Buffer.from(l),h),h.endCell()}strings.stringToCell=a;function s(l,h){o(Buffer.from(l),h)}return strings.writeString=s,strings}var hasRequiredSlice;function requireSlice(){if(hasRequiredSlice)return Slice;hasRequiredSlice=1;var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},r;Object.defineProperty(Slice,"__esModule",{value:!0}),Slice.Slice=void 0;const n=e(symbol_inspect),o=requireDictionary(),a=requireBuilder(),s=requireStrings();let l=class er{constructor(v,x){this[r]=()=>this.toString(),this._reader=v.clone(),this._refs=[...x]}get remainingBits(){return this._reader.remaining}get remainingRefs(){return this._refs.length}skip(v){return this._reader.skip(v),this}loadBit(){return this._reader.loadBit()}preloadBit(){return this._reader.preloadBit()}loadBoolean(){return this.loadBit()}loadMaybeBoolean(){return this.loadBit()?this.loadBoolean():null}loadBits(v){return this._reader.loadBits(v)}preloadBits(v){return this._reader.preloadBits(v)}loadUint(v){return this._reader.loadUint(v)}loadUintBig(v){return this._reader.loadUintBig(v)}preloadUint(v){return this._reader.preloadUint(v)}preloadUintBig(v){return this._reader.preloadUintBig(v)}loadMaybeUint(v){return this.loadBit()?this.loadUint(v):null}loadMaybeUintBig(v){return this.loadBit()?this.loadUintBig(v):null}loadInt(v){return this._reader.loadInt(v)}loadIntBig(v){return this._reader.loadIntBig(v)}preloadInt(v){return this._reader.preloadInt(v)}preloadIntBig(v){return this._reader.preloadIntBig(v)}loadMaybeInt(v){return this.loadBit()?this.loadInt(v):null}loadMaybeIntBig(v){return this.loadBit()?this.loadIntBig(v):null}loadVarUint(v){return this._reader.loadVarUint(v)}loadVarUintBig(v){return this._reader.loadVarUintBig(v)}preloadVarUint(v){return this._reader.preloadVarUint(v)}preloadVarUintBig(v){return this._reader.preloadVarUintBig(v)}loadVarInt(v){return this._reader.loadVarInt(v)}loadVarIntBig(v){return this._reader.loadVarIntBig(v)}preloadVarInt(v){return this._reader.preloadVarInt(v)}preloadVarIntBig(v){return this._reader.preloadVarIntBig(v)}loadCoins(){return this._reader.loadCoins()}preloadCoins(){return this._reader.preloadCoins()}loadMaybeCoins(){return this._reader.loadBit()?this._reader.loadCoins():null}loadAddress(){return this._reader.loadAddress()}loadMaybeAddress(){return this._reader.loadMaybeAddress()}loadExternalAddress(){return this._reader.loadExternalAddress()}loadMaybeExternalAddress(){return this._reader.loadMaybeExternalAddress()}loadAddressAny(){return this._reader.loadAddressAny()}loadRef(){if(this._refs.length===0)throw new Error("No more references");return this._refs.shift()}preloadRef(){if(this._refs.length===0)throw new Error("No more references");return this._refs[0]}loadMaybeRef(){return this.loadBit()?this.loadRef():null}preloadMaybeRef(){return this.preloadBit()?this.preloadRef():null}loadBuffer(v){return this._reader.loadBuffer(v)}preloadBuffer(v){return this._reader.preloadBuffer(v)}loadStringTail(){return(0,s.readString)(this)}loadMaybeStringTail(){return this.loadBit()?(0,s.readString)(this):null}loadStringRefTail(){return(0,s.readString)(this.loadRef().beginParse())}loadMaybeStringRefTail(){const v=this.loadMaybeRef();return v?(0,s.readString)(v.beginParse()):null}loadDict(v,x){return o.Dictionary.load(v,x,this)}loadDictDirect(v,x){return o.Dictionary.loadDirect(v,x,this)}endParse(){if(this.remainingBits>0||this.remainingRefs>0)throw new Error("Slice is not empty")}asCell(){return(0,a.beginCell)().storeSlice(this).endCell()}asBuilder(){return(0,a.beginCell)().storeSlice(this)}clone(){return new er(this._reader,this._refs)}toString(){return this.asCell().toString()}};return Slice.Slice=l,r=n.default,Slice}var resolveExotic$1={},BitReader$1={};Object.defineProperty(BitReader$1,"__esModule",{value:!0});BitReader$1.BitReader=void 0;const Address_1$3=Address$1,ExternalAddress_1=ExternalAddress$1;class BitReader{constructor(r,n=0){this._checkpoints=[],this._bits=r,this._offset=n}get remaining(){return this._bits.length-this._offset}skip(r){if(r<0||this._offset+r>this._bits.length)throw new Error(`Index ${this._offset+r} is out of bounds`);this._offset+=r}reset(){this._checkpoints.length>0?this._offset=this._checkpoints.pop():this._offset=0}save(){this._checkpoints.push(this._offset)}loadBit(){let r=this._bits.at(this._offset);return this._offset++,r}preloadBit(){return this._bits.at(this._offset)}loadBits(r){let n=this._bits.substring(this._offset,r);return this._offset+=r,n}preloadBits(r){return this._bits.substring(this._offset,r)}loadBuffer(r){let n=this._preloadBuffer(r,this._offset);return this._offset+=r*8,n}preloadBuffer(r){return this._preloadBuffer(r,this._offset)}loadUint(r){return Number(this.loadUintBig(r))}loadUintBig(r){let n=this.preloadUintBig(r);return this._offset+=r,n}preloadUint(r){return Number(this._preloadUint(r,this._offset))}preloadUintBig(r){return this._preloadUint(r,this._offset)}loadInt(r){let n=this._preloadInt(r,this._offset);return this._offset+=r,Number(n)}loadIntBig(r){let n=this._preloadInt(r,this._offset);return this._offset+=r,n}preloadInt(r){return Number(this._preloadInt(r,this._offset))}preloadIntBig(r){return this._preloadInt(r,this._offset)}loadVarUint(r){let n=Number(this.loadUint(r));return Number(this.loadUintBig(n*8))}loadVarUintBig(r){let n=Number(this.loadUint(r));return this.loadUintBig(n*8)}preloadVarUint(r){let n=Number(this._preloadUint(r,this._offset));return Number(this._preloadUint(n*8,this._offset+r))}preloadVarUintBig(r){let n=Number(this._preloadUint(r,this._offset));return this._preloadUint(n*8,this._offset+r)}loadVarInt(r){let n=Number(this.loadUint(r));return Number(this.loadIntBig(n*8))}loadVarIntBig(r){let n=Number(this.loadUint(r));return this.loadIntBig(n*8)}preloadVarInt(r){let n=Number(this._preloadUint(r,this._offset));return Number(this._preloadInt(n*8,this._offset+r))}preloadVarIntBig(r){let n=Number(this._preloadUint(r,this._offset));return this._preloadInt(n*8,this._offset+r)}loadCoins(){return this.loadVarUintBig(4)}preloadCoins(){return this.preloadVarUintBig(4)}loadAddress(){let r=Number(this._preloadUint(2,this._offset));if(r===2)return this._loadInternalAddress();throw new Error("Invalid address: "+r)}loadMaybeAddress(){let r=Number(this._preloadUint(2,this._offset));if(r===0)return this._offset+=2,null;if(r===2)return this._loadInternalAddress();throw new Error("Invalid address")}loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadMaybeExternalAddress(){let r=Number(this._preloadUint(2,this._offset));if(r===0)return this._offset+=2,null;if(r===1)return this._loadExternalAddress();throw new Error("Invalid address")}loadAddressAny(){let r=Number(this._preloadUint(2,this._offset));if(r===0)return this._offset+=2,null;if(r===2)return this._loadInternalAddress();if(r===1)return this._loadExternalAddress();throw Error(r===3?"Unsupported":"Unreachable")}loadPaddedBits(r){if(r%8!==0)throw new Error("Invalid number of bits");let n=r;for(;;)if(this._bits.at(this._offset+n-1)){n--;break}else n--;let o=this._bits.substring(this._offset,n);return this._offset+=r,o}clone(){return new BitReader(this._bits,this._offset)}_preloadInt(r,n){if(r==0)return 0n;let o=this._bits.at(n),a=0n;for(let s=0;s<r-1;s++)this._bits.at(n+1+s)&&(a+=1n<<BigInt(r-s-1-1));return o&&(a=a-(1n<<BigInt(r-1))),a}_preloadUint(r,n){if(r==0)return 0n;let o=0n;for(let a=0;a<r;a++)this._bits.at(n+a)&&(o+=1n<<BigInt(r-a-1));return o}_preloadBuffer(r,n){let o=this._bits.subbuffer(n,r*8);if(o)return o;let a=Buffer.alloc(r);for(let s=0;s<r;s++)a[s]=Number(this._preloadUint(8,n+s*8));return a}_loadInternalAddress(){if(Number(this._preloadUint(2,this._offset))!==2||this._preloadUint(1,this._offset+2)!==0n)throw Error("Invalid address");let n=Number(this._preloadInt(8,this._offset+3)),o=this._preloadBuffer(32,this._offset+11);return this._offset+=267,new Address_1$3.Address(n,o)}_loadExternalAddress(){if(Number(this._preloadUint(2,this._offset))!==1)throw Error("Invalid address");let n=Number(this._preloadUint(9,this._offset+2)),o=this._preloadUint(n,this._offset+11);return this._offset+=11+n,new ExternalAddress_1.ExternalAddress(o,n)}}BitReader$1.BitReader=BitReader;var exoticLibrary$1={};Object.defineProperty(exoticLibrary$1,"__esModule",{value:!0});exoticLibrary$1.exoticLibrary=void 0;const BitReader_1$4=BitReader$1;function exoticLibrary(e,r){const n=new BitReader_1$4.BitReader(e),o=8+256;if(e.length!==o)throw new Error(`Library cell must have exactly (8 + 256) bits, got "${e.length}"`);let a=n.loadUint(8);if(a!==2)throw new Error(`Library cell must have type 2, got "${a}"`);return{}}exoticLibrary$1.exoticLibrary=exoticLibrary;var exoticMerkleProof$1={};Object.defineProperty(exoticMerkleProof$1,"__esModule",{value:!0});exoticMerkleProof$1.exoticMerkleProof=void 0;const BitReader_1$3=BitReader$1;function exoticMerkleProof(e,r){const n=new BitReader_1$3.BitReader(e),o=8+256+16;if(e.length!==o)throw new Error(`Merkle Proof cell must have exactly (8 + 256 + 16) bits, got "${e.length}"`);if(r.length!==1)throw new Error(`Merkle Proof cell must have exactly 1 ref, got "${r.length}"`);let a=n.loadUint(8);if(a!==3)throw new Error(`Merkle Proof cell must have type 3, got "${a}"`);const s=n.loadBuffer(32),l=n.loadUint(16),h=r[0].hash(0),v=r[0].depth(0);if(l!==v)throw new Error(`Merkle Proof cell ref depth must be exactly "${l}", got "${v}"`);if(!s.equals(h))throw new Error(`Merkle Proof cell ref hash must be exactly "${s.toString("hex")}", got "${h.toString("hex")}"`);return{proofDepth:l,proofHash:s}}exoticMerkleProof$1.exoticMerkleProof=exoticMerkleProof;var exoticMerkleUpdate$1={};Object.defineProperty(exoticMerkleUpdate$1,"__esModule",{value:!0});exoticMerkleUpdate$1.exoticMerkleUpdate=void 0;const BitReader_1$2=BitReader$1;function exoticMerkleUpdate(e,r){const n=new BitReader_1$2.BitReader(e),o=8+2*(256+16);if(e.length!==o)throw new Error(`Merkle Update cell must have exactly (8 + (2 * (256 + 16))) bits, got "${e.length}"`);if(r.length!==2)throw new Error(`Merkle Update cell must have exactly 2 refs, got "${r.length}"`);let a=n.loadUint(8);if(a!==4)throw new Error(`Merkle Update cell type must be exactly 4, got "${a}"`);const s=n.loadBuffer(32),l=n.loadBuffer(32),h=n.loadUint(16),v=n.loadUint(16);if(h!==r[0].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${h}", got "${r[0].depth(0)}"`);if(!s.equals(r[0].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${s.toString("hex")}", got "${r[0].hash(0).toString("hex")}"`);if(v!==r[1].depth(0))throw new Error(`Merkle Update cell ref depth must be exactly "${v}", got "${r[1].depth(0)}"`);if(!l.equals(r[1].hash(0)))throw new Error(`Merkle Update cell ref hash must be exactly "${l.toString("hex")}", got "${r[1].hash(0).toString("hex")}"`);return{proofDepth1:h,proofDepth2:v,proofHash1:s,proofHash2:l}}exoticMerkleUpdate$1.exoticMerkleUpdate=exoticMerkleUpdate;var exoticPruned$1={},LevelMask$1={};Object.defineProperty(LevelMask$1,"__esModule",{value:!0});LevelMask$1.LevelMask=void 0;class LevelMask{constructor(r=0){this._mask=0,this._mask=r,this._hashIndex=countSetBits(this._mask),this._hashCount=this._hashIndex+1}get value(){return this._mask}get level(){return 32-Math.clz32(this._mask)}get hashIndex(){return this._hashIndex}get hashCount(){return this._hashCount}apply(r){return new LevelMask(this._mask&(1<<r)-1)}isSignificant(r){return r===0||(this._mask>>r-1)%2!==0}}LevelMask$1.LevelMask=LevelMask;function countSetBits(e){return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}Object.defineProperty(exoticPruned$1,"__esModule",{value:!0});exoticPruned$1.exoticPruned=void 0;const BitReader_1$1=BitReader$1,LevelMask_1$2=LevelMask$1;function exoticPruned(e,r){let n=new BitReader_1$1.BitReader(e),o=n.loadUint(8);if(o!==1)throw new Error(`Pruned branch cell must have type 1, got "${o}"`);if(r.length!==0)throw new Error(`Pruned Branch cell can't has refs, got "${r.length}"`);let a;if(e.length===280)a=new LevelMask_1$2.LevelMask(1);else{if(a=new LevelMask_1$2.LevelMask(n.loadUint(8)),a.level<1||a.level>3)throw new Error(`Pruned Branch cell level must be >= 1 and <= 3, got "${a.level}/${a.value}"`);const v=8+8+a.apply(a.level-1).hashCount*(256+16);if(e.length!==v)throw new Error(`Pruned branch cell must have exactly ${v} bits, got "${e.length}"`)}let s=[],l=[],h=[];for(let v=0;v<a.level;v++)l.push(n.loadBuffer(32));for(let v=0;v<a.level;v++)h.push(n.loadUint(16));for(let v=0;v<a.level;v++)s.push({depth:h[v],hash:l[v]});return{mask:a.value,pruned:s}}exoticPruned$1.exoticPruned=exoticPruned;Object.defineProperty(resolveExotic$1,"__esModule",{value:!0});resolveExotic$1.resolveExotic=void 0;const BitReader_1=BitReader$1,CellType_1$2=CellType,exoticLibrary_1$1=exoticLibrary$1,exoticMerkleProof_1$1=exoticMerkleProof$1,exoticMerkleUpdate_1$1=exoticMerkleUpdate$1,exoticPruned_1$1=exoticPruned$1,LevelMask_1$1=LevelMask$1;function resolvePruned(e,r){let n=(0,exoticPruned_1$1.exoticPruned)(e,r),o=[],a=[],s=new LevelMask_1$1.LevelMask(n.mask);for(let l=0;l<n.pruned.length;l++)o.push(n.pruned[l].depth),a.push(n.pruned[l].hash);return{type:CellType_1$2.CellType.PrunedBranch,depths:o,hashes:a,mask:s}}function resolveLibrary(e,r){(0,exoticLibrary_1$1.exoticLibrary)(e,r);let n=[],o=[],a=new LevelMask_1$1.LevelMask;return{type:CellType_1$2.CellType.Library,depths:n,hashes:o,mask:a}}function resolveMerkleProof(e,r){(0,exoticMerkleProof_1$1.exoticMerkleProof)(e,r);let n=[],o=[],a=new LevelMask_1$1.LevelMask(r[0].level()>>1);return{type:CellType_1$2.CellType.MerkleProof,depths:n,hashes:o,mask:a}}function resolveMerkleUpdate(e,r){(0,exoticMerkleUpdate_1$1.exoticMerkleUpdate)(e,r);let n=[],o=[],a=new LevelMask_1$1.LevelMask((r[0].level()|r[1].level())>>1);return{type:CellType_1$2.CellType.MerkleUpdate,depths:n,hashes:o,mask:a}}function resolveExotic(e,r){let o=new BitReader_1.BitReader(e).preloadUint(8);if(o===1)return resolvePruned(e,r);if(o===2)return resolveLibrary(e,r);if(o===3)return resolveMerkleProof(e,r);if(o===4)return resolveMerkleUpdate(e,r);throw Error("Invalid exotic cell type: "+o)}resolveExotic$1.resolveExotic=resolveExotic;var wonderCalculator$1={},descriptor={};Object.defineProperty(descriptor,"__esModule",{value:!0});descriptor.getRepr=descriptor.getBitsDescriptor=descriptor.getRefsDescriptor=void 0;const CellType_1$1=CellType,paddedBits_1=requirePaddedBits();function getRefsDescriptor(e,r,n){return e.length+(n!==CellType_1$1.CellType.Ordinary?1:0)*8+r*32}descriptor.getRefsDescriptor=getRefsDescriptor;function getBitsDescriptor(e){let r=e.length;return Math.ceil(r/8)+Math.floor(r/8)}descriptor.getBitsDescriptor=getBitsDescriptor;function getRepr(e,r,n,o){const a=Math.ceil(e.length/8),s=Buffer.alloc(2+a+(2+32)*r.length);let l=0;s[l++]=getRefsDescriptor(r,n,o),s[l++]=getBitsDescriptor(e),(0,paddedBits_1.bitsToPaddedBuffer)(e).copy(s,l),l+=a;for(const h of r){let v;o==CellType_1$1.CellType.MerkleProof||o==CellType_1$1.CellType.MerkleUpdate?v=h.depth(n+1):v=h.depth(n),s[l++]=Math.floor(v/256),s[l++]=v%256}for(const h of r){let v;o==CellType_1$1.CellType.MerkleProof||o==CellType_1$1.CellType.MerkleUpdate?v=h.hash(n+1):v=h.hash(n),v.copy(s,l),l+=32}return s}descriptor.getRepr=getRepr;var dist={},sha256$3={},shaExports={},sha={get exports(){return shaExports},set exports(e){shaExports=e}};(function(e,r){(function(n,o){e.exports=o()})(commonjsGlobal,function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function o(z,N,I,b){var C,T,U,k=N||[0],L=(I=I||0)>>>3,ue=b===-1?3:0;for(C=0;C<z.length;C+=1)T=(U=C+L)>>>2,k.length<=T&&k.push(0),k[T]|=z[C]<<8*(ue+b*(U%4));return{value:k,binLen:8*z.length+I}}function a(z,N,I){switch(N){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(z){case"HEX":return function(b,C,T){return function(U,k,L,ue){var ce,fe,Be,de;if(U.length%2!=0)throw new Error("String of HEX type must be in byte increments");var Ce=k||[0],Qe=(L=L||0)>>>3,Ne=ue===-1?3:0;for(ce=0;ce<U.length;ce+=2){if(fe=parseInt(U.substr(ce,2),16),isNaN(fe))throw new Error("String of HEX type contains invalid characters");for(Be=(de=(ce>>>1)+Qe)>>>2;Ce.length<=Be;)Ce.push(0);Ce[Be]|=fe<<8*(Ne+ue*(de%4))}return{value:Ce,binLen:4*U.length+L}}(b,C,T,I)};case"TEXT":return function(b,C,T){return function(U,k,L,ue,ce){var fe,Be,de,Ce,Qe,Ne,Ye,mt,Ve=0,nt=L||[0],bt=(ue=ue||0)>>>3;if(k==="UTF8")for(Ye=ce===-1?3:0,de=0;de<U.length;de+=1)for(Be=[],128>(fe=U.charCodeAt(de))?Be.push(fe):2048>fe?(Be.push(192|fe>>>6),Be.push(128|63&fe)):55296>fe||57344<=fe?Be.push(224|fe>>>12,128|fe>>>6&63,128|63&fe):(de+=1,fe=65536+((1023&fe)<<10|1023&U.charCodeAt(de)),Be.push(240|fe>>>18,128|fe>>>12&63,128|fe>>>6&63,128|63&fe)),Ce=0;Ce<Be.length;Ce+=1){for(Qe=(Ne=Ve+bt)>>>2;nt.length<=Qe;)nt.push(0);nt[Qe]|=Be[Ce]<<8*(Ye+ce*(Ne%4)),Ve+=1}else for(Ye=ce===-1?2:0,mt=k==="UTF16LE"&&ce!==1||k!=="UTF16LE"&&ce===1,de=0;de<U.length;de+=1){for(fe=U.charCodeAt(de),mt===!0&&(fe=(Ce=255&fe)<<8|fe>>>8),Qe=(Ne=Ve+bt)>>>2;nt.length<=Qe;)nt.push(0);nt[Qe]|=fe<<8*(Ye+ce*(Ne%4)),Ve+=2}return{value:nt,binLen:8*Ve+ue}}(b,N,C,T,I)};case"B64":return function(b,C,T){return function(U,k,L,ue){var ce,fe,Be,de,Ce,Qe,Ne=0,Ye=k||[0],mt=(L=L||0)>>>3,Ve=ue===-1?3:0,nt=U.indexOf("=");if(U.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(U=U.replace(/=/g,""),nt!==-1&&nt<U.length)throw new Error("Invalid '=' found in base-64 string");for(ce=0;ce<U.length;ce+=4){for(de=U.substr(ce,4),Be=0,fe=0;fe<de.length;fe+=1)Be|=n.indexOf(de.charAt(fe))<<18-6*fe;for(fe=0;fe<de.length-1;fe+=1){for(Ce=(Qe=Ne+mt)>>>2;Ye.length<=Ce;)Ye.push(0);Ye[Ce]|=(Be>>>16-8*fe&255)<<8*(Ve+ue*(Qe%4)),Ne+=1}}return{value:Ye,binLen:8*Ne+L}}(b,C,T,I)};case"BYTES":return function(b,C,T){return function(U,k,L,ue){var ce,fe,Be,de,Ce=k||[0],Qe=(L=L||0)>>>3,Ne=ue===-1?3:0;for(fe=0;fe<U.length;fe+=1)ce=U.charCodeAt(fe),Be=(de=fe+Qe)>>>2,Ce.length<=Be&&Ce.push(0),Ce[Be]|=ce<<8*(Ne+ue*(de%4));return{value:Ce,binLen:8*U.length+L}}(b,C,T,I)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(b,C,T){return function(U,k,L,ue){return o(new Uint8Array(U),k,L,ue)}(b,C,T,I)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(b,C,T){return o(b,C,T,I)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function s(z,N,I,b){switch(z){case"HEX":return function(C){return function(T,U,k,L){var ue,ce,fe="",Be=U/8,de=k===-1?3:0;for(ue=0;ue<Be;ue+=1)ce=T[ue>>>2]>>>8*(de+k*(ue%4)),fe+="0123456789abcdef".charAt(ce>>>4&15)+"0123456789abcdef".charAt(15&ce);return L.outputUpper?fe.toUpperCase():fe}(C,N,I,b)};case"B64":return function(C){return function(T,U,k,L){var ue,ce,fe,Be,de,Ce="",Qe=U/8,Ne=k===-1?3:0;for(ue=0;ue<Qe;ue+=3)for(Be=ue+1<Qe?T[ue+1>>>2]:0,de=ue+2<Qe?T[ue+2>>>2]:0,fe=(T[ue>>>2]>>>8*(Ne+k*(ue%4))&255)<<16|(Be>>>8*(Ne+k*((ue+1)%4))&255)<<8|de>>>8*(Ne+k*((ue+2)%4))&255,ce=0;ce<4;ce+=1)Ce+=8*ue+6*ce<=U?n.charAt(fe>>>6*(3-ce)&63):L.b64Pad;return Ce}(C,N,I,b)};case"BYTES":return function(C){return function(T,U,k){var L,ue,ce="",fe=U/8,Be=k===-1?3:0;for(L=0;L<fe;L+=1)ue=T[L>>>2]>>>8*(Be+k*(L%4))&255,ce+=String.fromCharCode(ue);return ce}(C,N,I)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(C){return function(T,U,k){var L,ue=U/8,ce=new ArrayBuffer(ue),fe=new Uint8Array(ce),Be=k===-1?3:0;for(L=0;L<ue;L+=1)fe[L]=T[L>>>2]>>>8*(Be+k*(L%4))&255;return ce}(C,N,I)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(C){return function(T,U,k){var L,ue=U/8,ce=k===-1?3:0,fe=new Uint8Array(ue);for(L=0;L<ue;L+=1)fe[L]=T[L>>>2]>>>8*(ce+k*(L%4))&255;return fe}(C,N,I)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],v=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],x="Chosen SHA variant is not supported";function M(z,N){var I,b,C=z.binLen>>>3,T=N.binLen>>>3,U=C<<3,k=4-C<<3;if(C%4!=0){for(I=0;I<T;I+=4)b=C+I>>>2,z.value[b]|=N.value[I>>>2]<<U,z.value.push(0),z.value[b+1]|=N.value[I>>>2]>>>k;return(z.value.length<<2)-4>=T+C&&z.value.pop(),{value:z.value,binLen:z.binLen+N.binLen}}return{value:z.value.concat(N.value),binLen:z.binLen+N.binLen}}function P(z){var N={outputUpper:!1,b64Pad:"=",outputLen:-1},I=z||{},b="Output length must be a multiple of 8";if(N.outputUpper=I.outputUpper||!1,I.b64Pad&&(N.b64Pad=I.b64Pad),I.outputLen){if(I.outputLen%8!=0)throw new Error(b);N.outputLen=I.outputLen}else if(I.shakeLen){if(I.shakeLen%8!=0)throw new Error(b);N.outputLen=I.shakeLen}if(typeof N.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof N.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return N}function j(z,N,I,b){var C=z+" must include a value and format";if(!N){if(!b)throw new Error(C);return b}if(N.value===void 0||!N.format)throw new Error(C);return a(N.format,N.encoding||"UTF8",I)(N.value)}var V=function(){function z(N,I,b){var C=b||{};if(this.t=I,this.i=C.encoding||"UTF8",this.numRounds=C.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=N,this.u=[],this.s=0,this.h=!1,this.v=0,this.A=!1,this.l=[],this.H=[]}return z.prototype.update=function(N){var I,b=0,C=this.S>>>5,T=this.p(N,this.u,this.s),U=T.binLen,k=T.value,L=U>>>5;for(I=0;I<L;I+=C)b+this.S<=U&&(this.m=this.R(k.slice(I,I+C),this.m),b+=this.S);this.v+=b,this.u=k.slice(b>>>5),this.s=U%this.S,this.h=!0},z.prototype.getHash=function(N,I){var b,C,T=this.U,U=P(I);if(this.T){if(U.outputLen===-1)throw new Error("Output length must be specified in options");T=U.outputLen}var k=s(N,T,this.C,U);if(this.A&&this.F)return k(this.F(U));for(C=this.K(this.u.slice(),this.s,this.v,this.B(this.m),T),b=1;b<this.numRounds;b+=1)this.T&&T%32!=0&&(C[C.length-1]&=16777215>>>24-T%32),C=this.K(C,T,0,this.L(this.o),T);return k(C)},z.prototype.setHMACKey=function(N,I,b){if(!this.g)throw new Error("Variant does not support HMAC");if(this.h)throw new Error("Cannot set MAC key after calling update");var C=a(I,(b||{}).encoding||"UTF8",this.C);this.k(C(N))},z.prototype.k=function(N){var I,b=this.S>>>3,C=b/4-1;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(b<N.binLen/8&&(N.value=this.K(N.value,N.binLen,0,this.L(this.o),this.U));N.value.length<=C;)N.value.push(0);for(I=0;I<=C;I+=1)this.l[I]=909522486^N.value[I],this.H[I]=1549556828^N.value[I];this.m=this.R(this.l,this.m),this.v=this.S,this.A=!0},z.prototype.getHMAC=function(N,I){var b=P(I);return s(N,this.U,this.C,b)(this.Y())},z.prototype.Y=function(){var N;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");var I=this.K(this.u.slice(),this.s,this.v,this.B(this.m),this.U);return N=this.R(this.H,this.L(this.o)),N=this.K(I,this.U,this.S,N,this.U)},z}(),ee=function(z,N){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,b){I.__proto__=b}||function(I,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(I[C]=b[C])})(z,N)};function se(z,N){function I(){this.constructor=z}ee(z,N),z.prototype=N===null?Object.create(N):(I.prototype=N.prototype,new I)}function Q(z,N){return z<<N|z>>>32-N}function $e(z,N){return z>>>N|z<<32-N}function Ie(z,N){return z>>>N}function ye(z,N,I){return z^N^I}function G(z,N,I){return z&N^~z&I}function J(z,N,I){return z&N^z&I^N&I}function le(z){return $e(z,2)^$e(z,13)^$e(z,22)}function ae(z,N){var I=(65535&z)+(65535&N);return(65535&(z>>>16)+(N>>>16)+(I>>>16))<<16|65535&I}function H(z,N,I,b){var C=(65535&z)+(65535&N)+(65535&I)+(65535&b);return(65535&(z>>>16)+(N>>>16)+(I>>>16)+(b>>>16)+(C>>>16))<<16|65535&C}function te(z,N,I,b,C){var T=(65535&z)+(65535&N)+(65535&I)+(65535&b)+(65535&C);return(65535&(z>>>16)+(N>>>16)+(I>>>16)+(b>>>16)+(C>>>16)+(T>>>16))<<16|65535&T}function E(z){return $e(z,7)^$e(z,18)^Ie(z,3)}function u(z){return $e(z,6)^$e(z,11)^$e(z,25)}function d(z){return[1732584193,4023233417,2562383102,271733878,3285377520]}function c(z,N){var I,b,C,T,U,k,L,ue=[];for(I=N[0],b=N[1],C=N[2],T=N[3],U=N[4],L=0;L<80;L+=1)ue[L]=L<16?z[L]:Q(ue[L-3]^ue[L-8]^ue[L-14]^ue[L-16],1),k=L<20?te(Q(I,5),G(b,C,T),U,1518500249,ue[L]):L<40?te(Q(I,5),ye(b,C,T),U,1859775393,ue[L]):L<60?te(Q(I,5),J(b,C,T),U,2400959708,ue[L]):te(Q(I,5),ye(b,C,T),U,3395469782,ue[L]),U=T,T=C,C=Q(b,30),b=I,I=k;return N[0]=ae(I,N[0]),N[1]=ae(b,N[1]),N[2]=ae(C,N[2]),N[3]=ae(T,N[3]),N[4]=ae(U,N[4]),N}function g(z,N,I,b){for(var C,T=15+(N+65>>>9<<4),U=N+I;z.length<=T;)z.push(0);for(z[N>>>5]|=128<<24-N%32,z[T]=4294967295&U,z[T-1]=U/4294967296|0,C=0;C<z.length;C+=16)b=c(z.slice(C,C+16),b);return b}var m=function(z){function N(I,b,C){var T=this;if(I!=="SHA-1")throw new Error(x);var U=C||{};return(T=z.call(this,I,b,C)||this).g=!0,T.F=T.Y,T.C=-1,T.p=a(T.t,T.i,T.C),T.R=c,T.B=function(k){return k.slice()},T.L=d,T.K=g,T.m=[1732584193,4023233417,2562383102,271733878,3285377520],T.S=512,T.U=160,T.T=!1,U.hmacKey&&T.k(j("hmacKey",U.hmacKey,T.C)),T}return se(N,z),N}(V);function w(z){return z=="SHA-224"?h.slice():v.slice()}function S(z,N){var I,b,C,T,U,k,L,ue,ce,fe,Be,de,Ce=[];for(I=N[0],b=N[1],C=N[2],T=N[3],U=N[4],k=N[5],L=N[6],ue=N[7],Be=0;Be<64;Be+=1)Ce[Be]=Be<16?z[Be]:H($e(de=Ce[Be-2],17)^$e(de,19)^Ie(de,10),Ce[Be-7],E(Ce[Be-15]),Ce[Be-16]),ce=te(ue,u(U),G(U,k,L),l[Be],Ce[Be]),fe=ae(le(I),J(I,b,C)),ue=L,L=k,k=U,U=ae(T,ce),T=C,C=b,b=I,I=ae(ce,fe);return N[0]=ae(I,N[0]),N[1]=ae(b,N[1]),N[2]=ae(C,N[2]),N[3]=ae(T,N[3]),N[4]=ae(U,N[4]),N[5]=ae(k,N[5]),N[6]=ae(L,N[6]),N[7]=ae(ue,N[7]),N}var $=function(z){function N(I,b,C){var T=this;if(I!=="SHA-224"&&I!=="SHA-256")throw new Error(x);var U=C||{};return(T=z.call(this,I,b,C)||this).F=T.Y,T.g=!0,T.C=-1,T.p=a(T.t,T.i,T.C),T.R=S,T.B=function(k){return k.slice()},T.L=w,T.K=function(k,L,ue,ce){return function(fe,Be,de,Ce,Qe){for(var Ne,Ye=15+(Be+65>>>9<<4),mt=Be+de;fe.length<=Ye;)fe.push(0);for(fe[Be>>>5]|=128<<24-Be%32,fe[Ye]=4294967295&mt,fe[Ye-1]=mt/4294967296|0,Ne=0;Ne<fe.length;Ne+=16)Ce=S(fe.slice(Ne,Ne+16),Ce);return Qe==="SHA-224"?[Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6]]:Ce}(k,L,ue,ce,I)},T.m=w(I),T.S=512,T.U=I==="SHA-224"?224:256,T.T=!1,U.hmacKey&&T.k(j("hmacKey",U.hmacKey,T.C)),T}return se(N,z),N}(V),f=function(z,N){this.N=z,this.I=N};function y(z,N){var I;return N>32?(I=64-N,new f(z.I<<N|z.N>>>I,z.N<<N|z.I>>>I)):N!==0?(I=32-N,new f(z.N<<N|z.I>>>I,z.I<<N|z.N>>>I)):z}function B(z,N){var I;return N<32?(I=32-N,new f(z.N>>>N|z.I<<I,z.I>>>N|z.N<<I)):(I=64-N,new f(z.I>>>N|z.N<<I,z.N>>>N|z.I<<I))}function O(z,N){return new f(z.N>>>N,z.I>>>N|z.N<<32-N)}function oe(z,N,I){return new f(z.N&N.N^~z.N&I.N,z.I&N.I^~z.I&I.I)}function he(z,N,I){return new f(z.N&N.N^z.N&I.N^N.N&I.N,z.I&N.I^z.I&I.I^N.I&I.I)}function ve(z){var N=B(z,28),I=B(z,34),b=B(z,39);return new f(N.N^I.N^b.N,N.I^I.I^b.I)}function Pe(z,N){var I,b;I=(65535&z.I)+(65535&N.I);var C=(65535&(b=(z.I>>>16)+(N.I>>>16)+(I>>>16)))<<16|65535&I;return I=(65535&z.N)+(65535&N.N)+(b>>>16),b=(z.N>>>16)+(N.N>>>16)+(I>>>16),new f((65535&b)<<16|65535&I,C)}function at(z,N,I,b){var C,T;C=(65535&z.I)+(65535&N.I)+(65535&I.I)+(65535&b.I);var U=(65535&(T=(z.I>>>16)+(N.I>>>16)+(I.I>>>16)+(b.I>>>16)+(C>>>16)))<<16|65535&C;return C=(65535&z.N)+(65535&N.N)+(65535&I.N)+(65535&b.N)+(T>>>16),T=(z.N>>>16)+(N.N>>>16)+(I.N>>>16)+(b.N>>>16)+(C>>>16),new f((65535&T)<<16|65535&C,U)}function Le(z,N,I,b,C){var T,U;T=(65535&z.I)+(65535&N.I)+(65535&I.I)+(65535&b.I)+(65535&C.I);var k=(65535&(U=(z.I>>>16)+(N.I>>>16)+(I.I>>>16)+(b.I>>>16)+(C.I>>>16)+(T>>>16)))<<16|65535&T;return T=(65535&z.N)+(65535&N.N)+(65535&I.N)+(65535&b.N)+(65535&C.N)+(U>>>16),U=(z.N>>>16)+(N.N>>>16)+(I.N>>>16)+(b.N>>>16)+(C.N>>>16)+(T>>>16),new f((65535&U)<<16|65535&T,k)}function Ge(z,N){return new f(z.N^N.N,z.I^N.I)}function _t(z){var N=B(z,1),I=B(z,8),b=O(z,7);return new f(N.N^I.N^b.N,N.I^I.I^b.I)}function Xe(z){var N=B(z,14),I=B(z,18),b=B(z,41);return new f(N.N^I.N^b.N,N.I^I.I^b.I)}var K=[new f(l[0],3609767458),new f(l[1],602891725),new f(l[2],3964484399),new f(l[3],2173295548),new f(l[4],4081628472),new f(l[5],3053834265),new f(l[6],2937671579),new f(l[7],3664609560),new f(l[8],2734883394),new f(l[9],1164996542),new f(l[10],1323610764),new f(l[11],3590304994),new f(l[12],4068182383),new f(l[13],991336113),new f(l[14],633803317),new f(l[15],3479774868),new f(l[16],2666613458),new f(l[17],944711139),new f(l[18],2341262773),new f(l[19],2007800933),new f(l[20],1495990901),new f(l[21],1856431235),new f(l[22],3175218132),new f(l[23],2198950837),new f(l[24],3999719339),new f(l[25],766784016),new f(l[26],2566594879),new f(l[27],3203337956),new f(l[28],1034457026),new f(l[29],2466948901),new f(l[30],3758326383),new f(l[31],168717936),new f(l[32],1188179964),new f(l[33],1546045734),new f(l[34],1522805485),new f(l[35],2643833823),new f(l[36],2343527390),new f(l[37],1014477480),new f(l[38],1206759142),new f(l[39],344077627),new f(l[40],1290863460),new f(l[41],3158454273),new f(l[42],3505952657),new f(l[43],106217008),new f(l[44],3606008344),new f(l[45],1432725776),new f(l[46],1467031594),new f(l[47],851169720),new f(l[48],3100823752),new f(l[49],1363258195),new f(l[50],3750685593),new f(l[51],3785050280),new f(l[52],3318307427),new f(l[53],3812723403),new f(l[54],2003034995),new f(l[55],3602036899),new f(l[56],1575990012),new f(l[57],1125592928),new f(l[58],2716904306),new f(l[59],442776044),new f(l[60],593698344),new f(l[61],3733110249),new f(l[62],2999351573),new f(l[63],3815920427),new f(3391569614,3928383900),new f(3515267271,566280711),new f(3940187606,3454069534),new f(4118630271,4000239992),new f(116418474,1914138554),new f(174292421,2731055270),new f(289380356,3203993006),new f(460393269,320620315),new f(685471733,587496836),new f(852142971,1086792851),new f(1017036298,365543100),new f(1126000580,2618297676),new f(1288033470,3409855158),new f(1501505948,4234509866),new f(1607167915,987167468),new f(1816402316,1246189591)];function Z(z){return z==="SHA-384"?[new f(3418070365,h[0]),new f(1654270250,h[1]),new f(2438529370,h[2]),new f(355462360,h[3]),new f(1731405415,h[4]),new f(41048885895,h[5]),new f(3675008525,h[6]),new f(1203062813,h[7])]:[new f(v[0],4089235720),new f(v[1],2227873595),new f(v[2],4271175723),new f(v[3],1595750129),new f(v[4],2917565137),new f(v[5],725511199),new f(v[6],4215389547),new f(v[7],327033209)]}function ie(z,N){var I,b,C,T,U,k,L,ue,ce,fe,Be,de,Ce,Qe,Ne,Ye,mt=[];for(I=N[0],b=N[1],C=N[2],T=N[3],U=N[4],k=N[5],L=N[6],ue=N[7],Be=0;Be<80;Be+=1)Be<16?(de=2*Be,mt[Be]=new f(z[de],z[de+1])):mt[Be]=at((Ce=mt[Be-2],Qe=void 0,Ne=void 0,Ye=void 0,Qe=B(Ce,19),Ne=B(Ce,61),Ye=O(Ce,6),new f(Qe.N^Ne.N^Ye.N,Qe.I^Ne.I^Ye.I)),mt[Be-7],_t(mt[Be-15]),mt[Be-16]),ce=Le(ue,Xe(U),oe(U,k,L),K[Be],mt[Be]),fe=Pe(ve(I),he(I,b,C)),ue=L,L=k,k=U,U=Pe(T,ce),T=C,C=b,b=I,I=Pe(ce,fe);return N[0]=Pe(I,N[0]),N[1]=Pe(b,N[1]),N[2]=Pe(C,N[2]),N[3]=Pe(T,N[3]),N[4]=Pe(U,N[4]),N[5]=Pe(k,N[5]),N[6]=Pe(L,N[6]),N[7]=Pe(ue,N[7]),N}var be=function(z){function N(I,b,C){var T=this;if(I!=="SHA-384"&&I!=="SHA-512")throw new Error(x);var U=C||{};return(T=z.call(this,I,b,C)||this).F=T.Y,T.g=!0,T.C=-1,T.p=a(T.t,T.i,T.C),T.R=ie,T.B=function(k){return k.slice()},T.L=Z,T.K=function(k,L,ue,ce){return function(fe,Be,de,Ce,Qe){for(var Ne,Ye=31+(Be+129>>>10<<5),mt=Be+de;fe.length<=Ye;)fe.push(0);for(fe[Be>>>5]|=128<<24-Be%32,fe[Ye]=4294967295&mt,fe[Ye-1]=mt/4294967296|0,Ne=0;Ne<fe.length;Ne+=32)Ce=ie(fe.slice(Ne,Ne+32),Ce);return Qe==="SHA-384"?[(Ce=Ce)[0].N,Ce[0].I,Ce[1].N,Ce[1].I,Ce[2].N,Ce[2].I,Ce[3].N,Ce[3].I,Ce[4].N,Ce[4].I,Ce[5].N,Ce[5].I]:[Ce[0].N,Ce[0].I,Ce[1].N,Ce[1].I,Ce[2].N,Ce[2].I,Ce[3].N,Ce[3].I,Ce[4].N,Ce[4].I,Ce[5].N,Ce[5].I,Ce[6].N,Ce[6].I,Ce[7].N,Ce[7].I]}(k,L,ue,ce,I)},T.m=Z(I),T.S=1024,T.U=I==="SHA-384"?384:512,T.T=!1,U.hmacKey&&T.k(j("hmacKey",U.hmacKey,T.C)),T}return se(N,z),N}(V),Ae=[new f(0,1),new f(0,32898),new f(2147483648,32906),new f(2147483648,2147516416),new f(0,32907),new f(0,2147483649),new f(2147483648,2147516545),new f(2147483648,32777),new f(0,138),new f(0,136),new f(0,2147516425),new f(0,2147483658),new f(0,2147516555),new f(2147483648,139),new f(2147483648,32905),new f(2147483648,32771),new f(2147483648,32770),new f(2147483648,128),new f(0,32778),new f(2147483648,2147483658),new f(2147483648,2147516545),new f(2147483648,32896),new f(0,2147483649),new f(2147483648,2147516424)],ge=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function xe(z){var N,I=[];for(N=0;N<5;N+=1)I[N]=[new f(0,0),new f(0,0),new f(0,0),new f(0,0),new f(0,0)];return I}function Me(z){var N,I=[];for(N=0;N<5;N+=1)I[N]=z[N].slice();return I}function me(z,N){var I,b,C,T,U,k,L,ue,ce,fe=[],Be=[];if(z!==null)for(b=0;b<z.length;b+=2)N[(b>>>1)%5][(b>>>1)/5|0]=Ge(N[(b>>>1)%5][(b>>>1)/5|0],new f(z[b+1],z[b]));for(I=0;I<24;I+=1){for(T=xe(),b=0;b<5;b+=1)fe[b]=(U=N[b][0],k=N[b][1],L=N[b][2],ue=N[b][3],ce=N[b][4],new f(U.N^k.N^L.N^ue.N^ce.N,U.I^k.I^L.I^ue.I^ce.I));for(b=0;b<5;b+=1)Be[b]=Ge(fe[(b+4)%5],y(fe[(b+1)%5],1));for(b=0;b<5;b+=1)for(C=0;C<5;C+=1)N[b][C]=Ge(N[b][C],Be[b]);for(b=0;b<5;b+=1)for(C=0;C<5;C+=1)T[C][(2*b+3*C)%5]=y(N[b][C],ge[b][C]);for(b=0;b<5;b+=1)for(C=0;C<5;C+=1)N[b][C]=Ge(T[b][C],new f(~T[(b+1)%5][C].N&T[(b+2)%5][C].N,~T[(b+1)%5][C].I&T[(b+2)%5][C].I));N[0][0]=Ge(N[0][0],Ae[I])}return N}function we(z){var N,I,b=0,C=[0,0],T=[4294967295&z,z/4294967296&2097151];for(N=6;N>=0;N--)(I=T[N>>2]>>>8*N&255)===0&&b===0||(C[b+1>>2]|=I<<8*(b+1),b+=1);return b=b!==0?b:1,C[0]|=b,{value:b+1>4?C:[C[0]],binLen:8+8*b}}function Oe(z){return M(we(z.binLen),z)}function Se(z,N){var I,b=we(N),C=N>>>2,T=(C-(b=M(b,z)).value.length%C)%C;for(I=0;I<T;I++)b.value.push(0);return b.value}var ke=function(z){function N(I,b,C){var T=this,U=6,k=0,L=C||{};if((T=z.call(this,I,b,C)||this).numRounds!==1){if(L.kmacKey||L.hmacKey)throw new Error("Cannot set numRounds with MAC");if(T.o==="CSHAKE128"||T.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(T.C=1,T.p=a(T.t,T.i,T.C),T.R=me,T.B=Me,T.L=xe,T.m=xe(),T.T=!1,I){case"SHA3-224":T.S=k=1152,T.U=224,T.g=!0,T.F=T.Y;break;case"SHA3-256":T.S=k=1088,T.U=256,T.g=!0,T.F=T.Y;break;case"SHA3-384":T.S=k=832,T.U=384,T.g=!0,T.F=T.Y;break;case"SHA3-512":T.S=k=576,T.U=512,T.g=!0,T.F=T.Y;break;case"SHAKE128":U=31,T.S=k=1344,T.U=-1,T.T=!0,T.g=!1,T.F=null;break;case"SHAKE256":U=31,T.S=k=1088,T.U=-1,T.T=!0,T.g=!1,T.F=null;break;case"KMAC128":U=4,T.S=k=1344,T.M(C),T.U=-1,T.T=!0,T.g=!1,T.F=T.X;break;case"KMAC256":U=4,T.S=k=1088,T.M(C),T.U=-1,T.T=!0,T.g=!1,T.F=T.X;break;case"CSHAKE128":T.S=k=1344,U=T.O(C),T.U=-1,T.T=!0,T.g=!1,T.F=null;break;case"CSHAKE256":T.S=k=1088,U=T.O(C),T.U=-1,T.T=!0,T.g=!1,T.F=null;break;default:throw new Error(x)}return T.K=function(ue,ce,fe,Be,de){return function(Ce,Qe,Ne,Ye,mt,Ve,nt){var bt,et,vt=0,Bt=[],tt=mt>>>5,it=Qe>>>5;for(bt=0;bt<it&&Qe>=mt;bt+=tt)Ye=me(Ce.slice(bt,bt+tt),Ye),Qe-=mt;for(Ce=Ce.slice(bt),Qe%=mt;Ce.length<tt;)Ce.push(0);for(Ce[(bt=Qe>>>3)>>2]^=Ve<<bt%4*8,Ce[tt-1]^=2147483648,Ye=me(Ce,Ye);32*Bt.length<nt&&(et=Ye[vt%5][vt/5|0],Bt.push(et.I),!(32*Bt.length>=nt));)Bt.push(et.N),64*(vt+=1)%mt==0&&(me(null,Ye),vt=0);return Bt}(ue,ce,0,Be,k,U,de)},L.hmacKey&&T.k(j("hmacKey",L.hmacKey,T.C)),T}return se(N,z),N.prototype.O=function(I,b){var C=function(L){var ue=L||{};return{funcName:j("funcName",ue.funcName,1,{value:[],binLen:0}),customization:j("Customization",ue.customization,1,{value:[],binLen:0})}}(I||{});b&&(C.funcName=b);var T=M(Oe(C.funcName),Oe(C.customization));if(C.customization.binLen!==0||C.funcName.binLen!==0){for(var U=Se(T,this.S>>>3),k=0;k<U.length;k+=this.S>>>5)this.m=this.R(U.slice(k,k+(this.S>>>5)),this.m),this.v+=this.S;return 4}return 31},N.prototype.M=function(I){var b=function(U){var k=U||{};return{kmacKey:j("kmacKey",k.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:j("Customization",k.customization,1,{value:[],binLen:0})}}(I||{});this.O(I,b.funcName);for(var C=Se(Oe(b.kmacKey),this.S>>>3),T=0;T<C.length;T+=this.S>>>5)this.m=this.R(C.slice(T,T+(this.S>>>5)),this.m),this.v+=this.S;this.A=!0},N.prototype.X=function(I){var b=M({value:this.u.slice(),binLen:this.s},function(C){var T,U,k=0,L=[0,0],ue=[4294967295&C,C/4294967296&2097151];for(T=6;T>=0;T--)(U=ue[T>>2]>>>8*T&255)==0&&k===0||(L[k>>2]|=U<<8*k,k+=1);return L[(k=k!==0?k:1)>>2]|=k<<8*k,{value:k+1>4?L:[L[0]],binLen:8+8*k}}(I.outputLen));return this.K(b.value,b.binLen,this.v,this.B(this.m),I.outputLen)},N}(V);return function(){function z(N,I,b){if(N=="SHA-1")this.j=new m(N,I,b);else if(N=="SHA-224"||N=="SHA-256")this.j=new $(N,I,b);else if(N=="SHA-384"||N=="SHA-512")this.j=new be(N,I,b);else{if(N!="SHA3-224"&&N!="SHA3-256"&&N!="SHA3-384"&&N!="SHA3-512"&&N!="SHAKE128"&&N!="SHAKE256"&&N!="CSHAKE128"&&N!="CSHAKE256"&&N!="KMAC128"&&N!="KMAC256")throw new Error(x);this.j=new ke(N,I,b)}}return z.prototype.update=function(N){this.j.update(N)},z.prototype.getHash=function(N,I){return this.j.getHash(N,I)},z.prototype.setHMACKey=function(N,I,b){this.j.setHMACKey(N,I,b)},z.prototype.getHMAC=function(N,I){return this.j.getHMAC(N,I)},z}()})})(sha);var browser={},getSecureRandom$1={};Object.defineProperty(getSecureRandom$1,"__esModule",{value:!0});getSecureRandom$1.getSecureRandomWords=getSecureRandom$1.getSecureRandomBytes=void 0;function getSecureRandomBytes$1(e){return Buffer.from(window.crypto.getRandomValues(new Uint8Array(e)))}getSecureRandom$1.getSecureRandomBytes=getSecureRandomBytes$1;function getSecureRandomWords$1(e){return window.crypto.getRandomValues(new Uint16Array(e))}getSecureRandom$1.getSecureRandomWords=getSecureRandomWords$1;var hmac_sha512$3={};Object.defineProperty(hmac_sha512$3,"__esModule",{value:!0});hmac_sha512$3.hmac_sha512=void 0;async function hmac_sha512$2(e,r){let n=typeof e=="string"?Buffer.from(e,"utf-8"):e,o=typeof r=="string"?Buffer.from(r,"utf-8"):r;const a={name:"HMAC",hash:"SHA-512"},s=await window.crypto.subtle.importKey("raw",n,a,!1,["sign"]);return Buffer.from(await crypto.subtle.sign(a,s,o))}hmac_sha512$3.hmac_sha512=hmac_sha512$2;var pbkdf2_sha512$3={};Object.defineProperty(pbkdf2_sha512$3,"__esModule",{value:!0});pbkdf2_sha512$3.pbkdf2_sha512=void 0;async function pbkdf2_sha512$2(e,r,n,o){const a=typeof e=="string"?Buffer.from(e,"utf-8"):e,s=typeof r=="string"?Buffer.from(r,"utf-8"):r,l=await window.crypto.subtle.importKey("raw",a,{name:"PBKDF2"},!1,["deriveBits"]),h=await window.crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:s,iterations:n},l,o*8);return Buffer.from(h)}pbkdf2_sha512$3.pbkdf2_sha512=pbkdf2_sha512$2;var sha256$2={};Object.defineProperty(sha256$2,"__esModule",{value:!0});sha256$2.sha256=void 0;async function sha256$1(e){return typeof e=="string"?Buffer.from(await crypto.subtle.digest("SHA-256",Buffer.from(e,"utf-8"))):Buffer.from(await crypto.subtle.digest("SHA-256",e))}sha256$2.sha256=sha256$1;var sha512$3={};Object.defineProperty(sha512$3,"__esModule",{value:!0});sha512$3.sha512=void 0;async function sha512$2(e){return typeof e=="string"?Buffer.from(await crypto.subtle.digest("SHA-512",Buffer.from(e,"utf-8"))):Buffer.from(await crypto.subtle.digest("SHA-512",e))}sha512$3.sha512=sha512$2;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sha512=e.sha256=e.pbkdf2_sha512=e.hmac_sha512=e.getSecureRandomWords=e.getSecureRandomBytes=void 0;var r=getSecureRandom$1;Object.defineProperty(e,"getSecureRandomBytes",{enumerable:!0,get:function(){return r.getSecureRandomBytes}}),Object.defineProperty(e,"getSecureRandomWords",{enumerable:!0,get:function(){return r.getSecureRandomWords}});var n=hmac_sha512$3;Object.defineProperty(e,"hmac_sha512",{enumerable:!0,get:function(){return n.hmac_sha512}});var o=pbkdf2_sha512$3;Object.defineProperty(e,"pbkdf2_sha512",{enumerable:!0,get:function(){return o.pbkdf2_sha512}});var a=sha256$2;Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return a.sha256}});var s=sha512$3;Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return s.sha512}})})(browser);var __importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sha256$3,"__esModule",{value:!0});sha256$3.sha256=sha256$3.sha256_fallback=sha256$3.sha256_sync=void 0;const jssha_1$2=__importDefault$6(shaExports),ton_crypto_primitives_1$4=browser;function sha256_sync(e){let r;typeof e=="string"?r=Buffer.from(e,"utf-8").toString("hex"):r=e.toString("hex");let n=new jssha_1$2.default("SHA-256","HEX");n.update(r);let o=n.getHash("HEX");return Buffer.from(o,"hex")}sha256$3.sha256_sync=sha256_sync;async function sha256_fallback(e){return sha256_sync(e)}sha256$3.sha256_fallback=sha256_fallback;function sha256(e){return(0,ton_crypto_primitives_1$4.sha256)(e)}sha256$3.sha256=sha256;var sha512$1={},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sha512$1,"__esModule",{value:!0});sha512$1.sha512=sha512$1.sha512_fallback=sha512$1.sha512_sync=void 0;const jssha_1$1=__importDefault$5(shaExports),ton_crypto_primitives_1$3=browser;function sha512_sync(e){let r;typeof e=="string"?r=Buffer.from(e,"utf-8").toString("hex"):r=e.toString("hex");let n=new jssha_1$1.default("SHA-512","HEX");n.update(r);let o=n.getHash("HEX");return Buffer.from(o,"hex")}sha512$1.sha512_sync=sha512_sync;async function sha512_fallback(e){return sha512_sync(e)}sha512$1.sha512_fallback=sha512_fallback;async function sha512(e){return(0,ton_crypto_primitives_1$3.sha512)(e)}sha512$1.sha512=sha512;var pbkdf2_sha512$1={};Object.defineProperty(pbkdf2_sha512$1,"__esModule",{value:!0});pbkdf2_sha512$1.pbkdf2_sha512=void 0;const ton_crypto_primitives_1$2=browser;function pbkdf2_sha512(e,r,n,o){return(0,ton_crypto_primitives_1$2.pbkdf2_sha512)(e,r,n,o)}pbkdf2_sha512$1.pbkdf2_sha512=pbkdf2_sha512;var hmac_sha512$1={},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hmac_sha512$1,"__esModule",{value:!0});hmac_sha512$1.hmac_sha512=hmac_sha512$1.hmac_sha512_fallback=void 0;const jssha_1=__importDefault$4(shaExports),ton_crypto_primitives_1$1=browser;async function hmac_sha512_fallback(e,r){let n=typeof e=="string"?Buffer.from(e,"utf-8"):e,o=typeof r=="string"?Buffer.from(r,"utf-8"):r;const a=new jssha_1.default("SHA-512","HEX",{hmacKey:{value:n.toString("hex"),format:"HEX"}});a.update(o.toString("hex"));const s=a.getHash("HEX");return Buffer.from(s,"hex")}hmac_sha512$1.hmac_sha512_fallback=hmac_sha512_fallback;function hmac_sha512(e,r){return(0,ton_crypto_primitives_1$1.hmac_sha512)(e,r)}hmac_sha512$1.hmac_sha512=hmac_sha512;var getSecureRandom={};Object.defineProperty(getSecureRandom,"__esModule",{value:!0});getSecureRandom.getSecureRandomNumber=getSecureRandom.getSecureRandomWords=getSecureRandom.getSecureRandomBytes=void 0;const ton_crypto_primitives_1=browser;async function getSecureRandomBytes(e){return(0,ton_crypto_primitives_1.getSecureRandomBytes)(e)}getSecureRandom.getSecureRandomBytes=getSecureRandomBytes;async function getSecureRandomWords(e){return getSecureRandomWords()}getSecureRandom.getSecureRandomWords=getSecureRandomWords;async function getSecureRandomNumber(e,r){let n=r-e;var o=Math.ceil(Math.log2(n));if(o>53)throw new Error("Range is too large");for(var a=Math.ceil(o/8),s=Math.pow(2,o)-1;;){let h=await getSecureRandomBytes(o),v=(a-1)*8,x=0;for(var l=0;l<a;l++)x+=h[l]*Math.pow(2,v),v-=8;if(x=x&s,!(x>=n))return e+x}}getSecureRandom.getSecureRandomNumber=getSecureRandomNumber;var newSecureWords$1={},wordlist$1={};Object.defineProperty(wordlist$1,"__esModule",{value:!0});wordlist$1.wordlist=void 0;wordlist$1.wordlist=["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"];Object.defineProperty(newSecureWords$1,"__esModule",{value:!0});newSecureWords$1.newSecureWords=void 0;const getSecureRandom_1$1=getSecureRandom,wordlist_1$1=wordlist$1;async function newSecureWords(e=6){let r=[];for(let n=0;n<e;n++)r.push(wordlist_1$1.wordlist[await(0,getSecureRandom_1$1.getSecureRandomNumber)(0,wordlist_1$1.wordlist.length)]);return r}newSecureWords$1.newSecureWords=newSecureWords;var newSecurePassphrase={},hasRequiredNewSecurePassphrase;function requireNewSecurePassphrase(){if(hasRequiredNewSecurePassphrase)return newSecurePassphrase;hasRequiredNewSecurePassphrase=1,Object.defineProperty(newSecurePassphrase,"__esModule",{value:!0}),newSecurePassphrase.newSecurePassphrase=void 0;const e=requireDist();async function r(n=6){return(await(0,e.newSecureWords)(n)).join("-")}return newSecurePassphrase.newSecurePassphrase=r,newSecurePassphrase}var mnemonic={},binary={};Object.defineProperty(binary,"__esModule",{value:!0});binary.bitsToBytes=binary.bytesToBits=binary.lpad=void 0;function lpad(e,r,n){for(;e.length<n;)e=r+e;return e}binary.lpad=lpad;function bytesToBits(e){let r="";for(let n=0;n<e.length;n++){let o=e.at(n);r+=lpad(o.toString(2),"0",8)}return r}binary.bytesToBits=bytesToBits;function bitsToBytes(e){if(e.length%8!==0)throw Error("Uneven bits");let r=[];for(;e.length>0;)r.push(parseInt(e.slice(0,8),2)),e=e.slice(8);return Buffer.from(r)}binary.bitsToBytes=bitsToBytes;var wordlist={};Object.defineProperty(wordlist,"__esModule",{value:!0});wordlist.wordlist=void 0;const EN=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];wordlist.wordlist=EN;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mnemonic,"__esModule",{value:!0});mnemonic.mnemonicFromRandomSeed=mnemonic.mnemonicIndexesToBytes=mnemonic.bytesToMnemonics=mnemonic.bytesToMnemonicIndexes=mnemonic.mnemonicNew=mnemonic.mnemonicValidate=mnemonic.mnemonicToHDSeed=mnemonic.mnemonicToWalletKey=mnemonic.mnemonicToPrivateKey=mnemonic.mnemonicToSeed=mnemonic.mnemonicToEntropy=void 0;const tweetnacl_1$1=__importDefault$3(naclFastExports),getSecureRandom_1=getSecureRandom,hmac_sha512_1$3=hmac_sha512$1,pbkdf2_sha512_1=pbkdf2_sha512$1,binary_1=binary,wordlist_1=wordlist,PBKDF_ITERATIONS=1e5;async function isPasswordNeeded(e){const r=await mnemonicToEntropy(e);return await isPasswordSeed(r)&&!await isBasicSeed(r)}function normalizeMnemonic(e){return e.map(r=>r.toLowerCase().trim())}async function isBasicSeed(e){return(await(0,pbkdf2_sha512_1.pbkdf2_sha512)(e,"TON seed version",Math.max(1,Math.floor(PBKDF_ITERATIONS/256)),64))[0]==0}async function isPasswordSeed(e){return(await(0,pbkdf2_sha512_1.pbkdf2_sha512)(e,"TON fast seed version",1,64))[0]==1}async function mnemonicToEntropy(e,r){return await(0,hmac_sha512_1$3.hmac_sha512)(e.join(" "),r&&r.length>0?r:"")}mnemonic.mnemonicToEntropy=mnemonicToEntropy;async function mnemonicToSeed(e,r,n){const o=await mnemonicToEntropy(e,n);return await(0,pbkdf2_sha512_1.pbkdf2_sha512)(o,r,PBKDF_ITERATIONS,64)}mnemonic.mnemonicToSeed=mnemonicToSeed;async function mnemonicToPrivateKey(e,r){e=normalizeMnemonic(e);const n=await mnemonicToSeed(e,"TON default seed",r);let o=tweetnacl_1$1.default.sign.keyPair.fromSeed(n.slice(0,32));return{publicKey:Buffer.from(o.publicKey),secretKey:Buffer.from(o.secretKey)}}mnemonic.mnemonicToPrivateKey=mnemonicToPrivateKey;async function mnemonicToWalletKey(e,r){let o=(await mnemonicToPrivateKey(e,r)).secretKey.slice(0,32);const a=tweetnacl_1$1.default.sign.keyPair.fromSeed(o);return{publicKey:Buffer.from(a.publicKey),secretKey:Buffer.from(a.secretKey)}}mnemonic.mnemonicToWalletKey=mnemonicToWalletKey;async function mnemonicToHDSeed(e,r){return e=normalizeMnemonic(e),await mnemonicToSeed(e,"TON HD Keys seed",r)}mnemonic.mnemonicToHDSeed=mnemonicToHDSeed;async function mnemonicValidate(e,r){e=normalizeMnemonic(e);for(let n of e)if(wordlist_1.wordlist.indexOf(n)<0)return!1;return r&&r.length>0&&!await isPasswordNeeded(e)?!1:await isBasicSeed(await mnemonicToEntropy(e,r))}mnemonic.mnemonicValidate=mnemonicValidate;async function mnemonicNew(e=24,r){let n=[];for(;;){n=[];for(let o=0;o<e;o++){let a=await(0,getSecureRandom_1.getSecureRandomNumber)(0,wordlist_1.wordlist.length);n.push(wordlist_1.wordlist[a])}if(!(r&&r.length>0&&!await isPasswordNeeded(n))&&await isBasicSeed(await mnemonicToEntropy(n,r)))break}return n}mnemonic.mnemonicNew=mnemonicNew;function bytesToMnemonicIndexes(e,r){let n=(0,binary_1.bytesToBits)(e),o=[];for(let a=0;a<r;a++){let s=n.slice(a*11,a*11+11);o.push(parseInt(s,2))}return o}mnemonic.bytesToMnemonicIndexes=bytesToMnemonicIndexes;function bytesToMnemonics(e,r){let n=bytesToMnemonicIndexes(e,r),o=[];for(let a of n)o.push(wordlist_1.wordlist[a]);return o}mnemonic.bytesToMnemonics=bytesToMnemonics;function mnemonicIndexesToBytes(e){let r="";for(let n of e){if(!Number.isSafeInteger(n)||n<0||n>=2028)throw Error("Invalid input");r+=(0,binary_1.lpad)(n.toString(2),"0",11)}for(;r.length%8!==0;)r=r+"0";return(0,binary_1.bitsToBytes)(r)}mnemonic.mnemonicIndexesToBytes=mnemonicIndexesToBytes;async function mnemonicFromRandomSeed(e,r=24,n){const o=Math.ceil(r*11/8);let a=e;for(;;){let s=await(0,pbkdf2_sha512_1.pbkdf2_sha512)(a,"TON mnemonic seed",Math.max(1,Math.floor(PBKDF_ITERATIONS/256)),o),l=bytesToMnemonics(s,r);if(await mnemonicValidate(l,n))return l;a=s}}mnemonic.mnemonicFromRandomSeed=mnemonicFromRandomSeed;var nacl={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nacl,"__esModule",{value:!0});nacl.openBox=nacl.sealBox=nacl.signVerify=nacl.sign=nacl.keyPairFromSeed=nacl.keyPairFromSecretKey=void 0;const tweetnacl_1=__importDefault$2(naclFastExports);function keyPairFromSecretKey(e){let r=tweetnacl_1.default.sign.keyPair.fromSecretKey(new Uint8Array(e));return{publicKey:Buffer.from(r.publicKey),secretKey:Buffer.from(r.secretKey)}}nacl.keyPairFromSecretKey=keyPairFromSecretKey;function keyPairFromSeed(e){let r=tweetnacl_1.default.sign.keyPair.fromSeed(new Uint8Array(e));return{publicKey:Buffer.from(r.publicKey),secretKey:Buffer.from(r.secretKey)}}nacl.keyPairFromSeed=keyPairFromSeed;function sign(e,r){return Buffer.from(tweetnacl_1.default.sign.detached(new Uint8Array(e),new Uint8Array(r)))}nacl.sign=sign;function signVerify(e,r,n){return tweetnacl_1.default.sign.detached.verify(new Uint8Array(e),new Uint8Array(r),new Uint8Array(n))}nacl.signVerify=signVerify;function sealBox(e,r,n){return Buffer.from(tweetnacl_1.default.secretbox(e,r,n))}nacl.sealBox=sealBox;function openBox(e,r,n){let o=tweetnacl_1.default.secretbox.open(e,r,n);return o?Buffer.from(o):null}nacl.openBox=openBox;var ed25519={};Object.defineProperty(ed25519,"__esModule",{value:!0});ed25519.deriveEd25519Path=ed25519.deriveED25519HardenedKey=ed25519.getED25519MasterKeyFromSeed=void 0;const hmac_sha512_1$2=hmac_sha512$1,ED25519_CURVE="ed25519 seed",HARDENED_OFFSET$1=2147483648;async function getED25519MasterKeyFromSeed(e){const r=await(0,hmac_sha512_1$2.hmac_sha512)(ED25519_CURVE,e),n=r.slice(0,32),o=r.slice(32);return{key:n,chainCode:o}}ed25519.getED25519MasterKeyFromSeed=getED25519MasterKeyFromSeed;async function deriveED25519HardenedKey(e,r){if(r>=HARDENED_OFFSET$1)throw Error("Key index must be less than offset");const n=Buffer.alloc(4);n.writeUInt32BE(r+HARDENED_OFFSET$1,0);const o=Buffer.concat([Buffer.alloc(1,0),e.key,n]),a=await(0,hmac_sha512_1$2.hmac_sha512)(e.chainCode,o),s=a.slice(0,32),l=a.slice(32);return{key:s,chainCode:l}}ed25519.deriveED25519HardenedKey=deriveED25519HardenedKey;async function deriveEd25519Path(e,r){let n=await getED25519MasterKeyFromSeed(e),o=[...r];for(;o.length>0;){let a=o[0];o=o.slice(1),n=await deriveED25519HardenedKey(n,a)}return n.key}ed25519.deriveEd25519Path=deriveEd25519Path;var symmetric={};Object.defineProperty(symmetric,"__esModule",{value:!0});symmetric.deriveSymmetricPath=symmetric.deriveSymmetricHardenedKey=symmetric.getSymmetricMasterKeyFromSeed=void 0;const hmac_sha512_1$1=hmac_sha512$1,SYMMETRIC_SEED="Symmetric key seed";async function getSymmetricMasterKeyFromSeed(e){const r=await(0,hmac_sha512_1$1.hmac_sha512)(SYMMETRIC_SEED,e),n=r.slice(32),o=r.slice(0,32);return{key:n,chainCode:o}}symmetric.getSymmetricMasterKeyFromSeed=getSymmetricMasterKeyFromSeed;async function deriveSymmetricHardenedKey(e,r){const n=Buffer.concat([Buffer.alloc(1,0),Buffer.from(r)]),o=await(0,hmac_sha512_1$1.hmac_sha512)(e.chainCode,n),a=o.slice(32),s=o.slice(0,32);return{key:a,chainCode:s}}symmetric.deriveSymmetricHardenedKey=deriveSymmetricHardenedKey;async function deriveSymmetricPath(e,r){let n=await getSymmetricMasterKeyFromSeed(e),o=[...r];for(;o.length>0;){let a=o[0];o=o.slice(1),n=await deriveSymmetricHardenedKey(n,a)}return n.key}symmetric.deriveSymmetricPath=deriveSymmetricPath;var mnemonics={};Object.defineProperty(mnemonics,"__esModule",{value:!0});mnemonics.deriveMnemonicsPath=mnemonics.deriveMnemonicHardenedKey=mnemonics.getMnemonicsMasterKeyFromSeed=void 0;const mnemonic_1=mnemonic,hmac_sha512_1=hmac_sha512$1,HARDENED_OFFSET=2147483648,MNEMONICS_SEED="TON Mnemonics HD seed";async function getMnemonicsMasterKeyFromSeed(e){const r=await(0,hmac_sha512_1.hmac_sha512)(MNEMONICS_SEED,e),n=r.slice(0,32),o=r.slice(32);return{key:n,chainCode:o}}mnemonics.getMnemonicsMasterKeyFromSeed=getMnemonicsMasterKeyFromSeed;async function deriveMnemonicHardenedKey(e,r){if(r>=HARDENED_OFFSET)throw Error("Key index must be less than offset");const n=Buffer.alloc(4);n.writeUInt32BE(r+HARDENED_OFFSET,0);const o=Buffer.concat([Buffer.alloc(1,0),e.key,n]),a=await(0,hmac_sha512_1.hmac_sha512)(e.chainCode,o),s=a.slice(0,32),l=a.slice(32);return{key:s,chainCode:l}}mnemonics.deriveMnemonicHardenedKey=deriveMnemonicHardenedKey;async function deriveMnemonicsPath(e,r,n=24,o){let a=await getMnemonicsMasterKeyFromSeed(e),s=[...r];for(;s.length>0;){let l=s[0];s=s.slice(1),a=await deriveMnemonicHardenedKey(a,l)}return await(0,mnemonic_1.mnemonicFromRandomSeed)(a.key,n,o)}mnemonics.deriveMnemonicsPath=deriveMnemonicsPath;var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMnemonicsMasterKeyFromSeed=e.deriveMnemonicHardenedKey=e.deriveMnemonicsPath=e.deriveSymmetricPath=e.deriveSymmetricHardenedKey=e.getSymmetricMasterKeyFromSeed=e.deriveEd25519Path=e.deriveED25519HardenedKey=e.getED25519MasterKeyFromSeed=e.signVerify=e.sign=e.keyPairFromSecretKey=e.keyPairFromSeed=e.openBox=e.sealBox=e.mnemonicWordList=e.mnemonicToHDSeed=e.mnemonicToSeed=e.mnemonicToWalletKey=e.mnemonicToPrivateKey=e.mnemonicValidate=e.mnemonicNew=e.newSecurePassphrase=e.newSecureWords=e.getSecureRandomNumber=e.getSecureRandomWords=e.getSecureRandomBytes=e.hmac_sha512=e.pbkdf2_sha512=e.sha512_sync=e.sha512=e.sha256_sync=e.sha256=void 0;var r=sha256$3;Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return r.sha256}}),Object.defineProperty(e,"sha256_sync",{enumerable:!0,get:function(){return r.sha256_sync}});var n=sha512$1;Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return n.sha512}}),Object.defineProperty(e,"sha512_sync",{enumerable:!0,get:function(){return n.sha512_sync}});var o=pbkdf2_sha512$1;Object.defineProperty(e,"pbkdf2_sha512",{enumerable:!0,get:function(){return o.pbkdf2_sha512}});var a=hmac_sha512$1;Object.defineProperty(e,"hmac_sha512",{enumerable:!0,get:function(){return a.hmac_sha512}});var s=getSecureRandom;Object.defineProperty(e,"getSecureRandomBytes",{enumerable:!0,get:function(){return s.getSecureRandomBytes}}),Object.defineProperty(e,"getSecureRandomWords",{enumerable:!0,get:function(){return s.getSecureRandomWords}}),Object.defineProperty(e,"getSecureRandomNumber",{enumerable:!0,get:function(){return s.getSecureRandomNumber}});var l=newSecureWords$1;Object.defineProperty(e,"newSecureWords",{enumerable:!0,get:function(){return l.newSecureWords}});var h=requireNewSecurePassphrase();Object.defineProperty(e,"newSecurePassphrase",{enumerable:!0,get:function(){return h.newSecurePassphrase}});var v=mnemonic;Object.defineProperty(e,"mnemonicNew",{enumerable:!0,get:function(){return v.mnemonicNew}}),Object.defineProperty(e,"mnemonicValidate",{enumerable:!0,get:function(){return v.mnemonicValidate}}),Object.defineProperty(e,"mnemonicToPrivateKey",{enumerable:!0,get:function(){return v.mnemonicToPrivateKey}}),Object.defineProperty(e,"mnemonicToWalletKey",{enumerable:!0,get:function(){return v.mnemonicToWalletKey}}),Object.defineProperty(e,"mnemonicToSeed",{enumerable:!0,get:function(){return v.mnemonicToSeed}}),Object.defineProperty(e,"mnemonicToHDSeed",{enumerable:!0,get:function(){return v.mnemonicToHDSeed}});var x=wordlist;Object.defineProperty(e,"mnemonicWordList",{enumerable:!0,get:function(){return x.wordlist}});var M=nacl;Object.defineProperty(e,"sealBox",{enumerable:!0,get:function(){return M.sealBox}}),Object.defineProperty(e,"openBox",{enumerable:!0,get:function(){return M.openBox}});var P=nacl;Object.defineProperty(e,"keyPairFromSeed",{enumerable:!0,get:function(){return P.keyPairFromSeed}}),Object.defineProperty(e,"keyPairFromSecretKey",{enumerable:!0,get:function(){return P.keyPairFromSecretKey}}),Object.defineProperty(e,"sign",{enumerable:!0,get:function(){return P.sign}}),Object.defineProperty(e,"signVerify",{enumerable:!0,get:function(){return P.signVerify}});var j=ed25519;Object.defineProperty(e,"getED25519MasterKeyFromSeed",{enumerable:!0,get:function(){return j.getED25519MasterKeyFromSeed}}),Object.defineProperty(e,"deriveED25519HardenedKey",{enumerable:!0,get:function(){return j.deriveED25519HardenedKey}}),Object.defineProperty(e,"deriveEd25519Path",{enumerable:!0,get:function(){return j.deriveEd25519Path}});var V=symmetric;Object.defineProperty(e,"getSymmetricMasterKeyFromSeed",{enumerable:!0,get:function(){return V.getSymmetricMasterKeyFromSeed}}),Object.defineProperty(e,"deriveSymmetricHardenedKey",{enumerable:!0,get:function(){return V.deriveSymmetricHardenedKey}}),Object.defineProperty(e,"deriveSymmetricPath",{enumerable:!0,get:function(){return V.deriveSymmetricPath}});var ee=mnemonics;Object.defineProperty(e,"deriveMnemonicsPath",{enumerable:!0,get:function(){return ee.deriveMnemonicsPath}}),Object.defineProperty(e,"deriveMnemonicHardenedKey",{enumerable:!0,get:function(){return ee.deriveMnemonicHardenedKey}}),Object.defineProperty(e,"getMnemonicsMasterKeyFromSeed",{enumerable:!0,get:function(){return ee.getMnemonicsMasterKeyFromSeed}})}(dist)),dist}Object.defineProperty(wonderCalculator$1,"__esModule",{value:!0});wonderCalculator$1.wonderCalculator=void 0;const BitString_1=requireBitString(),CellType_1=CellType,LevelMask_1=LevelMask$1,exoticPruned_1=exoticPruned$1,exoticMerkleProof_1=exoticMerkleProof$1,descriptor_1=descriptor,ton_crypto_1$4=requireDist(),exoticMerkleUpdate_1=exoticMerkleUpdate$1,exoticLibrary_1=exoticLibrary$1;function wonderCalculator(e,r,n){let o,a=null;if(e===CellType_1.CellType.Ordinary){let j=0;for(let V of n)j=j|V.mask.value;o=new LevelMask_1.LevelMask(j)}else if(e===CellType_1.CellType.PrunedBranch)a=(0,exoticPruned_1.exoticPruned)(r,n),o=new LevelMask_1.LevelMask(a.mask);else if(e===CellType_1.CellType.MerkleProof)(0,exoticMerkleProof_1.exoticMerkleProof)(r,n),o=new LevelMask_1.LevelMask(n[0].mask.value>>1);else if(e===CellType_1.CellType.MerkleUpdate)(0,exoticMerkleUpdate_1.exoticMerkleUpdate)(r,n),o=new LevelMask_1.LevelMask((n[0].mask.value|n[1].mask.value)>>1);else if(e===CellType_1.CellType.Library)(0,exoticLibrary_1.exoticLibrary)(r,n),o=new LevelMask_1.LevelMask;else throw new Error("Unsupported exotic type");let s=[],l=[],h=e===CellType_1.CellType.PrunedBranch?1:o.hashCount,x=o.hashCount-h;for(let j=0,V=0;j<=o.level;j++){if(!o.isSignificant(j))continue;if(V<x){V++;continue}let ee;if(V===x){if(!(j===0||e===CellType_1.CellType.PrunedBranch))throw Error("Invalid");ee=r}else{if(!(j!==0&&e!==CellType_1.CellType.PrunedBranch))throw Error("Invalid: "+j+", "+e);ee=new BitString_1.BitString(l[V-x-1],0,256)}let se=0;for(let ye of n){let G;e==CellType_1.CellType.MerkleProof||e==CellType_1.CellType.MerkleUpdate?G=ye.depth(j+1):G=ye.depth(j),se=Math.max(se,G)}n.length>0&&se++;let Q=(0,descriptor_1.getRepr)(ee,n,j,e),$e=(0,ton_crypto_1$4.sha256_sync)(Q),Ie=V-x;s[Ie]=se,l[Ie]=$e,V++}let M=[],P=[];if(a)for(let j=0;j<4;j++){const{hashIndex:V}=o.apply(j),{hashIndex:ee}=o;V!==ee?(M.push(a.pruned[V].hash),P.push(a.pruned[V].depth)):(M.push(l[0]),P.push(s[0]))}else for(let j=0;j<4;j++)M.push(l[o.apply(j).hashIndex]),P.push(s[o.apply(j).hashIndex]);return{mask:o,hashes:M,depths:P}}wonderCalculator$1.wonderCalculator=wonderCalculator;var serialization={},topologicalSort$1={};Object.defineProperty(topologicalSort$1,"__esModule",{value:!0});topologicalSort$1.topologicalSort=void 0;function topologicalSort(e){let r=[e],n=new Map,o=new Set,a=[];for(;r.length>0;){const x=[...r];r=[];for(let M of x){const P=M.hash().toString("hex");if(!n.has(P)){o.add(P),n.set(P,{cell:M,refs:M.refs.map(j=>j.hash().toString("hex"))});for(let j of M.refs)r.push(j)}}}let s=new Set;function l(x){if(o.has(x)){if(s.has(x))throw Error("Not a DAG");s.add(x);for(let M of n.get(x).refs)l(M);a.unshift(x),s.delete(x),o.delete(x)}}for(;o.size>0;){const x=Array.from(o)[0];l(x)}let h=new Map;for(let x=0;x<a.length;x++)h.set(a[x],x);let v=[];for(let x of a){const M=n.get(x);v.push({cell:M.cell,refs:M.refs.map(P=>h.get(P))})}return v}topologicalSort$1.topologicalSort=topologicalSort;var bitsForNumber$1={};Object.defineProperty(bitsForNumber$1,"__esModule",{value:!0});bitsForNumber$1.bitsForNumber=void 0;function bitsForNumber(e,r){let n=BigInt(e);if(r==="int")return n===0n||n===-1n?1:(n>0?n:-n).toString(2).length+1;if(r==="uint"){if(n<0)throw Error(`value is negative. Got ${e}`);return n.toString(2).length}else throw Error(`invalid mode. Got ${r}`)}bitsForNumber$1.bitsForNumber=bitsForNumber;var crc32c$1={};Object.defineProperty(crc32c$1,"__esModule",{value:!0});crc32c$1.crc32c=void 0;const POLY=2197175160;function crc32c(e){let r=-1;for(let o=0;o<e.length;o++)r^=e[o],r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1,r=r&1?r>>>1^POLY:r>>>1;r=r^4294967295;let n=Buffer.alloc(4);return n.writeInt32LE(r),n}crc32c$1.crc32c=crc32c;var hasRequiredSerialization;function requireSerialization(){if(hasRequiredSerialization)return serialization;hasRequiredSerialization=1,Object.defineProperty(serialization,"__esModule",{value:!0}),serialization.serializeBoc=serialization.deserializeBoc=serialization.parseBoc=void 0;const e=BitReader$1,r=requireBitString(),n=requireCell(),o=topologicalSort$1,a=bitsForNumber$1,s=requireBitBuilder(),l=descriptor,h=requirePaddedBits(),v=crc32c$1;function x(se,Q){const $e=se.loadUint(8),Ie=$e%8,ye=!!($e&8),G=se.loadUint(8),J=Math.ceil(G/2),le=!!(G%2);let ae=r.BitString.EMPTY;J>0&&(le?ae=se.loadPaddedBits(J*8):ae=se.loadBits(J*8));let H=[];for(let te=0;te<Ie;te++)H.push(se.loadUint(Q*8));return{bits:ae,refs:H,exotic:ye}}function M(se,Q){return 2+Math.ceil(se.bits.length/8)+se.refs.length*Q}function P(se){let Q=new e.BitReader(new r.BitString(se,0,se.length*8)),$e=Q.loadUint(32);if($e===1761568243){let Ie=Q.loadUint(8),ye=Q.loadUint(8),G=Q.loadUint(Ie*8),J=Q.loadUint(Ie*8),le=Q.loadUint(Ie*8),ae=Q.loadUint(ye*8),H=Q.loadBuffer(G*ye),te=Q.loadBuffer(ae);return{size:Ie,offBytes:ye,cells:G,roots:J,absent:le,totalCellSize:ae,index:H,cellData:te,root:[0]}}else if($e===2898503464){let Ie=Q.loadUint(8),ye=Q.loadUint(8),G=Q.loadUint(Ie*8),J=Q.loadUint(Ie*8),le=Q.loadUint(Ie*8),ae=Q.loadUint(ye*8),H=Q.loadBuffer(G*ye),te=Q.loadBuffer(ae),E=Q.loadBuffer(4);if(!(0,v.crc32c)(se.subarray(0,se.length-4)).equals(E))throw Error("Invalid CRC32C");return{size:Ie,offBytes:ye,cells:G,roots:J,absent:le,totalCellSize:ae,index:H,cellData:te,root:[0]}}else if($e===3052313714){let Ie=Q.loadUint(1),ye=Q.loadUint(1);Q.loadUint(1),Q.loadUint(2);let G=Q.loadUint(3),J=Q.loadUint(8),le=Q.loadUint(G*8),ae=Q.loadUint(G*8),H=Q.loadUint(G*8),te=Q.loadUint(J*8),E=[];for(let c=0;c<ae;c++)E.push(Q.loadUint(G*8));let u=null;Ie&&(u=Q.loadBuffer(le*J));let d=Q.loadBuffer(te);if(ye){let c=Q.loadBuffer(4);if(!(0,v.crc32c)(se.subarray(0,se.length-4)).equals(c))throw Error("Invalid CRC32C")}return{size:G,offBytes:J,cells:le,roots:ae,absent:H,totalCellSize:te,index:u,cellData:d,root:E}}else throw Error("Invalid magic")}serialization.parseBoc=P;function j(se){let Q=P(se),$e=new e.BitReader(new r.BitString(Q.cellData,0,Q.cellData.length*8)),Ie=[];for(let G=0;G<Q.cells;G++){let J=x($e,Q.size);Ie.push({...J,result:null})}for(let G=Ie.length-1;G>=0;G--){if(Ie[G].result)throw Error("Impossible");let J=[];for(let le of Ie[G].refs){if(!Ie[le].result)throw Error("Invalid BOC file");J.push(Ie[le].result)}Ie[G].result=new n.Cell({bits:Ie[G].bits,refs:J,exotic:Ie[G].exotic})}let ye=[];for(let G=0;G<Q.root.length;G++)ye.push(Ie[Q.root[G]].result);return ye}serialization.deserializeBoc=j;function V(se,Q,$e,Ie){let ye=(0,l.getRefsDescriptor)(se.refs,se.level(),se.type),G=(0,l.getBitsDescriptor)(se.bits);Ie.writeUint(ye,8),Ie.writeUint(G,8),Ie.writeBuffer((0,h.bitsToPaddedBuffer)(se.bits));for(let J of Q)Ie.writeUint(J,$e*8)}function ee(se,Q){let $e=(0,o.topologicalSort)(se),Ie=$e.length,ye=Q.idx,G=Q.crc32,J=!1,le=0,ae=Math.max(Math.ceil((0,a.bitsForNumber)(Ie,"uint")/8),1),H=0,te=[];for(let g of $e){let m=M(g.cell,ae);te.push(H),H+=m}let E=Math.max(Math.ceil((0,a.bitsForNumber)(H,"uint")/8),1),u=(4+1+1+3*ae+E+1*ae+(ye?Ie*E:0)+H+(G?4:0))*8,d=new s.BitBuilder(u);if(d.writeUint(3052313714,32),d.writeBit(ye),d.writeBit(G),d.writeBit(J),d.writeUint(le,2),d.writeUint(ae,3),d.writeUint(E,8),d.writeUint(Ie,ae*8),d.writeUint(1,ae*8),d.writeUint(0,ae*8),d.writeUint(H,E*8),d.writeUint(0,ae*8),ye)for(let g=0;g<Ie;g++)d.writeUint(te[g],E*8);for(let g=0;g<Ie;g++)V($e[g].cell,$e[g].refs,ae,d);if(G){let g=(0,v.crc32c)(d.buffer());d.writeBuffer(g)}let c=d.buffer();if(c.length!==u/8)throw Error("Internal error");return c}return serialization.serializeBoc=ee,serialization}var hasRequiredCell;function requireCell(){if(hasRequiredCell)return Cell;hasRequiredCell=1;var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(j){return j&&j.__esModule?j:{default:j}},r;Object.defineProperty(Cell,"__esModule",{value:!0}),Cell.Cell=void 0;const n=e(symbol_inspect),o=requireBitString(),a=CellType,s=requireSlice(),l=resolveExotic$1,h=wonderCalculator$1,v=requireSerialization(),x=BitReader$1,M=requireBuilder();let P=class tr{static fromBoc(V){return(0,v.deserializeBoc)(V)}static fromBase64(V){let ee=tr.fromBoc(Buffer.from(V,"base64"));if(ee.length!==1)throw new Error("Deserialized more than one cell");return ee[0]}constructor(V){this._hashes=[],this._depths=[],this.beginParse=(G=!1)=>{if(this.isExotic&&!G)throw new Error("Exotic cells cannot be parsed");return new s.Slice(new x.BitReader(this.bits),this.refs)},this.hash=(G=3)=>this._hashes[Math.min(this._hashes.length-1,G)],this.depth=(G=3)=>this._depths[Math.min(this._depths.length-1,G)],this.level=()=>this.mask.level,this.equals=G=>this.hash().equals(G.hash()),this[r]=()=>this.toString();let ee=o.BitString.EMPTY;V&&V.bits&&(ee=V.bits);let se=[];V&&V.refs&&(se=[...V.refs]);let Q,$e,Ie,ye=a.CellType.Ordinary;if(V&&V.exotic){let G=(0,l.resolveExotic)(ee,se),J=(0,h.wonderCalculator)(G.type,ee,se);Ie=J.mask,$e=J.depths,Q=J.hashes,ye=G.type}else{if(se.length>4)throw new Error("Invalid number of references");if(ee.length>1023)throw new Error(`Bits overflow: ${ee.length} > 1023`);let G=(0,h.wonderCalculator)(a.CellType.Ordinary,ee,se);Ie=G.mask,$e=G.depths,Q=G.hashes,ye=a.CellType.Ordinary}this.type=ye,this.bits=ee,this.refs=se,this.mask=Ie,this._depths=$e,this._hashes=Q,Object.freeze(this),Object.freeze(this.refs),Object.freeze(this.bits),Object.freeze(this.mask),Object.freeze(this._depths),Object.freeze(this._hashes)}get isExotic(){return this.type!==a.CellType.Ordinary}toBoc(V){let ee=V&&V.idx!==null&&V.idx!==void 0?V.idx:!1,se=V&&V.crc32!==null&&V.crc32!==void 0?V.crc32:!0;return(0,v.serializeBoc)(this,{idx:ee,crc32:se})}toString(V){let ee=V||"",se="x";this.isExotic&&(this.type===a.CellType.MerkleProof?se="p":this.type===a.CellType.MerkleUpdate?se="u":this.type===a.CellType.PrunedBranch&&(se="p"));let Q=ee+(this.isExotic?se:"x")+"{"+this.bits.toString()+"}";for(let $e in this.refs){const Ie=this.refs[$e];Q+=`
`+Ie.toString(ee+" ")}return Q}asSlice(){return this.beginParse()}asBuilder(){return(0,M.beginCell)().storeSlice(this.asSlice())}};return Cell.Cell=P,r=n.default,P.EMPTY=new P,Cell}var hasRequiredBuilder;function requireBuilder(){if(hasRequiredBuilder)return Builder;hasRequiredBuilder=1,Object.defineProperty(Builder,"__esModule",{value:!0}),Builder.Builder=Builder.beginCell=void 0;const e=requireBitBuilder(),r=requireCell(),n=requireStrings();function o(){return new a}Builder.beginCell=o;let a=class rr{constructor(){this._bits=new e.BitBuilder,this._refs=[]}get bits(){return this._bits.length}get refs(){return this._refs.length}get availableBits(){return 1023-this.bits}get availableRefs(){return 4-this.refs}storeBit(l){return this._bits.writeBit(l),this}storeBits(l){return this._bits.writeBits(l),this}storeBuffer(l,h){if(h!=null&&l.length!==h)throw Error(`Buffer length ${l.length} is not equal to ${h}`);return this._bits.writeBuffer(l),this}storeMaybeBuffer(l,h){return l!==null?(this.storeBit(1),this.storeBuffer(l,h)):this.storeBit(0),this}storeUint(l,h){return this._bits.writeUint(l,h),this}storeMaybeUint(l,h){return l!=null?(this.storeBit(1),this.storeUint(l,h)):this.storeBit(0),this}storeInt(l,h){return this._bits.writeInt(l,h),this}storeMaybeInt(l,h){return l!=null?(this.storeBit(1),this.storeInt(l,h)):this.storeBit(0),this}storeVarUint(l,h){return this._bits.writeVarUint(l,h),this}storeMaybeVarUint(l,h){return l!=null?(this.storeBit(1),this.storeVarUint(l,h)):this.storeBit(0),this}storeVarInt(l,h){return this._bits.writeVarInt(l,h),this}storeMaybeVarInt(l,h){return l!=null?(this.storeBit(1),this.storeVarInt(l,h)):this.storeBit(0),this}storeCoins(l){return this._bits.writeCoins(l),this}storeMaybeCoins(l){return l!=null?(this.storeBit(1),this.storeCoins(l)):this.storeBit(0),this}storeAddress(l){return this._bits.writeAddress(l),this}storeRef(l){if(this._refs.length>=4)throw new Error("Too many references");if(l instanceof r.Cell)this._refs.push(l);else if(l instanceof rr)this._refs.push(l.endCell());else throw new Error("Invalid argument");return this}storeMaybeRef(l){return l?(this.storeBit(1),this.storeRef(l)):this.storeBit(0),this}storeSlice(l){let h=l.clone();for(h.remainingBits>0&&this.storeBits(h.loadBits(h.remainingBits));h.remainingRefs>0;)this.storeRef(h.loadRef());return this}storeMaybeSlice(l){return l?(this.storeBit(1),this.storeSlice(l)):this.storeBit(0),this}storeBuilder(l){return this.storeSlice(l.endCell().beginParse())}storeMaybeBuilder(l){return l?(this.storeBit(1),this.storeBuilder(l)):this.storeBit(0),this}storeWritable(l){return typeof l=="object"?l.writeTo(this):l(this),this}storeMaybeWritable(l){return l?(this.storeBit(1),this.storeWritable(l)):this.storeBit(0),this}store(l){return this.storeWritable(l),this}storeStringTail(l){return(0,n.writeString)(l,this),this}storeMaybeStringTail(l){return l!=null?(this.storeBit(1),(0,n.writeString)(l,this)):this.storeBit(0),this}storeStringRefTail(l){return this.storeRef(o().storeStringTail(l)),this}storeMaybeStringRefTail(l){return l!=null?(this.storeBit(1),this.storeStringRefTail(l)):this.storeBit(0),this}storeDict(l,h,v){return l?l.store(this,h,v):this.storeBit(0),this}storeDictDirect(l,h,v){return l.storeDirect(this,h,v),this}endCell(){return new r.Cell({bits:this._bits.build(),refs:this._refs})}asCell(){return this.endCell()}asSlice(){return this.endCell().beginParse()}};return Builder.Builder=a,Builder}var StateInit={},SimpleLibrary={};Object.defineProperty(SimpleLibrary,"__esModule",{value:!0});SimpleLibrary.SimpleLibraryValue=SimpleLibrary.storeSimpleLibrary=SimpleLibrary.loadSimpleLibrary=void 0;function loadSimpleLibrary(e){return{public:e.loadBit(),root:e.loadRef()}}SimpleLibrary.loadSimpleLibrary=loadSimpleLibrary;function storeSimpleLibrary(e){return r=>{r.storeBit(e.public),r.storeRef(e.root)}}SimpleLibrary.storeSimpleLibrary=storeSimpleLibrary;SimpleLibrary.SimpleLibraryValue={serialize(e,r){storeSimpleLibrary(e)(r)},parse(e){return loadSimpleLibrary(e)}};var TickTock={};Object.defineProperty(TickTock,"__esModule",{value:!0});TickTock.storeTickTock=TickTock.loadTickTock=void 0;function loadTickTock(e){return{tick:e.loadBit(),tock:e.loadBit()}}TickTock.loadTickTock=loadTickTock;function storeTickTock(e){return r=>{r.storeBit(e.tick),r.storeBit(e.tock)}}TickTock.storeTickTock=storeTickTock;Object.defineProperty(StateInit,"__esModule",{value:!0});StateInit.storeStateInit=StateInit.loadStateInit=void 0;const Dictionary_1$2=requireDictionary(),SimpleLibrary_1=SimpleLibrary,TickTock_1=TickTock;function loadStateInit(e){let r;e.loadBit()&&(r=e.loadUint(5));let n;e.loadBit()&&(n=(0,TickTock_1.loadTickTock)(e));let o=e.loadMaybeRef(),a=e.loadMaybeRef(),s=e.loadDict(Dictionary_1$2.Dictionary.Keys.BigUint(256),SimpleLibrary_1.SimpleLibraryValue);return s.size===0&&(s=void 0),{splitDepth:r,special:n,code:o,data:a,libraries:s}}StateInit.loadStateInit=loadStateInit;function storeStateInit(e){return r=>{e.splitDepth!==null&&e.splitDepth!==void 0?(r.storeBit(!0),r.storeUint(e.splitDepth,5)):r.storeBit(!1),e.special!==null&&e.special!==void 0?(r.storeBit(!0),r.store((0,TickTock_1.storeTickTock)(e.special))):r.storeBit(!1),r.storeMaybeRef(e.code),r.storeMaybeRef(e.data),r.storeDict(e.libraries)}}StateInit.storeStateInit=storeStateInit;Object.defineProperty(contractAddress$1,"__esModule",{value:!0});contractAddress$1.contractAddress=void 0;const Builder_1$7=requireBuilder(),StateInit_1$3=StateInit,Address_1$2=Address$1;function contractAddress(e,r){let n=(0,Builder_1$7.beginCell)().store((0,StateInit_1$3.storeStateInit)(r)).endCell().hash();return new Address_1$2.Address(e,n)}contractAddress$1.contractAddress=contractAddress;var tuple$1={};Object.defineProperty(tuple$1,"__esModule",{value:!0});tuple$1.parseTuple=tuple$1.serializeTuple=void 0;const Builder_1$6=requireBuilder(),INT64_MIN=BigInt("-9223372036854775808"),INT64_MAX=BigInt("9223372036854775807");function serializeTupleItem(e,r){if(e.type==="null")r.storeUint(0,8);else if(e.type==="int")e.value<=INT64_MAX&&e.value>=INT64_MIN?(r.storeUint(1,8),r.storeInt(e.value,64)):(r.storeUint(256,15),r.storeInt(e.value,257));else if(e.type==="nan")r.storeInt(767,16);else if(e.type==="cell")r.storeUint(3,8),r.storeRef(e.cell);else if(e.type==="slice")r.storeUint(4,8),r.storeUint(0,10),r.storeUint(e.cell.bits.length,10),r.storeUint(0,3),r.storeUint(e.cell.refs.length,3),r.storeRef(e.cell);else if(e.type==="builder")r.storeUint(5,8),r.storeRef(e.cell);else if(e.type==="tuple"){let n=null,o=null;for(let a=0;a<e.items.length;a++){let s=n;n=o,o=s,a>1&&(n=(0,Builder_1$6.beginCell)().storeRef(o).storeRef(n).endCell());let l=(0,Builder_1$6.beginCell)();serializeTupleItem(e.items[a],l),o=l.endCell()}r.storeUint(7,8),r.storeUint(e.items.length,16),n&&r.storeRef(n),o&&r.storeRef(o)}else throw Error("Invalid value")}function parseStackItem(e){let r=e.loadUint(8);if(r===0)return{type:"null"};if(r===1)return{type:"int",value:e.loadIntBig(64)};if(r===2)return e.loadUint(7)===0?{type:"int",value:e.loadIntBig(257)}:(e.loadBit(),{type:"nan"});if(r===3)return{type:"cell",cell:e.loadRef()};if(r===4){let n=e.loadUint(10),o=e.loadUint(10),a=e.loadUint(3),s=e.loadUint(3),l=e.loadRef().beginParse();l.skip(n);let h=l.loadBits(o-n),v=(0,Builder_1$6.beginCell)().storeBits(h);if(a<s){for(let x=0;x<a;x++)l.loadRef();for(let x=0;x<s-a;x++)v.storeRef(l.loadRef())}return{type:"slice",cell:v.endCell()}}else{if(r===5)return{type:"builder",cell:e.loadRef()};if(r===7){let n=e.loadUint(16),o=[];if(n>1){let a=e.loadRef().beginParse(),s=e.loadRef().beginParse();o.unshift(parseStackItem(s));for(let l=0;l<n-2;l++){let h=a;a=h.loadRef().beginParse(),s=h.loadRef().beginParse(),o.unshift(parseStackItem(s))}o.unshift(parseStackItem(a))}else n===1&&o.push(parseStackItem(e.loadRef().beginParse()));return{type:"tuple",items:o}}else throw Error("Unsupported stack item")}}function serializeTupleTail(e,r){if(e.length>0){let n=(0,Builder_1$6.beginCell)();serializeTupleTail(e.slice(0,e.length-1),n),r.storeRef(n.endCell()),serializeTupleItem(e[e.length-1],r)}}function serializeTuple(e){let r=(0,Builder_1$6.beginCell)();r.storeUint(e.length,24);let n=[...e];return serializeTupleTail(n,r),r.endCell()}tuple$1.serializeTuple=serializeTuple;function parseTuple(e){let r=[],n=e.beginParse(),o=n.loadUint(24);for(let a=0;a<o;a++){let s=n.loadRef();r.unshift(parseStackItem(n)),n=s.beginParse()}return r}tuple$1.parseTuple=parseTuple;var reader={};Object.defineProperty(reader,"__esModule",{value:!0});reader.TupleReader=void 0;class TupleReader{constructor(r){this.items=[...r]}get remaining(){return this.items.length}peek(){if(this.items.length===0)throw Error("EOF");return this.items[0]}pop(){if(this.items.length===0)throw Error("EOF");let r=this.items[0];return this.items.splice(0,1),r}skip(r=1){for(let n=0;n<r;n++)this.pop();return this}readBigNumber(){let r=this.pop();if(r.type!=="int")throw Error("Not a number");return r.value}readBigNumberOpt(){let r=this.pop();if(r.type==="null")return null;if(r.type!=="int")throw Error("Not a number");return r.value}readNumber(){return Number(this.readBigNumber())}readNumberOpt(){let r=this.readBigNumberOpt();return r!==null?Number(r):null}readBoolean(){return this.readNumber()!==0}readBooleanOpt(){let r=this.readNumberOpt();return r!==null?r!==0:null}readAddress(){let r=this.readCell().beginParse().loadAddress();if(r!==null)return r;throw Error("Not an address")}readAddressOpt(){let r=this.readCellOpt();return r!==null?r.beginParse().loadMaybeAddress():null}readCell(){let r=this.pop();if(r.type!=="cell"&&r.type!=="slice"&&r.type!=="builder")throw Error("Not a cell: "+r.type);return r.cell}readCellOpt(){let r=this.pop();if(r.type==="null")return null;if(r.type!=="cell"&&r.type!=="slice"&&r.type!=="builder")throw Error("Not a cell");return r.cell}readTuple(){let r=this.pop();if(r.type!=="tuple")throw Error("Not a number");return new TupleReader(r.items)}readTupleOpt(){let r=this.pop();if(r.type==="null")return null;if(r.type!=="tuple")throw Error("Not a number");return new TupleReader(r.items)}readBuffer(){let r=this.readCell().beginParse();if(r.remainingRefs!==0||r.remainingBits%8!==0)throw Error("Not a buffer");return r.loadBuffer(r.remainingBits/8)}readBufferOpt(){if(this.peek().type==="null")return null;let n=this.readCell().beginParse();if(n.remainingRefs!==0||n.remainingBits%8!==0)throw Error("Not a buffer");return n.loadBuffer(n.remainingBits/8)}readString(){return this.readCell().beginParse().loadStringTail()}readStringOpt(){return this.peek().type==="null"?null:this.readCell().beginParse().loadStringTail()}}reader.TupleReader=TupleReader;var builder={};Object.defineProperty(builder,"__esModule",{value:!0});builder.TupleBuilder=void 0;const Builder_1$5=requireBuilder(),Cell_1$2=requireCell(),Slice_1=requireSlice();class TupleBuilder{constructor(){this._tuple=[]}writeNumber(r){r==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:BigInt(r)})}writeBoolean(r){r==null?this._tuple.push({type:"null"}):this._tuple.push({type:"int",value:r?-1n:0n})}writeBuffer(r){r==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,Builder_1$5.beginCell)().storeBuffer(r).endCell()})}writeString(r){r==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,Builder_1$5.beginCell)().storeStringTail(r).endCell()})}writeCell(r){r==null?this._tuple.push({type:"null"}):r instanceof Cell_1$2.Cell?this._tuple.push({type:"cell",cell:r}):r instanceof Slice_1.Slice&&this._tuple.push({type:"cell",cell:r.asCell()})}writeSlice(r){r==null?this._tuple.push({type:"null"}):r instanceof Cell_1$2.Cell?this._tuple.push({type:"slice",cell:r}):r instanceof Slice_1.Slice&&this._tuple.push({type:"slice",cell:r.asCell()})}writeBuilder(r){r==null?this._tuple.push({type:"null"}):r instanceof Cell_1$2.Cell?this._tuple.push({type:"builder",cell:r}):r instanceof Slice_1.Slice&&this._tuple.push({type:"builder",cell:r.asCell()})}writeTuple(r){r==null?this._tuple.push({type:"null"}):this._tuple.push({type:"tuple",items:r})}writeAddress(r){r==null?this._tuple.push({type:"null"}):this._tuple.push({type:"slice",cell:(0,Builder_1$5.beginCell)().storeAddress(r).endCell()})}build(){return[...this._tuple]}}builder.TupleBuilder=TupleBuilder;var _export={},_helpers={},convert={};Object.defineProperty(convert,"__esModule",{value:!0});convert.fromNano=convert.toNano=void 0;function toNano(e){if(typeof e=="bigint")return e*1000000000n;if(typeof e=="number")return BigInt(e)*1000000000n;{let r=!1;for(;e.startsWith("-");)r=!r,e=e.slice(1);if(e===".")throw Error("Invalid number");let n=e.split(".");if(n.length>2)throw Error("Invalid number");let o=n[0],a=n[1];if(o||(o="0"),a||(a="0"),a.length>9)throw Error("Invalid number");for(;a.length<9;)a+="0";let s=BigInt(o)*1000000000n+BigInt(a);return r&&(s=-s),s}}convert.toNano=toNano;function fromNano(e){let r=BigInt(e),n=!1;r<0&&(n=!0,r=-r);let a=(r%1000000000n).toString();for(;a.length<9;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];let h=`${(r/1000000000n).toString()}${a==="0"?"":`.${a}`}`;return n&&(h="-"+h),h}convert.fromNano=fromNano;Object.defineProperty(_helpers,"__esModule",{value:!0});_helpers.comment=_helpers.external=_helpers.internal=void 0;const Address_1$1=Address$1,Cell_1$1=requireCell(),Builder_1$4=requireBuilder(),convert_1=convert;function internal$1(e){let r=!0;e.bounce!==null&&e.bounce!==void 0&&(r=e.bounce);let n;if(typeof e.to=="string")n=Address_1$1.Address.parse(e.to);else if(Address_1$1.Address.isAddress(e.to))n=e.to;else throw new Error(`Invalid address ${e.to}`);let o;typeof e.value=="string"?o=(0,convert_1.toNano)(e.value):o=e.value;let a=Cell_1$1.Cell.EMPTY;return typeof e.body=="string"?a=(0,Builder_1$4.beginCell)().storeUint(0,32).storeStringTail(e.body).endCell():e.body&&(a=e.body),{info:{type:"internal",dest:n,value:{coins:o},bounce:r,ihrDisabled:!0,bounced:!1,ihrFee:0n,forwardFee:0n,createdAt:0,createdLt:0n},init:e.init?{code:e.init.code,data:e.init.data}:void 0,body:a}}_helpers.internal=internal$1;function external(e){let r;if(typeof e.to=="string")r=Address_1$1.Address.parse(e.to);else if(Address_1$1.Address.isAddress(e.to))r=e.to;else throw new Error(`Invalid address ${e.to}`);return{info:{type:"external-in",dest:r,importFee:0n},init:e.init?{code:e.init.code,data:e.init.data}:void 0,body:e.body||Cell_1$1.Cell.EMPTY}}_helpers.external=external;function comment(e){return(0,Builder_1$4.beginCell)().storeUint(0,32).storeStringTail(e).endCell()}_helpers.comment=comment;var Account={},AccountStorage={},AccountState={};Object.defineProperty(AccountState,"__esModule",{value:!0});AccountState.storeAccountState=AccountState.loadAccountState=void 0;const StateInit_1$2=StateInit;function loadAccountState(e){return e.loadBit()?{type:"active",state:(0,StateInit_1$2.loadStateInit)(e)}:e.loadBit()?{type:"frozen",stateHash:e.loadUintBig(256)}:{type:"uninit"}}AccountState.loadAccountState=loadAccountState;function storeAccountState(e){return r=>{e.type==="active"?(r.storeBit(!0),r.store((0,StateInit_1$2.storeStateInit)(e.state))):e.type==="frozen"?(r.storeBit(!1),r.storeBit(!0),r.storeUint(e.stateHash,256)):e.type==="uninit"&&(r.storeBit(!1),r.storeBit(!1))}}AccountState.storeAccountState=storeAccountState;var CurrencyCollection={};Object.defineProperty(CurrencyCollection,"__esModule",{value:!0});CurrencyCollection.storeCurrencyCollection=CurrencyCollection.loadCurrencyCollection=void 0;const Dictionary_1$1=requireDictionary();function loadCurrencyCollection(e){const r=e.loadCoins(),n=e.loadDict(Dictionary_1$1.Dictionary.Keys.Uint(32),Dictionary_1$1.Dictionary.Values.BigVarUint(5));return n.size===0?{coins:r}:{other:n,coins:r}}CurrencyCollection.loadCurrencyCollection=loadCurrencyCollection;function storeCurrencyCollection(e){return r=>{r.storeCoins(e.coins),e.other?r.storeDict(e.other):r.storeBit(0)}}CurrencyCollection.storeCurrencyCollection=storeCurrencyCollection;Object.defineProperty(AccountStorage,"__esModule",{value:!0});AccountStorage.storeAccountStorage=AccountStorage.loadAccountStorage=void 0;const AccountState_1=AccountState,CurrencyCollection_1$5=CurrencyCollection;function loadAccountStorage(e){return{lastTransLt:e.loadUintBig(64),balance:(0,CurrencyCollection_1$5.loadCurrencyCollection)(e),state:(0,AccountState_1.loadAccountState)(e)}}AccountStorage.loadAccountStorage=loadAccountStorage;function storeAccountStorage(e){return r=>{r.storeUint(e.lastTransLt,64),r.store((0,CurrencyCollection_1$5.storeCurrencyCollection)(e.balance)),r.store((0,AccountState_1.storeAccountState)(e.state))}}AccountStorage.storeAccountStorage=storeAccountStorage;var StorageInto={},StorageUsed={};Object.defineProperty(StorageUsed,"__esModule",{value:!0});StorageUsed.storeStorageUsed=StorageUsed.loadStorageUsed=void 0;function loadStorageUsed(e){return{cells:e.loadVarUintBig(3),bits:e.loadVarUintBig(3),publicCells:e.loadVarUintBig(3)}}StorageUsed.loadStorageUsed=loadStorageUsed;function storeStorageUsed(e){return r=>{r.storeVarUint(e.cells,3),r.storeVarUint(e.bits,3),r.storeVarUint(e.publicCells,3)}}StorageUsed.storeStorageUsed=storeStorageUsed;Object.defineProperty(StorageInto,"__esModule",{value:!0});StorageInto.storeStorageInfo=StorageInto.loadStorageInfo=void 0;const StorageUsed_1=StorageUsed;function loadStorageInfo(e){return{used:(0,StorageUsed_1.loadStorageUsed)(e),lastPaid:e.loadUint(32),duePayment:e.loadMaybeCoins()}}StorageInto.loadStorageInfo=loadStorageInfo;function storeStorageInfo(e){return r=>{r.store((0,StorageUsed_1.storeStorageUsed)(e.used)),r.storeUint(e.lastPaid,32),r.storeMaybeCoins(e.duePayment)}}StorageInto.storeStorageInfo=storeStorageInfo;Object.defineProperty(Account,"__esModule",{value:!0});Account.storeAccount=Account.loadAccount=void 0;const AccountStorage_1=AccountStorage,StorageInto_1=StorageInto;function loadAccount(e){return{addr:e.loadAddress(),storageStats:(0,StorageInto_1.loadStorageInfo)(e),storage:(0,AccountStorage_1.loadAccountStorage)(e)}}Account.loadAccount=loadAccount;function storeAccount(e){return r=>{r.storeAddress(e.addr),r.store((0,StorageInto_1.storeStorageInfo)(e.storageStats)),r.store((0,AccountStorage_1.storeAccountStorage)(e.storage))}}Account.storeAccount=storeAccount;var AccountStatus={};Object.defineProperty(AccountStatus,"__esModule",{value:!0});AccountStatus.storeAccountStatus=AccountStatus.loadAccountStatus=void 0;function loadAccountStatus(e){const r=e.loadUint(2);if(r===0)return"uninitialized";if(r===1)return"frozen";if(r===2)return"active";if(r===3)return"non-existing";throw Error("Invalid data")}AccountStatus.loadAccountStatus=loadAccountStatus;function storeAccountStatus(e){return r=>{if(e==="uninitialized")r.storeUint(0,2);else if(e==="frozen")r.storeUint(1,2);else if(e==="active")r.storeUint(2,2);else if(e==="non-existing")r.storeUint(3,2);else throw Error("Invalid data");return r}}AccountStatus.storeAccountStatus=storeAccountStatus;var AccountStatusChange={};Object.defineProperty(AccountStatusChange,"__esModule",{value:!0});AccountStatusChange.storeAccountStatusChange=AccountStatusChange.loadAccountStatusChange=void 0;function loadAccountStatusChange(e){return e.loadBit()?e.loadBit()?"frozen":"deleted":"unchanged"}AccountStatusChange.loadAccountStatusChange=loadAccountStatusChange;function storeAccountStatusChange(e){return r=>{if(e=="unchanged")r.storeBit(0);else if(e==="frozen")r.storeBit(1),r.storeBit(0);else if(e==="deleted")r.storeBit(1),r.storeBit(1);else throw Error("Invalid account status change")}}AccountStatusChange.storeAccountStatusChange=storeAccountStatusChange;var CommonMessageInfo={};Object.defineProperty(CommonMessageInfo,"__esModule",{value:!0});CommonMessageInfo.storeCommonMessageInfo=CommonMessageInfo.loadCommonMessageInfo=void 0;const CurrencyCollection_1$4=CurrencyCollection;function loadCommonMessageInfo(e){if(!e.loadBit()){const s=e.loadBit(),l=e.loadBit(),h=e.loadBit(),v=e.loadAddress(),x=e.loadAddress(),M=(0,CurrencyCollection_1$4.loadCurrencyCollection)(e),P=e.loadCoins(),j=e.loadCoins(),V=e.loadUintBig(64),ee=e.loadUint(32);return{type:"internal",ihrDisabled:s,bounce:l,bounced:h,src:v,dest:x,value:M,ihrFee:P,forwardFee:j,createdLt:V,createdAt:ee}}if(!e.loadBit()){const s=e.loadMaybeExternalAddress(),l=e.loadAddress(),h=e.loadCoins();return{type:"external-in",src:s,dest:l,importFee:h}}const r=e.loadAddress(),n=e.loadMaybeExternalAddress(),o=e.loadUintBig(64),a=e.loadUint(32);return{type:"external-out",src:r,dest:n,createdLt:o,createdAt:a}}CommonMessageInfo.loadCommonMessageInfo=loadCommonMessageInfo;function storeCommonMessageInfo(e){return r=>{if(e.type==="internal")r.storeBit(0),r.storeBit(e.ihrDisabled),r.storeBit(e.bounce),r.storeBit(e.bounced),r.storeAddress(e.src),r.storeAddress(e.dest),r.store((0,CurrencyCollection_1$4.storeCurrencyCollection)(e.value)),r.storeCoins(e.ihrFee),r.storeCoins(e.forwardFee),r.storeUint(e.createdLt,64),r.storeUint(e.createdAt,32);else if(e.type==="external-in")r.storeBit(1),r.storeBit(0),r.storeAddress(e.src),r.storeAddress(e.dest),r.storeCoins(e.importFee);else if(e.type==="external-out")r.storeBit(1),r.storeBit(1),r.storeAddress(e.src),r.storeAddress(e.dest),r.storeUint(e.createdLt,64),r.storeUint(e.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}CommonMessageInfo.storeCommonMessageInfo=storeCommonMessageInfo;var CommonMessageInfoRelaxed={};Object.defineProperty(CommonMessageInfoRelaxed,"__esModule",{value:!0});CommonMessageInfoRelaxed.storeCommonMessageInfoRelaxed=CommonMessageInfoRelaxed.loadCommonMessageInfoRelaxed=void 0;const CurrencyCollection_1$3=CurrencyCollection;function loadCommonMessageInfoRelaxed(e){if(!e.loadBit()){const s=e.loadBit(),l=e.loadBit(),h=e.loadBit(),v=e.loadMaybeAddress(),x=e.loadAddress(),M=(0,CurrencyCollection_1$3.loadCurrencyCollection)(e),P=e.loadCoins(),j=e.loadCoins(),V=e.loadUintBig(64),ee=e.loadUint(32);return{type:"internal",ihrDisabled:s,bounce:l,bounced:h,src:v,dest:x,value:M,ihrFee:P,forwardFee:j,createdLt:V,createdAt:ee}}if(!e.loadBit())throw Error("External In message is not possible for CommonMessageInfoRelaxed");const r=e.loadMaybeAddress(),n=e.loadMaybeExternalAddress(),o=e.loadUintBig(64),a=e.loadUint(32);return{type:"external-out",src:r,dest:n,createdLt:o,createdAt:a}}CommonMessageInfoRelaxed.loadCommonMessageInfoRelaxed=loadCommonMessageInfoRelaxed;function storeCommonMessageInfoRelaxed(e){return r=>{if(e.type==="internal")r.storeBit(0),r.storeBit(e.ihrDisabled),r.storeBit(e.bounce),r.storeBit(e.bounced),r.storeAddress(e.src),r.storeAddress(e.dest),r.store((0,CurrencyCollection_1$3.storeCurrencyCollection)(e.value)),r.storeCoins(e.ihrFee),r.storeCoins(e.forwardFee),r.storeUint(e.createdLt,64),r.storeUint(e.createdAt,32);else if(e.type==="external-out")r.storeBit(1),r.storeBit(1),r.storeAddress(e.src),r.storeAddress(e.dest),r.storeUint(e.createdLt,64),r.storeUint(e.createdAt,32);else throw new Error("Unknown CommonMessageInfo type")}}CommonMessageInfoRelaxed.storeCommonMessageInfoRelaxed=storeCommonMessageInfoRelaxed;var ComputeSkipReason={};Object.defineProperty(ComputeSkipReason,"__esModule",{value:!0});ComputeSkipReason.storeComputeSkipReason=ComputeSkipReason.loadComputeSkipReason=void 0;function loadComputeSkipReason(e){let r=e.loadUint(2);if(r===0)return"no-state";if(r===1)return"bad-state";if(r===2)return"no-gas";throw new Error(`Unknown ComputeSkipReason: ${r}`)}ComputeSkipReason.loadComputeSkipReason=loadComputeSkipReason;function storeComputeSkipReason(e){return r=>{if(e==="no-state")r.storeUint(0,2);else if(e==="bad-state")r.storeUint(1,2);else if(e==="no-gas")r.storeUint(2,2);else throw new Error(`Unknown ComputeSkipReason: ${e}`)}}ComputeSkipReason.storeComputeSkipReason=storeComputeSkipReason;var DepthBalanceInfo={};Object.defineProperty(DepthBalanceInfo,"__esModule",{value:!0});DepthBalanceInfo.storeDepthBalanceInfo=DepthBalanceInfo.loadDepthBalanceInfo=void 0;const CurrencyCollection_1$2=CurrencyCollection;function loadDepthBalanceInfo(e){return{splitDepth:e.loadUint(5),balance:(0,CurrencyCollection_1$2.loadCurrencyCollection)(e)}}DepthBalanceInfo.loadDepthBalanceInfo=loadDepthBalanceInfo;function storeDepthBalanceInfo(e){return r=>{r.storeUint(e.splitDepth,5),r.store((0,CurrencyCollection_1$2.storeCurrencyCollection)(e.balance))}}DepthBalanceInfo.storeDepthBalanceInfo=storeDepthBalanceInfo;var HashUpdate={};Object.defineProperty(HashUpdate,"__esModule",{value:!0});HashUpdate.storeHashUpdate=HashUpdate.loadHashUpdate=void 0;function loadHashUpdate(e){if(e.loadUint(8)!==114)throw Error("Invalid data");const r=e.loadBuffer(32),n=e.loadBuffer(32);return{oldHash:r,newHash:n}}HashUpdate.loadHashUpdate=loadHashUpdate;function storeHashUpdate(e){return r=>{r.storeUint(114,8),r.storeBuffer(e.oldHash),r.storeBuffer(e.newHash)}}HashUpdate.storeHashUpdate=storeHashUpdate;var MasterchainStateExtra={};Object.defineProperty(MasterchainStateExtra,"__esModule",{value:!0});MasterchainStateExtra.loadMasterchainStateExtra=void 0;const Dictionary_1=requireDictionary(),CurrencyCollection_1$1=CurrencyCollection;function loadMasterchainStateExtra(e){if(e.loadUint(16)!==52262)throw Error("Invalid data");e.loadBit()&&e.loadRef();let r=e.loadUintBig(256),n=Dictionary_1.Dictionary.load(Dictionary_1.Dictionary.Keys.Int(32),Dictionary_1.Dictionary.Values.Cell(),e);const o=(0,CurrencyCollection_1$1.loadCurrencyCollection)(e);return{config:n,configAddress:r,globalBalance:o}}MasterchainStateExtra.loadMasterchainStateExtra=loadMasterchainStateExtra;var Message={};Object.defineProperty(Message,"__esModule",{value:!0});Message.MessageValue=Message.storeMessage=Message.loadMessage=void 0;const Builder_1$3=requireBuilder(),CommonMessageInfo_1=CommonMessageInfo,StateInit_1$1=StateInit;function loadMessage(e){const r=(0,CommonMessageInfo_1.loadCommonMessageInfo)(e);let n=null;e.loadBit()&&(e.loadBit()?n=(0,StateInit_1$1.loadStateInit)(e.loadRef().beginParse()):n=(0,StateInit_1$1.loadStateInit)(e));const o=e.loadBit()?e.loadRef():e.asCell();return{info:r,init:n,body:o}}Message.loadMessage=loadMessage;function storeMessage(e,r){return n=>{if(n.store((0,CommonMessageInfo_1.storeCommonMessageInfo)(e.info)),e.init){n.storeBit(!0);let a=(0,Builder_1$3.beginCell)().store((0,StateInit_1$1.storeStateInit)(e.init)),s=!1;r&&r.forceRef?s=!0:n.availableBits-2>=a.bits?s=!1:s=!0,s?(n.storeBit(!0),n.storeRef(a)):(n.storeBit(!1),n.storeBuilder(a))}else n.storeBit(!1);let o=!1;r&&r.forceRef?o=!0:n.availableBits-1>=e.body.bits.length&&n.refs+e.body.refs.length<=4?o=!1:o=!0,o?(n.storeBit(!0),n.storeRef(e.body)):(n.storeBit(!1),n.storeBuilder(e.body.asBuilder()))}}Message.storeMessage=storeMessage;Message.MessageValue={serialize(e,r){r.storeRef((0,Builder_1$3.beginCell)().store(storeMessage(e)))},parse(e){return loadMessage(e.loadRef().beginParse())}};var MessageRelaxed={};Object.defineProperty(MessageRelaxed,"__esModule",{value:!0});MessageRelaxed.storeMessageRelaxed=MessageRelaxed.loadMessageRelaxed=void 0;const Builder_1$2=requireBuilder(),CommonMessageInfoRelaxed_1=CommonMessageInfoRelaxed,StateInit_1=StateInit;function loadMessageRelaxed(e){const r=(0,CommonMessageInfoRelaxed_1.loadCommonMessageInfoRelaxed)(e);let n=null;e.loadBit()&&(e.loadBit()?n=(0,StateInit_1.loadStateInit)(e.loadRef().beginParse()):n=(0,StateInit_1.loadStateInit)(e));const o=e.loadBit()?e.loadRef():e.asCell();return{info:r,init:n,body:o}}MessageRelaxed.loadMessageRelaxed=loadMessageRelaxed;function storeMessageRelaxed(e,r){return n=>{if(n.store((0,CommonMessageInfoRelaxed_1.storeCommonMessageInfoRelaxed)(e.info)),e.init){n.storeBit(!0);let a=(0,Builder_1$2.beginCell)().store((0,StateInit_1.storeStateInit)(e.init)),s=!1;r&&r.forceRef?s=!0:n.availableBits-2>=a.bits?s=!1:s=!0,s?(n.storeBit(!0),n.storeRef(a)):(n.storeBit(!1),n.storeBuilder(a))}else n.storeBit(!1);let o=!1;r&&r.forceRef?o=!0:n.availableBits-1>=e.body.bits.length&&n.refs+e.body.refs.length<=4?o=!1:o=!0,o?(n.storeBit(!0),n.storeRef(e.body)):(n.storeBit(!1),n.storeBuilder(e.body.asBuilder()))}}MessageRelaxed.storeMessageRelaxed=storeMessageRelaxed;var SendMode={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SendMode=void 0,function(r){r[r.CARRY_ALL_REMAINING_BALANCE=128]="CARRY_ALL_REMAINING_BALANCE",r[r.CARRY_ALL_REMAINING_INCOMING_VALUE=64]="CARRY_ALL_REMAINING_INCOMING_VALUE",r[r.DESTROY_ACCOUNT_IF_ZERO=32]="DESTROY_ACCOUNT_IF_ZERO",r[r.PAY_GAS_SEPARATELY=1]="PAY_GAS_SEPARATELY",r[r.IGNORE_ERRORS=2]="IGNORE_ERRORS",r[r.NONE=0]="NONE"}(e.SendMode||(e.SendMode={}))})(SendMode);var ShardAccount={};Object.defineProperty(ShardAccount,"__esModule",{value:!0});ShardAccount.storeShardAccount=ShardAccount.loadShardAccount=void 0;const Builder_1$1=requireBuilder(),Account_1=Account;function loadShardAccount(e){let r=e.loadRef(),n;if(!r.isExotic){let o=r.beginParse();o.loadBit()&&(n=(0,Account_1.loadAccount)(o))}return{account:n,lastTransactionHash:e.loadUintBig(256),lastTransactionLt:e.loadUintBig(64)}}ShardAccount.loadShardAccount=loadShardAccount;function storeShardAccount(e){return r=>{e.account?r.storeRef((0,Builder_1$1.beginCell)().storeBit(!0).store((0,Account_1.storeAccount)(e.account))):r.storeRef((0,Builder_1$1.beginCell)().storeBit(!1)),r.storeUint(e.lastTransactionHash,256),r.storeUint(e.lastTransactionLt,64)}}ShardAccount.storeShardAccount=storeShardAccount;var ShardAccounts={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.storeShardAccounts=e.loadShardAccounts=e.ShardAccountRefValue=void 0;const r=requireDictionary(),n=DepthBalanceInfo,o=ShardAccount;e.ShardAccountRefValue={parse:l=>{let h=(0,n.loadDepthBalanceInfo)(l),v=(0,o.loadShardAccount)(l);return{depthBalanceInfo:h,shardAccount:v}},serialize(l,h){h.store((0,n.storeDepthBalanceInfo)(l.depthBalanceInfo)),h.store((0,o.storeShardAccount)(l.shardAccount))}};function a(l){return r.Dictionary.load(r.Dictionary.Keys.BigUint(256),e.ShardAccountRefValue,l)}e.loadShardAccounts=a;function s(l){return h=>{h.storeDict(l)}}e.storeShardAccounts=s})(ShardAccounts);var ShardIdent={};Object.defineProperty(ShardIdent,"__esModule",{value:!0});ShardIdent.storeShardIdent=ShardIdent.loadShardIdent=void 0;function loadShardIdent(e){if(e.loadUint(2)!==0)throw Error("Invalid data");return{shardPrefixBits:e.loadUint(6),workchainId:e.loadInt(32),shardPrefix:e.loadUintBig(64)}}ShardIdent.loadShardIdent=loadShardIdent;function storeShardIdent(e){return r=>{r.storeUint(0,2),r.storeUint(e.shardPrefixBits,6),r.storeInt(e.workchainId,32),r.storeUint(e.shardPrefix,64)}}ShardIdent.storeShardIdent=storeShardIdent;var ShardStateUnsplit={};Object.defineProperty(ShardStateUnsplit,"__esModule",{value:!0});ShardStateUnsplit.loadShardStateUnsplit=void 0;const MasterchainStateExtra_1=MasterchainStateExtra,ShardAccounts_1=ShardAccounts,ShardIdent_1=ShardIdent;function loadShardStateUnsplit(e){if(e.loadUint(32)!==2418257890)throw Error("Invalid data");let r=e.loadInt(32),n=(0,ShardIdent_1.loadShardIdent)(e),o=e.loadUint(32),a=e.loadUint(32),s=e.loadUint(32),l=e.loadUintBig(64),h=e.loadUint(32);e.loadRef();let v=e.loadBit(),x=e.loadRef(),M;x.isExotic||(M=(0,ShardAccounts_1.loadShardAccounts)(x.beginParse())),e.loadRef();let P=e.loadBit(),j=null;if(P){let V=e.loadRef();V.isExotic||(j=(0,MasterchainStateExtra_1.loadMasterchainStateExtra)(V.beginParse()))}return{globalId:r,shardId:n,seqno:o,vertSeqNo:a,genUtime:s,genLt:l,minRefMcSeqno:h,beforeSplit:v,accounts:M,extras:j}}ShardStateUnsplit.loadShardStateUnsplit=loadShardStateUnsplit;var SplitMergeInfo={};Object.defineProperty(SplitMergeInfo,"__esModule",{value:!0});SplitMergeInfo.storeSplitMergeInfo=SplitMergeInfo.loadSplitMergeInfo=void 0;function loadSplitMergeInfo(e){let r=e.loadUint(6),n=e.loadUint(6),o=e.loadUintBig(256),a=e.loadUintBig(256);return{currentShardPrefixLength:r,accountSplitDepth:n,thisAddress:o,siblingAddress:a}}SplitMergeInfo.loadSplitMergeInfo=loadSplitMergeInfo;function storeSplitMergeInfo(e){return r=>{r.storeUint(e.currentShardPrefixLength,6),r.storeUint(e.accountSplitDepth,6),r.storeUint(e.thisAddress,256),r.storeUint(e.siblingAddress,256)}}SplitMergeInfo.storeSplitMergeInfo=storeSplitMergeInfo;var StorageUsedShort={};Object.defineProperty(StorageUsedShort,"__esModule",{value:!0});StorageUsedShort.storeStorageUsedShort=StorageUsedShort.loadStorageUsedShort=void 0;function loadStorageUsedShort(e){let r=e.loadVarUintBig(3),n=e.loadVarUintBig(3);return{cells:r,bits:n}}StorageUsedShort.loadStorageUsedShort=loadStorageUsedShort;function storeStorageUsedShort(e){return r=>{r.storeVarUint(e.cells,3),r.storeVarUint(e.bits,3)}}StorageUsedShort.storeStorageUsedShort=storeStorageUsedShort;var Transaction={},TransactionDescription={},TransactionActionPhase={};Object.defineProperty(TransactionActionPhase,"__esModule",{value:!0});TransactionActionPhase.storeTransactionActionPhase=TransactionActionPhase.loadTransactionActionPhase=void 0;const AccountStatusChange_1$1=AccountStatusChange,StorageUsedShort_1$1=StorageUsedShort;function loadTransactionActionPhase(e){let r=e.loadBit(),n=e.loadBit(),o=e.loadBit(),a=(0,AccountStatusChange_1$1.loadAccountStatusChange)(e),s=e.loadBit()?e.loadCoins():void 0,l=e.loadBit()?e.loadCoins():void 0,h=e.loadInt(32),v=e.loadBit()?e.loadInt(32):void 0,x=e.loadUint(16),M=e.loadUint(16),P=e.loadUint(16),j=e.loadUint(16),V=e.loadUintBig(256),ee=(0,StorageUsedShort_1$1.loadStorageUsedShort)(e);return{success:r,valid:n,noFunds:o,statusChange:a,totalFwdFees:s,totalActionFees:l,resultCode:h,resultArg:v,totalActions:x,specActions:M,skippedActions:P,messagesCreated:j,actionListHash:V,totalMessageSize:ee}}TransactionActionPhase.loadTransactionActionPhase=loadTransactionActionPhase;function storeTransactionActionPhase(e){return r=>{r.storeBit(e.success),r.storeBit(e.valid),r.storeBit(e.noFunds),r.store((0,AccountStatusChange_1$1.storeAccountStatusChange)(e.statusChange)),r.storeMaybeCoins(e.totalFwdFees),r.storeMaybeCoins(e.totalActionFees),r.storeInt(e.resultCode,32),r.storeMaybeInt(e.resultArg,32),r.storeUint(e.totalActions,16),r.storeUint(e.specActions,16),r.storeUint(e.skippedActions,16),r.storeUint(e.messagesCreated,16),r.storeUint(e.actionListHash,256),r.store((0,StorageUsedShort_1$1.storeStorageUsedShort)(e.totalMessageSize))}}TransactionActionPhase.storeTransactionActionPhase=storeTransactionActionPhase;var TransactionBouncePhase={};Object.defineProperty(TransactionBouncePhase,"__esModule",{value:!0});TransactionBouncePhase.storeTransactionBouncePhase=TransactionBouncePhase.loadTransactionBouncePhase=void 0;const StorageUsedShort_1=StorageUsedShort;function loadTransactionBouncePhase(e){if(e.loadBit()){let r=(0,StorageUsedShort_1.loadStorageUsedShort)(e),n=e.loadCoins(),o=e.loadCoins();return{type:"ok",messageSize:r,messageFees:n,forwardFees:o}}if(e.loadBit()){let r=(0,StorageUsedShort_1.loadStorageUsedShort)(e),n=e.loadCoins();return{type:"no-funds",messageSize:r,requiredForwardFees:n}}return{type:"negative-funds"}}TransactionBouncePhase.loadTransactionBouncePhase=loadTransactionBouncePhase;function storeTransactionBouncePhase(e){return r=>{if(e.type==="ok")r.storeBit(!0),r.store((0,StorageUsedShort_1.storeStorageUsedShort)(e.messageSize)),r.storeCoins(e.messageFees),r.storeCoins(e.forwardFees);else if(e.type==="negative-funds")r.storeBit(!1),r.storeBit(!1);else if(e.type==="no-funds")r.storeBit(!1),r.storeBit(!0),r.store((0,StorageUsedShort_1.storeStorageUsedShort)(e.messageSize)),r.storeCoins(e.requiredForwardFees);else throw new Error("Invalid TransactionBouncePhase type")}}TransactionBouncePhase.storeTransactionBouncePhase=storeTransactionBouncePhase;var TransactionComputePhase={};Object.defineProperty(TransactionComputePhase,"__esModule",{value:!0});TransactionComputePhase.storeTransactionComputePhase=TransactionComputePhase.loadTransactionComputePhase=void 0;const Builder_1=requireBuilder(),ComputeSkipReason_1=ComputeSkipReason;function loadTransactionComputePhase(e){if(!e.loadBit())return{type:"skipped",reason:(0,ComputeSkipReason_1.loadComputeSkipReason)(e)};let r=e.loadBit(),n=e.loadBit(),o=e.loadBit(),a=e.loadCoins();const s=e.loadRef().beginParse();let l=s.loadVarUintBig(3),h=s.loadVarUintBig(3),v=s.loadBit()?s.loadVarUintBig(2):void 0,x=s.loadUint(8),M=s.loadUint(32),P=s.loadBit()?s.loadInt(32):void 0,j=s.loadUint(32),V=s.loadUintBig(256),ee=s.loadUintBig(256);return{type:"vm",success:r,messageStateUsed:n,accountActivated:o,gasFees:a,gasUsed:l,gasLimit:h,gasCredit:v,mode:x,exitCode:M,exitArg:P,vmSteps:j,vmInitStateHash:V,vmFinalStateHash:ee}}TransactionComputePhase.loadTransactionComputePhase=loadTransactionComputePhase;function storeTransactionComputePhase(e){return r=>{if(e.type==="skipped"){r.storeBit(0),r.store((0,ComputeSkipReason_1.storeComputeSkipReason)(e.reason));return}r.storeBit(1),r.storeBit(e.success),r.storeBit(e.messageStateUsed),r.storeBit(e.accountActivated),r.storeCoins(e.gasFees),r.storeRef((0,Builder_1.beginCell)().storeVarUint(e.gasUsed,3).storeVarUint(e.gasLimit,3).store(n=>e.gasCredit!==void 0&&e.gasCredit!==null?n.storeBit(1).storeVarUint(e.gasCredit,2):n.storeBit(0)).storeUint(e.mode,8).storeUint(e.exitCode,32).store(n=>e.exitArg!==void 0&&e.exitArg!==null?n.storeBit(1).storeInt(e.exitArg,32):n.storeBit(0)).storeUint(e.vmSteps,32).storeUint(e.vmInitStateHash,256).storeUint(e.vmFinalStateHash,256).endCell())}}TransactionComputePhase.storeTransactionComputePhase=storeTransactionComputePhase;var TransactionCreditPhase={};Object.defineProperty(TransactionCreditPhase,"__esModule",{value:!0});TransactionCreditPhase.storeTransactionCreditPhase=TransactionCreditPhase.loadTransactionCreditPhase=void 0;const CurrencyCollection_1=CurrencyCollection;function loadTransactionCreditPhase(e){const r=e.loadBit()?e.loadCoins():void 0,n=(0,CurrencyCollection_1.loadCurrencyCollection)(e);return{dueFeesColelcted:r,credit:n}}TransactionCreditPhase.loadTransactionCreditPhase=loadTransactionCreditPhase;function storeTransactionCreditPhase(e){return r=>{e.dueFeesColelcted===null||e.dueFeesColelcted===void 0?r.storeBit(!1):(r.storeBit(!0),r.storeCoins(e.dueFeesColelcted)),r.store((0,CurrencyCollection_1.storeCurrencyCollection)(e.credit))}}TransactionCreditPhase.storeTransactionCreditPhase=storeTransactionCreditPhase;var TransactionStoragePhase={};Object.defineProperty(TransactionStoragePhase,"__esModule",{value:!0});TransactionStoragePhase.storeTransactionsStoragePhase=TransactionStoragePhase.loadTransactionStoragePhase=void 0;const AccountStatusChange_1=AccountStatusChange;function loadTransactionStoragePhase(e){const r=e.loadCoins();let n;e.loadBit()&&(n=e.loadCoins());const o=(0,AccountStatusChange_1.loadAccountStatusChange)(e);return{storageFeesCollected:r,storageFeesDue:n,statusChange:o}}TransactionStoragePhase.loadTransactionStoragePhase=loadTransactionStoragePhase;function storeTransactionsStoragePhase(e){return r=>{r.storeCoins(e.storageFeesCollected),e.storageFeesDue===null||e.storageFeesDue===void 0?r.storeBit(!1):(r.storeBit(!0),r.storeCoins(e.storageFeesDue)),r.store((0,AccountStatusChange_1.storeAccountStatusChange)(e.statusChange))}}TransactionStoragePhase.storeTransactionsStoragePhase=storeTransactionsStoragePhase;var hasRequiredTransactionDescription;function requireTransactionDescription(){if(hasRequiredTransactionDescription)return TransactionDescription;hasRequiredTransactionDescription=1,Object.defineProperty(TransactionDescription,"__esModule",{value:!0}),TransactionDescription.storeTransactionDescription=TransactionDescription.loadTransactionDescription=void 0;const e=requireBuilder(),r=SplitMergeInfo,n=requireTransaction(),o=TransactionActionPhase,a=TransactionBouncePhase,s=TransactionComputePhase,l=TransactionCreditPhase,h=TransactionStoragePhase;function v(M){let P=M.loadUint(4);if(P===0){const j=M.loadBit();let V;M.loadBit()&&(V=(0,h.loadTransactionStoragePhase)(M));let ee;M.loadBit()&&(ee=(0,l.loadTransactionCreditPhase)(M));let se=(0,s.loadTransactionComputePhase)(M),Q;M.loadBit()&&(Q=(0,o.loadTransactionActionPhase)(M.loadRef().beginParse()));let $e=M.loadBit(),Ie;M.loadBit()&&(Ie=(0,a.loadTransactionBouncePhase)(M));const ye=M.loadBit();return{type:"generic",creditFirst:j,storagePhase:V,creditPhase:ee,computePhase:se,actionPhase:Q,bouncePhase:Ie,aborted:$e,destroyed:ye}}if(P===1)return{type:"storage",storagePhase:(0,h.loadTransactionStoragePhase)(M)};if(P===2||P===3){const j=P===3;let V=(0,h.loadTransactionStoragePhase)(M),ee=(0,s.loadTransactionComputePhase)(M),se;M.loadBit()&&(se=(0,o.loadTransactionActionPhase)(M.loadRef().beginParse()));const Q=M.loadBit(),$e=M.loadBit();return{type:"tick-tock",isTock:j,storagePhase:V,computePhase:ee,actionPhase:se,aborted:Q,destroyed:$e}}if(P===4){let j=(0,r.loadSplitMergeInfo)(M),V;M.loadBit()&&(V=(0,h.loadTransactionStoragePhase)(M));let ee=(0,s.loadTransactionComputePhase)(M),se;M.loadBit()&&(se=(0,o.loadTransactionActionPhase)(M.loadRef().beginParse()));const Q=M.loadBit(),$e=M.loadBit();return{type:"split-prepare",splitInfo:j,storagePhase:V,computePhase:ee,actionPhase:se,aborted:Q,destroyed:$e}}if(P===5){let j=(0,r.loadSplitMergeInfo)(M),V=(0,n.loadTransaction)(M.loadRef().beginParse());const ee=M.loadBit();return{type:"split-install",splitInfo:j,prepareTransaction:V,installed:ee}}throw Error(`Unsupported transaction description type ${P}`)}TransactionDescription.loadTransactionDescription=v;function x(M){return P=>{if(M.type==="generic")P.storeUint(0,4),P.storeBit(M.creditFirst),M.storagePhase?(P.storeBit(!0),P.store((0,h.storeTransactionsStoragePhase)(M.storagePhase))):P.storeBit(!1),M.creditPhase?(P.storeBit(!0),P.store((0,l.storeTransactionCreditPhase)(M.creditPhase))):P.storeBit(!1),P.store((0,s.storeTransactionComputePhase)(M.computePhase)),M.actionPhase?(P.storeBit(!0),P.storeRef((0,e.beginCell)().store((0,o.storeTransactionActionPhase)(M.actionPhase)))):P.storeBit(!1),P.storeBit(M.aborted),M.bouncePhase?(P.storeBit(!0),P.store((0,a.storeTransactionBouncePhase)(M.bouncePhase))):P.storeBit(!1),P.storeBit(M.destroyed);else if(M.type==="storage")P.storeUint(1,4),P.store((0,h.storeTransactionsStoragePhase)(M.storagePhase));else if(M.type==="tick-tock")P.storeUint(M.isTock?3:2,4),P.store((0,h.storeTransactionsStoragePhase)(M.storagePhase)),P.store((0,s.storeTransactionComputePhase)(M.computePhase)),M.actionPhase?(P.storeBit(!0),P.storeRef((0,e.beginCell)().store((0,o.storeTransactionActionPhase)(M.actionPhase)))):P.storeBit(!1),P.storeBit(M.aborted),P.storeBit(M.destroyed);else if(M.type==="split-prepare")P.storeUint(4,4),P.store((0,r.storeSplitMergeInfo)(M.splitInfo)),M.storagePhase?(P.storeBit(!0),P.store((0,h.storeTransactionsStoragePhase)(M.storagePhase))):P.storeBit(!1),P.store((0,s.storeTransactionComputePhase)(M.computePhase)),M.actionPhase?(P.storeBit(!0),P.store((0,o.storeTransactionActionPhase)(M.actionPhase))):P.storeBit(!1),P.storeBit(M.aborted),P.storeBit(M.destroyed);else if(M.type==="split-install")P.storeUint(5,4),P.store((0,r.storeSplitMergeInfo)(M.splitInfo)),P.storeRef((0,e.beginCell)().store((0,n.storeTransaction)(M.prepareTransaction))),P.storeBit(M.installed);else throw Error(`Unsupported transaction description type ${M.type}`)}}return TransactionDescription.storeTransactionDescription=x,TransactionDescription}var hasRequiredTransaction;function requireTransaction(){if(hasRequiredTransaction)return Transaction;hasRequiredTransaction=1,Object.defineProperty(Transaction,"__esModule",{value:!0}),Transaction.storeTransaction=Transaction.loadTransaction=void 0;const e=requireBuilder(),r=requireDictionary(),n=AccountStatus,o=CurrencyCollection,a=HashUpdate,s=Message,l=requireTransactionDescription();function h(x){if(x.loadUint(4)!==7)throw Error("Invalid data");let M=x.loadUintBig(256),P=x.loadUintBig(64),j=x.loadUintBig(256),V=x.loadUintBig(64),ee=x.loadUint(32),se=x.loadUint(15),Q=(0,n.loadAccountStatus)(x),$e=(0,n.loadAccountStatus)(x),ye=x.loadRef().beginParse(),G=ye.loadBit()?(0,s.loadMessage)(ye.loadRef().beginParse()):void 0,J=ye.loadDict(r.Dictionary.Keys.Uint(15),s.MessageValue);ye.endParse();let le=(0,o.loadCurrencyCollection)(x),ae=(0,a.loadHashUpdate)(x.loadRef().beginParse()),H=(0,l.loadTransactionDescription)(x.loadRef().beginParse());return{address:M,lt:P,prevTransactionHash:j,prevTransactionLt:V,now:ee,outMessagesCount:se,oldStatus:Q,endStatus:$e,inMessage:G,outMessages:J,totalFees:le,stateUpdate:ae,description:H}}Transaction.loadTransaction=h;function v(x){return M=>{M.storeUint(7,4),M.storeUint(x.address,256),M.storeUint(x.lt,64),M.storeUint(x.prevTransactionHash,256),M.storeUint(x.prevTransactionLt,64),M.storeUint(x.now,32),M.storeUint(x.outMessagesCount,15),M.store((0,n.storeAccountStatus)(x.oldStatus)),M.store((0,n.storeAccountStatus)(x.endStatus));let P=(0,e.beginCell)();x.inMessage?(P.storeBit(!0),P.storeRef((0,e.beginCell)().store((0,s.storeMessage)(x.inMessage)))):P.storeBit(!1),P.storeDict(x.outMessages),M.storeRef(P),M.store((0,o.storeCurrencyCollection)(x.totalFees)),M.storeRef((0,e.beginCell)().store((0,a.storeHashUpdate)(x.stateUpdate))),M.storeRef((0,e.beginCell)().store((0,l.storeTransactionDescription)(x.description)))}}return Transaction.storeTransaction=v,Transaction}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.loadStorageUsedShort=e.storeStorageUsed=e.loadStorageUsed=e.storeStorageInfo=e.loadStorageInfo=e.storeStateInit=e.loadStateInit=e.storeSplitMergeInfo=e.loadSplitMergeInfo=e.storeSimpleLibrary=e.loadSimpleLibrary=e.loadShardStateUnsplit=e.storeShardIdent=e.loadShardIdent=e.storeShardAccounts=e.loadShardAccounts=e.ShardAccountRefValue=e.storeShardAccount=e.loadShardAccount=e.SendMode=e.storeMessageRelaxed=e.loadMessageRelaxed=e.storeMessage=e.loadMessage=e.loadMasterchainStateExtra=e.storeHashUpdate=e.loadHashUpdate=e.storeDepthBalanceInfo=e.loadDepthBalanceInfo=e.storeCurrencyCollection=e.loadCurrencyCollection=e.storeComputeSkipReason=e.loadComputeSkipReason=e.storeCommonMessageInfoRelaxed=e.loadCommonMessageInfoRelaxed=e.storeCommonMessageInfo=e.loadCommonMessageInfo=e.storeAccountStorage=e.loadAccountStorage=e.storeAccountStatusChange=e.loadAccountStatusChange=e.storeAccountStatus=e.loadAccountStatus=e.storeAccountState=e.loadAccountState=e.storeAccount=e.loadAccount=e.comment=e.external=e.internal=void 0,e.storeTransactionsStoragePhase=e.loadTransactionStoragePhase=e.storeTransactionDescription=e.loadTransactionDescription=e.storeTransactionCreditPhase=e.loadTransactionCreditPhase=e.storeTransactionComputePhase=e.loadTransactionComputePhase=e.storeTransactionBouncePhase=e.loadTransactionBouncePhase=e.storeTransactionActionPhase=e.loadTransactionActionPhase=e.storeTransaction=e.loadTransaction=e.storeTickTock=e.loadTickTock=e.storeStorageUsedShort=void 0;var r=_helpers;Object.defineProperty(e,"internal",{enumerable:!0,get:function(){return r.internal}}),Object.defineProperty(e,"external",{enumerable:!0,get:function(){return r.external}}),Object.defineProperty(e,"comment",{enumerable:!0,get:function(){return r.comment}});var n=Account;Object.defineProperty(e,"loadAccount",{enumerable:!0,get:function(){return n.loadAccount}}),Object.defineProperty(e,"storeAccount",{enumerable:!0,get:function(){return n.storeAccount}});var o=AccountState;Object.defineProperty(e,"loadAccountState",{enumerable:!0,get:function(){return o.loadAccountState}}),Object.defineProperty(e,"storeAccountState",{enumerable:!0,get:function(){return o.storeAccountState}});var a=AccountStatus;Object.defineProperty(e,"loadAccountStatus",{enumerable:!0,get:function(){return a.loadAccountStatus}}),Object.defineProperty(e,"storeAccountStatus",{enumerable:!0,get:function(){return a.storeAccountStatus}});var s=AccountStatusChange;Object.defineProperty(e,"loadAccountStatusChange",{enumerable:!0,get:function(){return s.loadAccountStatusChange}}),Object.defineProperty(e,"storeAccountStatusChange",{enumerable:!0,get:function(){return s.storeAccountStatusChange}});var l=AccountStorage;Object.defineProperty(e,"loadAccountStorage",{enumerable:!0,get:function(){return l.loadAccountStorage}}),Object.defineProperty(e,"storeAccountStorage",{enumerable:!0,get:function(){return l.storeAccountStorage}});var h=CommonMessageInfo;Object.defineProperty(e,"loadCommonMessageInfo",{enumerable:!0,get:function(){return h.loadCommonMessageInfo}}),Object.defineProperty(e,"storeCommonMessageInfo",{enumerable:!0,get:function(){return h.storeCommonMessageInfo}});var v=CommonMessageInfoRelaxed;Object.defineProperty(e,"loadCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return v.loadCommonMessageInfoRelaxed}}),Object.defineProperty(e,"storeCommonMessageInfoRelaxed",{enumerable:!0,get:function(){return v.storeCommonMessageInfoRelaxed}});var x=ComputeSkipReason;Object.defineProperty(e,"loadComputeSkipReason",{enumerable:!0,get:function(){return x.loadComputeSkipReason}}),Object.defineProperty(e,"storeComputeSkipReason",{enumerable:!0,get:function(){return x.storeComputeSkipReason}});var M=CurrencyCollection;Object.defineProperty(e,"loadCurrencyCollection",{enumerable:!0,get:function(){return M.loadCurrencyCollection}}),Object.defineProperty(e,"storeCurrencyCollection",{enumerable:!0,get:function(){return M.storeCurrencyCollection}});var P=DepthBalanceInfo;Object.defineProperty(e,"loadDepthBalanceInfo",{enumerable:!0,get:function(){return P.loadDepthBalanceInfo}}),Object.defineProperty(e,"storeDepthBalanceInfo",{enumerable:!0,get:function(){return P.storeDepthBalanceInfo}});var j=HashUpdate;Object.defineProperty(e,"loadHashUpdate",{enumerable:!0,get:function(){return j.loadHashUpdate}}),Object.defineProperty(e,"storeHashUpdate",{enumerable:!0,get:function(){return j.storeHashUpdate}});var V=MasterchainStateExtra;Object.defineProperty(e,"loadMasterchainStateExtra",{enumerable:!0,get:function(){return V.loadMasterchainStateExtra}});var ee=Message;Object.defineProperty(e,"loadMessage",{enumerable:!0,get:function(){return ee.loadMessage}}),Object.defineProperty(e,"storeMessage",{enumerable:!0,get:function(){return ee.storeMessage}});var se=MessageRelaxed;Object.defineProperty(e,"loadMessageRelaxed",{enumerable:!0,get:function(){return se.loadMessageRelaxed}}),Object.defineProperty(e,"storeMessageRelaxed",{enumerable:!0,get:function(){return se.storeMessageRelaxed}});var Q=SendMode;Object.defineProperty(e,"SendMode",{enumerable:!0,get:function(){return Q.SendMode}});var $e=ShardAccount;Object.defineProperty(e,"loadShardAccount",{enumerable:!0,get:function(){return $e.loadShardAccount}}),Object.defineProperty(e,"storeShardAccount",{enumerable:!0,get:function(){return $e.storeShardAccount}});var Ie=ShardAccounts;Object.defineProperty(e,"ShardAccountRefValue",{enumerable:!0,get:function(){return Ie.ShardAccountRefValue}}),Object.defineProperty(e,"loadShardAccounts",{enumerable:!0,get:function(){return Ie.loadShardAccounts}}),Object.defineProperty(e,"storeShardAccounts",{enumerable:!0,get:function(){return Ie.storeShardAccounts}});var ye=ShardIdent;Object.defineProperty(e,"loadShardIdent",{enumerable:!0,get:function(){return ye.loadShardIdent}}),Object.defineProperty(e,"storeShardIdent",{enumerable:!0,get:function(){return ye.storeShardIdent}});var G=ShardStateUnsplit;Object.defineProperty(e,"loadShardStateUnsplit",{enumerable:!0,get:function(){return G.loadShardStateUnsplit}});var J=SimpleLibrary;Object.defineProperty(e,"loadSimpleLibrary",{enumerable:!0,get:function(){return J.loadSimpleLibrary}}),Object.defineProperty(e,"storeSimpleLibrary",{enumerable:!0,get:function(){return J.storeSimpleLibrary}});var le=SplitMergeInfo;Object.defineProperty(e,"loadSplitMergeInfo",{enumerable:!0,get:function(){return le.loadSplitMergeInfo}}),Object.defineProperty(e,"storeSplitMergeInfo",{enumerable:!0,get:function(){return le.storeSplitMergeInfo}});var ae=StateInit;Object.defineProperty(e,"loadStateInit",{enumerable:!0,get:function(){return ae.loadStateInit}}),Object.defineProperty(e,"storeStateInit",{enumerable:!0,get:function(){return ae.storeStateInit}});var H=StorageInto;Object.defineProperty(e,"loadStorageInfo",{enumerable:!0,get:function(){return H.loadStorageInfo}}),Object.defineProperty(e,"storeStorageInfo",{enumerable:!0,get:function(){return H.storeStorageInfo}});var te=StorageUsed;Object.defineProperty(e,"loadStorageUsed",{enumerable:!0,get:function(){return te.loadStorageUsed}}),Object.defineProperty(e,"storeStorageUsed",{enumerable:!0,get:function(){return te.storeStorageUsed}});var E=StorageUsedShort;Object.defineProperty(e,"loadStorageUsedShort",{enumerable:!0,get:function(){return E.loadStorageUsedShort}}),Object.defineProperty(e,"storeStorageUsedShort",{enumerable:!0,get:function(){return E.storeStorageUsedShort}});var u=TickTock;Object.defineProperty(e,"loadTickTock",{enumerable:!0,get:function(){return u.loadTickTock}}),Object.defineProperty(e,"storeTickTock",{enumerable:!0,get:function(){return u.storeTickTock}});var d=requireTransaction();Object.defineProperty(e,"loadTransaction",{enumerable:!0,get:function(){return d.loadTransaction}}),Object.defineProperty(e,"storeTransaction",{enumerable:!0,get:function(){return d.storeTransaction}});var c=TransactionActionPhase;Object.defineProperty(e,"loadTransactionActionPhase",{enumerable:!0,get:function(){return c.loadTransactionActionPhase}}),Object.defineProperty(e,"storeTransactionActionPhase",{enumerable:!0,get:function(){return c.storeTransactionActionPhase}});var g=TransactionBouncePhase;Object.defineProperty(e,"loadTransactionBouncePhase",{enumerable:!0,get:function(){return g.loadTransactionBouncePhase}}),Object.defineProperty(e,"storeTransactionBouncePhase",{enumerable:!0,get:function(){return g.storeTransactionBouncePhase}});var m=TransactionComputePhase;Object.defineProperty(e,"loadTransactionComputePhase",{enumerable:!0,get:function(){return m.loadTransactionComputePhase}}),Object.defineProperty(e,"storeTransactionComputePhase",{enumerable:!0,get:function(){return m.storeTransactionComputePhase}});var w=TransactionCreditPhase;Object.defineProperty(e,"loadTransactionCreditPhase",{enumerable:!0,get:function(){return w.loadTransactionCreditPhase}}),Object.defineProperty(e,"storeTransactionCreditPhase",{enumerable:!0,get:function(){return w.storeTransactionCreditPhase}});var S=requireTransactionDescription();Object.defineProperty(e,"loadTransactionDescription",{enumerable:!0,get:function(){return S.loadTransactionDescription}}),Object.defineProperty(e,"storeTransactionDescription",{enumerable:!0,get:function(){return S.storeTransactionDescription}});var $=TransactionStoragePhase;Object.defineProperty(e,"loadTransactionStoragePhase",{enumerable:!0,get:function(){return $.loadTransactionStoragePhase}}),Object.defineProperty(e,"storeTransactionsStoragePhase",{enumerable:!0,get:function(){return $.storeTransactionsStoragePhase}})})(_export);var openContract$1={};Object.defineProperty(openContract$1,"__esModule",{value:!0});openContract$1.openContract=void 0;const Address_1=Address$1,Cell_1=requireCell();function openContract(e,r){let n,o=null;if(!Address_1.Address.isAddress(e.address))throw Error("Invalid address");if(n=e.address,e.init){if(!(e.init.code instanceof Cell_1.Cell))throw Error("Invalid init.code");if(!(e.init.data instanceof Cell_1.Cell))throw Error("Invalid init.data");o=e.init}let a=r({address:n,init:o});return new Proxy(e,{get(s,l){const h=s[l];return typeof l=="string"&&(l.startsWith("get")||l.startsWith("send"))&&typeof h=="function"?(...v)=>h.apply(s,[a,...v]):h}})}openContract$1.openContract=openContract;var ComputeError$1={};Object.defineProperty(ComputeError$1,"__esModule",{value:!0});ComputeError$1.ComputeError=void 0;class ComputeError extends Error{constructor(r,n,o){super(r),this.exitCode=n,this.debugLogs=o&&o.debugLogs?o.debugLogs:null,this.logs=o&&o.logs?o.logs:null,Object.setPrototypeOf(this,ComputeError.prototype)}}ComputeError$1.ComputeError=ComputeError;var getMethodId$1={};Object.defineProperty(getMethodId$1,"__esModule",{value:!0});getMethodId$1.getMethodId=void 0;const TABLE=new Int16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);function crc16(e){e instanceof Buffer||(e=Buffer.from(e));let r=0;for(let n=0;n<e.length;n++){const o=e[n];r=(TABLE[(r>>8^o)&255]^r<<8)&65535}return r}function getMethodId(e){return crc16(e)&65535|65536}getMethodId$1.getMethodId=getMethodId;var safeSign$1={};Object.defineProperty(safeSign$1,"__esModule",{value:!0});safeSign$1.safeSignVerify=safeSign$1.safeSign=void 0;const ton_crypto_1$3=requireDist(),MIN_SEED_LENGTH=8,MAX_SEED_LENGTH=64;function createSafeSignHash(e,r){let n=Buffer.from(r);if(n.length>MAX_SEED_LENGTH)throw Error("Seed can	 be longer than 64 bytes");if(n.length<MIN_SEED_LENGTH)throw Error("Seed must be at least 8 bytes");return(0,ton_crypto_1$3.sha256_sync)(Buffer.concat([Buffer.from([255,255]),n,e.hash()]))}function safeSign(e,r,n="ton-safe-sign-magic"){return(0,ton_crypto_1$3.sign)(createSafeSignHash(e,n),r)}safeSign$1.safeSign=safeSign;function safeSignVerify(e,r,n,o="ton-safe-sign-magic"){return(0,ton_crypto_1$3.signVerify)(createSafeSignHash(e,o),r,n)}safeSign$1.safeSignVerify=safeSignVerify;(function(e){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,g,m,w){w===void 0&&(w=m);var S=Object.getOwnPropertyDescriptor(g,m);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(c,w,S)}:function(c,g,m,w){w===void 0&&(w=m),c[w]=g[m]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(c,g){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&r(g,c,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.safeSignVerify=e.safeSign=e.getMethodId=e.base32Encode=e.base32Decode=e.crc32c=e.crc16=e.fromNano=e.toNano=e.ComputeError=e.openContract=e.TupleBuilder=e.TupleReader=e.serializeTuple=e.parseTuple=e.exoticPruned=e.exoticMerkleUpdate=e.exoticMerkleProof=e.Dictionary=e.Cell=e.CellType=e.Slice=e.beginCell=e.Builder=e.BitBuilder=e.BitReader=e.BitString=e.contractAddress=e.ADNLAddress=e.ExternalAddress=e.address=e.Address=void 0;var o=Address$1;Object.defineProperty(e,"Address",{enumerable:!0,get:function(){return o.Address}}),Object.defineProperty(e,"address",{enumerable:!0,get:function(){return o.address}});var a=ExternalAddress$1;Object.defineProperty(e,"ExternalAddress",{enumerable:!0,get:function(){return a.ExternalAddress}});var s=ADNLAddress$1;Object.defineProperty(e,"ADNLAddress",{enumerable:!0,get:function(){return s.ADNLAddress}});var l=contractAddress$1;Object.defineProperty(e,"contractAddress",{enumerable:!0,get:function(){return l.contractAddress}});var h=requireBitString();Object.defineProperty(e,"BitString",{enumerable:!0,get:function(){return h.BitString}});var v=BitReader$1;Object.defineProperty(e,"BitReader",{enumerable:!0,get:function(){return v.BitReader}});var x=requireBitBuilder();Object.defineProperty(e,"BitBuilder",{enumerable:!0,get:function(){return x.BitBuilder}});var M=requireBuilder();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return M.Builder}}),Object.defineProperty(e,"beginCell",{enumerable:!0,get:function(){return M.beginCell}});var P=requireSlice();Object.defineProperty(e,"Slice",{enumerable:!0,get:function(){return P.Slice}});var j=CellType;Object.defineProperty(e,"CellType",{enumerable:!0,get:function(){return j.CellType}});var V=requireCell();Object.defineProperty(e,"Cell",{enumerable:!0,get:function(){return V.Cell}});var ee=requireDictionary();Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return ee.Dictionary}});var se=exoticMerkleProof$1;Object.defineProperty(e,"exoticMerkleProof",{enumerable:!0,get:function(){return se.exoticMerkleProof}});var Q=exoticMerkleUpdate$1;Object.defineProperty(e,"exoticMerkleUpdate",{enumerable:!0,get:function(){return Q.exoticMerkleUpdate}});var $e=exoticPruned$1;Object.defineProperty(e,"exoticPruned",{enumerable:!0,get:function(){return $e.exoticPruned}});var Ie=tuple$1;Object.defineProperty(e,"parseTuple",{enumerable:!0,get:function(){return Ie.parseTuple}}),Object.defineProperty(e,"serializeTuple",{enumerable:!0,get:function(){return Ie.serializeTuple}});var ye=reader;Object.defineProperty(e,"TupleReader",{enumerable:!0,get:function(){return ye.TupleReader}});var G=builder;Object.defineProperty(e,"TupleBuilder",{enumerable:!0,get:function(){return G.TupleBuilder}}),n(_export,e);var J=openContract$1;Object.defineProperty(e,"openContract",{enumerable:!0,get:function(){return J.openContract}});var le=ComputeError$1;Object.defineProperty(e,"ComputeError",{enumerable:!0,get:function(){return le.ComputeError}});var ae=convert;Object.defineProperty(e,"toNano",{enumerable:!0,get:function(){return ae.toNano}}),Object.defineProperty(e,"fromNano",{enumerable:!0,get:function(){return ae.fromNano}});var H=crc16$2;Object.defineProperty(e,"crc16",{enumerable:!0,get:function(){return H.crc16}});var te=crc32c$1;Object.defineProperty(e,"crc32c",{enumerable:!0,get:function(){return te.crc32c}});var E=base32;Object.defineProperty(e,"base32Decode",{enumerable:!0,get:function(){return E.base32Decode}}),Object.defineProperty(e,"base32Encode",{enumerable:!0,get:function(){return E.base32Encode}});var u=getMethodId$1;Object.defineProperty(e,"getMethodId",{enumerable:!0,get:function(){return u.getMethodId}});var d=safeSign$1;Object.defineProperty(e,"safeSign",{enumerable:!0,get:function(){return d.safeSign}}),Object.defineProperty(e,"safeSignVerify",{enumerable:!0,get:function(){return d.safeSignVerify}})})(dist$1);var HttpApi$1={};function identity$1(e){return e}function constant(e){return function(){return e}}var constNull=constant(null),constUndefined=constant(void 0);function flow(e,r,n,o,a,s,l,h,v){switch(arguments.length){case 1:return e;case 2:return function(){return r(e.apply(this,arguments))};case 3:return function(){return n(r(e.apply(this,arguments)))};case 4:return function(){return o(n(r(e.apply(this,arguments))))};case 5:return function(){return a(o(n(r(e.apply(this,arguments)))))};case 6:return function(){return s(a(o(n(r(e.apply(this,arguments))))))};case 7:return function(){return l(s(a(o(n(r(e.apply(this,arguments)))))))};case 8:return function(){return h(l(s(a(o(n(r(e.apply(this,arguments))))))))};case 9:return function(){return v(h(l(s(a(o(n(r(e.apply(this,arguments)))))))))}}}function pipe$1(e,r,n,o,a,s,l,h,v){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return n(r(e));case 4:return o(n(r(e)));case 5:return a(o(n(r(e))));case 6:return s(a(o(n(r(e)))));case 7:return l(s(a(o(n(r(e))))));case 8:return h(l(s(a(o(n(r(e)))))));case 9:return v(h(l(s(a(o(n(r(e))))))));default:{for(var x=arguments[0],M=1;M<arguments.length;M++)x=arguments[M](x);return x}}}var SK=function(e,r){return r},__spreadArray$5=globalThis&&globalThis.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,s;o<a;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))},isNone$2=function(e){return e._tag==="None"},isSome$2=function(e){return e._tag==="Some"},none$1={_tag:"None"},some$5=function(e){return{_tag:"Some",value:e}},isLeft$2=function(e){return e._tag==="Left"},isRight$2=function(e){return e._tag==="Right"},left$2=function(e){return{_tag:"Left",left:e}},right$2=function(e){return{_tag:"Right",right:e}},isNonEmpty$6=function(e){return e.length>0},head$5=function(e){return e[0]},tail$4=function(e){return e.slice(1)},emptyReadonlyArray=[],emptyRecord={},has$2=Object.prototype.hasOwnProperty,fromReadonlyNonEmptyArray$2=function(e){return __spreadArray$5([e[0]],e.slice(1),!0)};function apFirst$5(e){return function(r){return function(n){return e.ap(e.map(n,function(o){return function(){return o}}),r)}}}function apSecond$5(e){return function(r){return function(n){return e.ap(e.map(n,function(){return function(o){return o}}),r)}}}function apS$5(e){return function(r,n){return function(o){return e.ap(e.map(o,function(a){return function(s){var l;return Object.assign({},a,(l={},l[r]=s,l))}}),n)}}}function getApplySemigroup$3(e){return function(r){return{concat:function(n,o){return e.ap(e.map(n,function(a){return function(s){return r.concat(a,s)}}),o)}}}}function flap$6(e){return function(r){return function(n){return e.map(n,function(o){return o(r)})}}}function bindTo$5(e){return function(r){return function(n){return e.map(n,function(o){var a;return a={},a[r]=o,a})}}}function let_$5(e){return function(r,n){return function(o){return e.map(o,function(a){var s;return Object.assign({},a,(s={},s[r]=n(a),s))})}}}function getApplicativeMonoid$1(e){var r=getApplySemigroup$3(e);return function(n){return{concat:r(n).concat,empty:e.of(n.empty)}}}function chainFirst$5(e){return function(r){return function(n){return e.chain(n,function(o){return e.map(r(o),function(){return o})})}}}function bind$8(e){return function(r,n){return function(o){return e.chain(o,function(a){return e.map(n(a),function(s){var l;return Object.assign({},a,(l={},l[r]=s,l))})})}}}var tailRec$1=function(e,r){for(var n=r(e);n._tag==="Left";)n=r(n.left);return n.right};function fromOption$3(e){return function(r){return function(n){return e.fromEither(isNone$2(n)?left$2(r()):right$2(n.value))}}}function fromPredicate$4(e){return function(r,n){return function(o){return e.fromEither(r(o)?right$2(o):left$2(n(o)))}}}function fromOptionK$3(e){var r=fromOption$3(e);return function(n){var o=r(n);return function(a){return flow(a,o)}}}function chainOptionK$2(e,r){var n=fromOptionK$3(e);return function(o){var a=n(o);return function(s){return function(l){return r.chain(l,a(s))}}}}function fromEitherK$3(e){return function(r){return flow(r,e.fromEither)}}function chainEitherK$2(e,r){var n=fromEitherK$3(e);return function(o){return function(a){return r.chain(a,n(o))}}}function chainFirstEitherK$2(e,r){return flow(fromEitherK$3(e),chainFirst$5(r))}function filterOrElse$2(e,r){return function(n,o){return function(a){return r.chain(a,function(s){return e.fromEither(n(s)?right$2(s):left$2(o(s)))})}}}var separated=function(e,r){return{left:e,right:r}};function wiltDefault$1(e,r){return function(n){var o=e.traverse(n);return function(a,s){return n.map(o(a,s),r.separate)}}}function witherDefault$1(e,r){return function(n){var o=e.traverse(n);return function(a,s){return n.map(o(a,s),r.compact)}}}function filterE$2(e){return function(r){var n=e.wither(r);return function(o){return function(a){return n(a,function(s){return r.map(o(s),function(l){return l?some$5(s):none$1})})}}}}var left$1=left$2,right$1=right$2,_map$5=function(e,r){return pipe$1(e,map$7(r))},_ap$3=function(e,r){return pipe$1(e,ap$5(r))},_chain$3=function(e,r){return pipe$1(e,chain$4(r))},_reduce$5=function(e,r,n){return pipe$1(e,reduce$8(r,n))},_foldMap$5=function(e){return function(r,n){var o=foldMap$8(e);return pipe$1(r,o(n))}},_reduceRight$5=function(e,r,n){return pipe$1(e,reduceRight$8(r,n))},_traverse$5=function(e){var r=traverse$5(e);return function(n,o){return pipe$1(n,r(o))}},_bimap=function(e,r,n){return pipe$1(e,bimap$1(r,n))},_mapLeft=function(e,r){return pipe$1(e,mapLeft$1(r))},_alt$3=function(e,r){return pipe$1(e,alt$4(r))},_extend$3=function(e,r){return pipe$1(e,extend$5(r))},_chainRec=function(e,r){return tailRec$1(r(e),function(n){return isLeft$1(n)?right$1(left$1(n.left)):isLeft$1(n.right)?left$1(r(n.right.left)):right$1(right$1(n.right.right))})},URI$4="Either",getShow$7=function(e,r){return{show:function(n){return isLeft$1(n)?"left(".concat(e.show(n.left),")"):"right(".concat(r.show(n.right),")")}}},getEq$7=function(e,r){return{equals:function(n,o){return n===o||(isLeft$1(n)?isLeft$1(o)&&e.equals(n.left,o.left):isRight$1(o)&&r.equals(n.right,o.right))}}},getSemigroup$3=function(e){return{concat:function(r,n){return isLeft$1(n)?r:isLeft$1(r)?n:right$1(e.concat(r.right,n.right))}}},getCompactable=function(e){var r=left$1(e.empty);return{URI:URI$4,_E:void 0,compact:function(n){return isLeft$1(n)?n:n.right._tag==="None"?r:right$1(n.right.value)},separate:function(n){return isLeft$1(n)?separated(n,n):isLeft$1(n.right)?separated(right$1(n.right.left),r):separated(r,right$1(n.right.right))}}},getFilterable=function(e){var r=left$1(e.empty),n=getCompactable(e),o=n.compact,a=n.separate,s=function(h,v){return isLeft$1(h)||v(h.right)?h:r},l=function(h,v){return isLeft$1(h)?separated(h,h):v(h.right)?separated(r,right$1(h.right)):separated(right$1(h.right),r)};return{URI:URI$4,_E:void 0,map:_map$5,compact:o,separate:a,filter:s,filterMap:function(h,v){if(isLeft$1(h))return h;var x=v(h.right);return x._tag==="None"?r:right$1(x.value)},partition:l,partitionMap:function(h,v){if(isLeft$1(h))return separated(h,h);var x=v(h.right);return isLeft$1(x)?separated(right$1(x.left),r):separated(r,right$1(x.right))}}},getWitherable$1=function(e){var r=getFilterable(e),n=getCompactable(e);return{URI:URI$4,_E:void 0,map:_map$5,compact:r.compact,separate:r.separate,filter:r.filter,filterMap:r.filterMap,partition:r.partition,partitionMap:r.partitionMap,traverse:_traverse$5,sequence:sequence$5,reduce:_reduce$5,foldMap:_foldMap$5,reduceRight:_reduceRight$5,wither:witherDefault$1(Traversable$4,n),wilt:wiltDefault$1(Traversable$4,n)}},getApplicativeValidation=function(e){return{URI:URI$4,_E:void 0,map:_map$5,ap:function(r,n){return isLeft$1(r)?isLeft$1(n)?left$1(e.concat(r.left,n.left)):r:isLeft$1(n)?n:right$1(r.right(n.right))},of:of$3}},getAltValidation=function(e){return{URI:URI$4,_E:void 0,map:_map$5,alt:function(r,n){if(isRight$1(r))return r;var o=n();return isLeft$1(o)?left$1(e.concat(r.left,o.left)):o}}},map$7=function(e){return function(r){return isLeft$1(r)?r:right$1(e(r.right))}},Functor$5={URI:URI$4,map:_map$5},of$3=right$1,Pointed$3={URI:URI$4,of:of$3},apW=function(e){return function(r){return isLeft$1(r)?r:isLeft$1(e)?e:right$1(r.right(e.right))}},ap$5=apW,Apply$4={URI:URI$4,map:_map$5,ap:_ap$3},Applicative$4={URI:URI$4,map:_map$5,ap:_ap$3,of:of$3},chainW=function(e){return function(r){return isLeft$1(r)?r:e(r.right)}},chain$4=chainW,Chain$4={URI:URI$4,map:_map$5,ap:_ap$3,chain:_chain$3},Monad$3={URI:URI$4,map:_map$5,ap:_ap$3,of:of$3,chain:_chain$3},reduce$8=function(e,r){return function(n){return isLeft$1(n)?e:r(e,n.right)}},foldMap$8=function(e){return function(r){return function(n){return isLeft$1(n)?e.empty:r(n.right)}}},reduceRight$8=function(e,r){return function(n){return isLeft$1(n)?e:r(n.right,e)}},Foldable$4={URI:URI$4,reduce:_reduce$5,foldMap:_foldMap$5,reduceRight:_reduceRight$5},traverse$5=function(e){return function(r){return function(n){return isLeft$1(n)?e.of(left$1(n.left)):e.map(r(n.right),right$1)}}},sequence$5=function(e){return function(r){return isLeft$1(r)?e.of(left$1(r.left)):e.map(r.right,right$1)}},Traversable$4={URI:URI$4,map:_map$5,reduce:_reduce$5,foldMap:_foldMap$5,reduceRight:_reduceRight$5,traverse:_traverse$5,sequence:sequence$5},bimap$1=function(e,r){return function(n){return isLeft$1(n)?left$1(e(n.left)):right$1(r(n.right))}},mapLeft$1=function(e){return function(r){return isLeft$1(r)?left$1(e(r.left)):r}},Bifunctor={URI:URI$4,bimap:_bimap,mapLeft:_mapLeft},altW$3=function(e){return function(r){return isLeft$1(r)?e():r}},alt$4=altW$3,Alt$3={URI:URI$4,map:_map$5,alt:_alt$3},extend$5=function(e){return function(r){return isLeft$1(r)?r:right$1(e(r))}},Extend$2={URI:URI$4,map:_map$5,extend:_extend$3},ChainRec$1={URI:URI$4,map:_map$5,ap:_ap$3,chain:_chain$3,chainRec:_chainRec},throwError$1=left$1,MonadThrow$1={URI:URI$4,map:_map$5,ap:_ap$3,of:of$3,chain:_chain$3,throwError:throwError$1},FromEither$3={URI:URI$4,fromEither:identity$1},fromPredicate$3=fromPredicate$4(FromEither$3),fromOption$2=fromOption$3(FromEither$3),isLeft$1=isLeft$2,isRight$1=isRight$2,matchW$3=function(e,r){return function(n){return isLeft$1(n)?e(n.left):r(n.right)}},foldW$1=matchW$3,match$3=matchW$3,fold$2=match$3,getOrElseW$1=function(e){return function(r){return isLeft$1(r)?e(r.left):r.right}},getOrElse$1=getOrElseW$1,flap$5=flap$6(Functor$5),apFirst$4=apFirst$5(Apply$4),apFirstW=apFirst$4,apSecond$4=apSecond$5(Apply$4),apSecondW=apSecond$4,chainFirst$4=chainFirst$5(Chain$4),chainFirstW=chainFirst$4,flattenW=chainW(identity$1),flatten$3=flattenW,duplicate$3=extend$5(identity$1),fromOptionK$2=fromOptionK$3(FromEither$3),chainOptionK$1=chainOptionK$2(FromEither$3,Chain$4),filterOrElse$1=filterOrElse$2(FromEither$3,Chain$4),filterOrElseW=filterOrElse$1,swap=function(e){return isLeft$1(e)?right$1(e.left):left$1(e.right)},orElseW=function(e){return function(r){return isLeft$1(r)?e(r.left):r}},orElse=orElseW,fromNullable$1=function(e){return function(r){return r==null?left$1(e):right$1(r)}},tryCatch$1=function(e,r){try{return right$1(e())}catch(n){return left$1(r(n))}},tryCatchK$1=function(e,r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return tryCatch$1(function(){return e.apply(void 0,n)},r)}},fromNullableK$1=function(e){var r=fromNullable$1(e);return function(n){return flow(n,r)}},chainNullableK$1=function(e){var r=fromNullableK$1(e);return function(n){return chain$4(r(n))}},toUnion=foldW$1(identity$1,identity$1);function toError(e){return e instanceof Error?e:new Error(String(e))}function elem$5(e){return function(r,n){if(n===void 0){var o=elem$5(e);return function(a){return o(r,a)}}return isLeft$1(n)?!1:e.equals(r,n.right)}}var exists$2=function(e){return function(r){return isLeft$1(r)?!1:e(r.right)}},Do$3=of$3(emptyRecord),bindTo$4=bindTo$5(Functor$5),let_$4=let_$5(Functor$5),bind$7=bind$8(Chain$4),bindW=bind$7,apS$4=apS$5(Apply$4),apSW=apS$4,ApT$1=of$3(emptyReadonlyArray),traverseReadonlyNonEmptyArrayWithIndex$1=function(e){return function(r){var n=e(0,head$5(r));if(isLeft$1(n))return n;for(var o=[n.right],a=1;a<r.length;a++){var s=e(a,r[a]);if(isLeft$1(s))return s;o.push(s.right)}return right$1(o)}},traverseReadonlyArrayWithIndex$1=function(e){var r=traverseReadonlyNonEmptyArrayWithIndex$1(e);return function(n){return isNonEmpty$6(n)?r(n):ApT$1}},traverseArrayWithIndex$1=traverseReadonlyArrayWithIndex$1,traverseArray$1=function(e){return traverseReadonlyArrayWithIndex$1(function(r,n){return e(n)})},sequenceArray$1=traverseArray$1(identity$1);function parseJSON(e,r){return tryCatch$1(function(){return JSON.parse(e)},r)}var stringifyJSON=function(e,r){return tryCatch$1(function(){var n=JSON.stringify(e);if(typeof n!="string")throw new Error("Converting unsupported structure to JSON");return n},r)},either={URI:URI$4,map:_map$5,of:of$3,ap:_ap$3,chain:_chain$3,reduce:_reduce$5,foldMap:_foldMap$5,reduceRight:_reduceRight$5,traverse:_traverse$5,sequence:sequence$5,bimap:_bimap,mapLeft:_mapLeft,alt:_alt$3,extend:_extend$3,chainRec:_chainRec,throwError:throwError$1},getApplySemigroup$2=getApplySemigroup$3(Apply$4),getApplyMonoid$1=getApplicativeMonoid$1(Applicative$4),getValidationSemigroup=function(e,r){return getApplySemigroup$3(getApplicativeValidation(e))(r)},getValidationMonoid=function(e,r){return getApplicativeMonoid$1(getApplicativeValidation(e))(r)};function getValidation(e){var r=getApplicativeValidation(e).ap,n=getAltValidation(e).alt;return{URI:URI$4,_E:void 0,map:_map$5,of:of$3,chain:_chain$3,bimap:_bimap,mapLeft:_mapLeft,reduce:_reduce$5,foldMap:_foldMap$5,reduceRight:_reduceRight$5,extend:_extend$3,traverse:_traverse$5,sequence:sequence$5,chainRec:_chainRec,throwError:throwError$1,ap:r,alt:n}}const Either$1=Object.freeze(Object.defineProperty({__proto__:null,Alt:Alt$3,ApT:ApT$1,Applicative:Applicative$4,Apply:Apply$4,Bifunctor,Chain:Chain$4,ChainRec:ChainRec$1,Do:Do$3,Extend:Extend$2,Foldable:Foldable$4,FromEither:FromEither$3,Functor:Functor$5,Monad:Monad$3,MonadThrow:MonadThrow$1,Pointed:Pointed$3,Traversable:Traversable$4,URI:URI$4,alt:alt$4,altW:altW$3,ap:ap$5,apFirst:apFirst$4,apFirstW,apS:apS$4,apSW,apSecond:apSecond$4,apSecondW,apW,bimap:bimap$1,bind:bind$7,bindTo:bindTo$4,bindW,chain:chain$4,chainFirst:chainFirst$4,chainFirstW,chainNullableK:chainNullableK$1,chainOptionK:chainOptionK$1,chainW,duplicate:duplicate$3,either,elem:elem$5,exists:exists$2,extend:extend$5,filterOrElse:filterOrElse$1,filterOrElseW,flap:flap$5,flatten:flatten$3,flattenW,fold:fold$2,foldMap:foldMap$8,foldW:foldW$1,fromNullable:fromNullable$1,fromNullableK:fromNullableK$1,fromOption:fromOption$2,fromOptionK:fromOptionK$2,fromPredicate:fromPredicate$3,getAltValidation,getApplicativeValidation,getApplyMonoid:getApplyMonoid$1,getApplySemigroup:getApplySemigroup$2,getCompactable,getEq:getEq$7,getFilterable,getOrElse:getOrElse$1,getOrElseW:getOrElseW$1,getSemigroup:getSemigroup$3,getShow:getShow$7,getValidation,getValidationMonoid,getValidationSemigroup,getWitherable:getWitherable$1,isLeft:isLeft$1,isRight:isRight$1,left:left$1,let:let_$4,map:map$7,mapLeft:mapLeft$1,match:match$3,matchW:matchW$3,of:of$3,orElse,orElseW,parseJSON,reduce:reduce$8,reduceRight:reduceRight$8,right:right$1,sequence:sequence$5,sequenceArray:sequenceArray$1,stringifyJSON,swap,throwError:throwError$1,toError,toUnion,traverse:traverse$5,traverseArray:traverseArray$1,traverseArrayWithIndex:traverseArrayWithIndex$1,traverseReadonlyArrayWithIndex:traverseReadonlyArrayWithIndex$1,traverseReadonlyNonEmptyArrayWithIndex:traverseReadonlyNonEmptyArrayWithIndex$1,tryCatch:tryCatch$1,tryCatchK:tryCatchK$1},Symbol.toStringTag,{value:"Module"}));var __extends=globalThis&&globalThis.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},__assign$1.apply(this,arguments)},__spreadArray$4=globalThis&&globalThis.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,s;o<a;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))},failures=left$1,failure=function(e,r,n){return failures([{value:e,context:r,message:n}])},success=right$1,Type=function(){function e(r,n,o,a){this.name=r,this.is=n,this.validate=o,this.encode=a,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(r,n){var o=this;return n===void 0&&(n="pipe(".concat(this.name,", ").concat(r.name,")")),new e(n,r.is,function(a,s){var l=o.validate(a,s);return isLeft$1(l)?l:r.validate(l.right,s)},this.encode===identity&&r.encode===identity?identity:function(a){return o.encode(r.encode(a))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(r){return this.validate(r,[{key:"",type:this,actual:r}])},e}(),identity=function(e){return e};function getFunctionName(e){return e.displayName||e.name||"<function".concat(e.length,">")}function getContextEntry(e,r){return{key:e,type:r}}function appendContext(e,r,n,o){for(var a=e.length,s=Array(a+1),l=0;l<a;l++)s[l]=e[l];return s[a]={key:r,type:n,actual:o},s}function pushAll(e,r){for(var n=r.length,o=0;o<n;o++)e.push(r[o])}var hasOwnProperty$2=Object.prototype.hasOwnProperty;function getNameFromProps(e){return Object.keys(e).map(function(r){return"".concat(r,": ").concat(e[r].name)}).join(", ")}function useIdentity(e){for(var r=0;r<e.length;r++)if(e[r].encode!==identity)return!1;return!0}function getInterfaceTypeName(e){return"{ ".concat(getNameFromProps(e)," }")}function getPartialTypeName(e){return"Partial<".concat(e,">")}function enumerableRecord(e,r,n,o){o===void 0&&(o="{ [K in ".concat(r.name,"]: ").concat(n.name," }"));var a=e.length;return new DictionaryType(o,function(s){return UnknownRecord.is(s)&&e.every(function(l){return n.is(s[l])})},function(s,l){var h=UnknownRecord.validate(s,l);if(isLeft$1(h))return h;for(var v=h.right,x={},M=[],P=!1,j=0;j<a;j++){var V=e[j],ee=v[V],se=n.validate(ee,appendContext(l,V,n,ee));if(isLeft$1(se))pushAll(M,se.left);else{var Q=se.right;P=P||Q!==ee,x[V]=Q}}return M.length>0?failures(M):success(P||Object.keys(v).length!==a?x:v)},n.encode===identity?identity:function(s){for(var l={},h=0;h<a;h++){var v=e[h];l[v]=n.encode(s[v])}return l},r,n)}function getDomainKeys(e){var r;if(isLiteralC(e)){var n=e.value;if(string.is(n))return r={},r[n]=null,r}else{if(isKeyofC(e))return e.keys;if(isUnionC(e)){var o=e.types.map(function(a){return getDomainKeys(a)});return o.some(undefinedType.is)?void 0:Object.assign.apply(Object,__spreadArray$4([{}],o,!1))}}}function nonEnumerableRecord(e,r,n){return n===void 0&&(n="{ [K in ".concat(e.name,"]: ").concat(r.name," }")),new DictionaryType(n,function(o){return UnknownRecord.is(o)?Object.keys(o).every(function(a){return e.is(a)&&r.is(o[a])}):isAnyC(r)&&Array.isArray(o)},function(o,a){if(UnknownRecord.is(o)){for(var s={},l=[],h=Object.keys(o),v=h.length,x=!1,M=0;M<v;M++){var P=h[M],j=o[P],V=e.validate(P,appendContext(a,P,e,P));if(isLeft$1(V))pushAll(l,V.left);else{var ee=V.right;x=x||ee!==P,P=ee;var se=r.validate(j,appendContext(a,P,r,j));if(isLeft$1(se))pushAll(l,se.left);else{var Q=se.right;x=x||Q!==j,s[P]=Q}}}return l.length>0?failures(l):success(x?s:o)}return isAnyC(r)&&Array.isArray(o)?success(o):failure(o,a)},e.encode===identity&&r.encode===identity?identity:function(o){for(var a={},s=Object.keys(o),l=s.length,h=0;h<l;h++){var v=s[h];a[String(e.encode(v))]=r.encode(o[v])}return a},e,r)}function getUnionName(e){return"("+e.map(function(r){return r.name}).join(" | ")+")"}function mergeAll(e,r){for(var n=!0,o=!0,a=!UnknownRecord.is(e),s=0,l=r;s<l.length;s++){var h=l[s];h!==e&&(n=!1),UnknownRecord.is(h)&&(o=!1)}if(n)return e;if(o)return r[r.length-1];for(var v={},x=0,M=r;x<M.length;x++){var h=M[x];for(var P in h)(!hasOwnProperty$2.call(v,P)||a||h[P]!==e[P])&&(v[P]=h[P])}return v}function getProps(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return getProps(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce(function(r,n){return Object.assign(r,getProps(n))},{})}}function stripKeys(e,r){for(var n=Object.getOwnPropertyNames(e),o=!1,a={},s=0;s<n.length;s++){var l=n[s];hasOwnProperty$2.call(r,l)?a[l]=e[l]:o=!0}return o?a:e}function getExactTypeName(e){return isTypeC(e)?"{| ".concat(getNameFromProps(e.props)," |}"):isPartialC(e)?getPartialTypeName("{| ".concat(getNameFromProps(e.props)," |}")):"Exact<".concat(e.name,">")}function isNonEmpty$5(e){return e.length>0}var emptyTags={};function intersect(e,r){for(var n=[],o=0,a=e;o<a.length;o++){var s=a[o];r.indexOf(s)!==-1&&n.push(s)}return n}function mergeTags(e,r){if(e===emptyTags)return r;if(r===emptyTags)return e;var n=Object.assign({},e);for(var o in r)if(hasOwnProperty$2.call(e,o)){var a=intersect(e[o],r[o]);if(isNonEmpty$5(a))n[o]=a;else{n=emptyTags;break}}else n[o]=r[o];return n}function intersectTags(e,r){if(e===emptyTags||r===emptyTags)return emptyTags;var n=emptyTags;for(var o in e)if(hasOwnProperty$2.call(r,o)){var a=intersect(e[o],r[o]);a.length===0&&(n===emptyTags&&(n={}),n[o]=e[o].concat(r[o]))}return n}function isAnyC(e){return e._tag==="AnyType"}function isLiteralC(e){return e._tag==="LiteralType"}function isKeyofC(e){return e._tag==="KeyofType"}function isTypeC(e){return e._tag==="InterfaceType"}function isPartialC(e){return e._tag==="PartialType"}function isStrictC(e){return e._tag==="StrictType"}function isExactC(e){return e._tag==="ExactType"}function isRefinementC(e){return e._tag==="RefinementType"}function isIntersectionC(e){return e._tag==="IntersectionType"}function isUnionC(e){return e._tag==="UnionType"}function isRecursiveC(e){return e._tag==="RecursiveType"}var lazyCodecs=[];function getTags(e){if(lazyCodecs.indexOf(e)!==-1)return emptyTags;if(isTypeC(e)||isStrictC(e)){var r=emptyTags;for(var n in e.props){var o=e.props[n];isLiteralC(o)&&(r===emptyTags&&(r={}),r[n]=[o.value])}return r}else{if(isExactC(e)||isRefinementC(e))return getTags(e.type);if(isIntersectionC(e))return e.types.reduce(function(s,l){return mergeTags(s,getTags(l))},emptyTags);if(isUnionC(e))return e.types.slice(1).reduce(function(s,l){return intersectTags(s,getTags(l))},getTags(e.types[0]));if(isRecursiveC(e)){lazyCodecs.push(e);var a=getTags(e.type);return lazyCodecs.pop(),a}}return emptyTags}function getIndex(e){var r=getTags(e[0]),n=Object.keys(r),o=e.length,a=function(x){for(var M=r[x].slice(),P=[r[x]],j=1;j<o;j++){var V=e[j],ee=getTags(V),se=ee[x];if(se===void 0)return"continue-keys";if(se.some(function(Q){return M.indexOf(Q)!==-1}))return"continue-keys";M.push.apply(M,se),P.push(se)}return{value:[x,P]}};e:for(var s=0,l=n;s<l.length;s++){var h=l[s],v=a(h);if(typeof v=="object")return v.value;switch(v){case"continue-keys":continue e}}}var NullType=function(e){__extends(r,e);function r(){var n=e.call(this,"null",function(o){return o===null},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="NullType",n}return r}(Type),nullType=new NullType,UndefinedType=function(e){__extends(r,e);function r(){var n=e.call(this,"undefined",function(o){return o===void 0},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="UndefinedType",n}return r}(Type),undefinedType=new UndefinedType,VoidType=function(e){__extends(r,e);function r(){var n=e.call(this,"void",undefinedType.is,undefinedType.validate,identity)||this;return n._tag="VoidType",n}return r}(Type),voidType=new VoidType,UnknownType=function(e){__extends(r,e);function r(){var n=e.call(this,"unknown",function(o){return!0},success,identity)||this;return n._tag="UnknownType",n}return r}(Type),unknown=new UnknownType,StringType=function(e){__extends(r,e);function r(){var n=e.call(this,"string",function(o){return typeof o=="string"},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="StringType",n}return r}(Type),string=new StringType,NumberType=function(e){__extends(r,e);function r(){var n=e.call(this,"number",function(o){return typeof o=="number"},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="NumberType",n}return r}(Type),number=new NumberType,BigIntType=function(e){__extends(r,e);function r(){var n=e.call(this,"bigint",function(o){return typeof o=="bigint"},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="BigIntType",n}return r}(Type),bigint=new BigIntType,BooleanType=function(e){__extends(r,e);function r(){var n=e.call(this,"boolean",function(o){return typeof o=="boolean"},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="BooleanType",n}return r}(Type),boolean=new BooleanType,AnyArrayType=function(e){__extends(r,e);function r(){var n=e.call(this,"UnknownArray",Array.isArray,function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="AnyArrayType",n}return r}(Type),UnknownArray=new AnyArrayType,AnyDictionaryType=function(e){__extends(r,e);function r(){var n=e.call(this,"UnknownRecord",function(o){return o!==null&&typeof o=="object"&&!Array.isArray(o)},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="AnyDictionaryType",n}return r}(Type),UnknownRecord=new AnyDictionaryType,LiteralType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.value=l,h._tag="LiteralType",h}return r}(Type);function literal(e,r){r===void 0&&(r=JSON.stringify(e));var n=function(o){return o===e};return new LiteralType(r,n,function(o,a){return n(o)?success(e):failure(o,a)},identity,e)}var KeyofType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.keys=l,h._tag="KeyofType",h}return r}(Type);function keyof(e,r){r===void 0&&(r=Object.keys(e).map(function(o){return JSON.stringify(o)}).join(" | "));var n=function(o){return string.is(o)&&hasOwnProperty$2.call(e,o)};return new KeyofType(r,n,function(o,a){return n(o)?success(o):failure(o,a)},identity,e)}var RefinementType=function(e){__extends(r,e);function r(n,o,a,s,l,h){var v=e.call(this,n,o,a,s)||this;return v.type=l,v.predicate=h,v._tag="RefinementType",v}return r}(Type);function brand(e,r,n){return refinement(e,r,n)}var Int=brand(number,function(e){return Number.isInteger(e)},"Int"),RecursiveType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.runDefinition=l,h._tag="RecursiveType",h}return r}(Type);Object.defineProperty(RecursiveType.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function recursion(e,r){var n,o=function(){return n||(n=r(a),n.name=e),n},a=new RecursiveType(e,function(s){return o().is(s)},function(s,l){return o().validate(s,l)},function(s){return o().encode(s)},o);return a}var ArrayType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.type=l,h._tag="ArrayType",h}return r}(Type);function array$1(e,r){return r===void 0&&(r="Array<".concat(e.name,">")),new ArrayType(r,function(n){return UnknownArray.is(n)&&n.every(e.is)},function(n,o){var a=UnknownArray.validate(n,o);if(isLeft$1(a))return a;for(var s=a.right,l=s.length,h=s,v=[],x=0;x<l;x++){var M=s[x],P=e.validate(M,appendContext(o,String(x),e,M));if(isLeft$1(P))pushAll(v,P.left);else{var j=P.right;j!==M&&(h===s&&(h=s.slice()),h[x]=j)}}return v.length>0?failures(v):success(h)},e.encode===identity?identity:function(n){return n.map(e.encode)},e)}var InterfaceType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.props=l,h._tag="InterfaceType",h}return r}(Type);function type(e,r){r===void 0&&(r=getInterfaceTypeName(e));var n=Object.keys(e),o=n.map(function(s){return e[s]}),a=n.length;return new InterfaceType(r,function(s){if(UnknownRecord.is(s)){for(var l=0;l<a;l++){var h=n[l],v=s[h];if(v===void 0&&!hasOwnProperty$2.call(s,h)||!o[l].is(v))return!1}return!0}return!1},function(s,l){var h=UnknownRecord.validate(s,l);if(isLeft$1(h))return h;for(var v=h.right,x=v,M=[],P=0;P<a;P++){var j=n[P],V=x[j],ee=o[P],se=ee.validate(V,appendContext(l,j,ee,V));if(isLeft$1(se))pushAll(M,se.left);else{var Q=se.right;(Q!==V||Q===void 0&&!hasOwnProperty$2.call(x,j))&&(x===v&&(x=__assign$1({},v)),x[j]=Q)}}return M.length>0?failures(M):success(x)},useIdentity(o)?identity:function(s){for(var l=__assign$1({},s),h=0;h<a;h++){var v=n[h],x=o[h].encode;x!==identity&&(l[v]=x(s[v]))}return l},e)}var PartialType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.props=l,h._tag="PartialType",h}return r}(Type);function partial(e,r){r===void 0&&(r=getPartialTypeName(getInterfaceTypeName(e)));var n=Object.keys(e),o=n.map(function(s){return e[s]}),a=n.length;return new PartialType(r,function(s){if(UnknownRecord.is(s)){for(var l=0;l<a;l++){var h=n[l],v=s[h];if(v!==void 0&&!e[h].is(v))return!1}return!0}return!1},function(s,l){var h=UnknownRecord.validate(s,l);if(isLeft$1(h))return h;for(var v=h.right,x=v,M=[],P=0;P<a;P++){var j=n[P],V=x[j],ee=e[j],se=ee.validate(V,appendContext(l,j,ee,V));if(isLeft$1(se))V!==void 0&&pushAll(M,se.left);else{var Q=se.right;Q!==V&&(x===v&&(x=__assign$1({},v)),x[j]=Q)}}return M.length>0?failures(M):success(x)},useIdentity(o)?identity:function(s){for(var l=__assign$1({},s),h=0;h<a;h++){var v=n[h],x=s[v];x!==void 0&&(l[v]=o[h].encode(x))}return l},e)}var DictionaryType=function(e){__extends(r,e);function r(n,o,a,s,l,h){var v=e.call(this,n,o,a,s)||this;return v.domain=l,v.codomain=h,v._tag="DictionaryType",v}return r}(Type);function record$1(e,r,n){var o=getDomainKeys(e);return o?enumerableRecord(Object.keys(o),e,r,n):nonEnumerableRecord(e,r,n)}var UnionType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.types=l,h._tag="UnionType",h}return r}(Type);function union$4(e,r){r===void 0&&(r=getUnionName(e));var n=getIndex(e);if(n!==void 0&&e.length>0){var o=n[0],a=n[1],s=a.length,l=function(h){for(var v=0;v<s;v++)if(a[v].indexOf(h)!==-1)return v};return new TaggedUnionType(r,function(h){if(UnknownRecord.is(h)){var v=l(h[o]);return v!==void 0?e[v].is(h):!1}return!1},function(h,v){var x=UnknownRecord.validate(h,v);if(isLeft$1(x))return x;var M=x.right,P=l(M[o]);if(P===void 0)return failure(h,v);var j=e[P];return j.validate(M,appendContext(v,String(P),j,M))},useIdentity(e)?identity:function(h){var v=l(h[o]);if(v===void 0)throw new Error("no codec found to encode value in union codec ".concat(r));return e[v].encode(h)},e,o)}else return new UnionType(r,function(h){return e.some(function(v){return v.is(h)})},function(h,v){for(var x=[],M=0;M<e.length;M++){var P=e[M],j=P.validate(h,appendContext(v,String(M),P,h));if(isLeft$1(j))pushAll(x,j.left);else return success(j.right)}return failures(x)},useIdentity(e)?identity:function(h){for(var v=0,x=e;v<x.length;v++){var M=x[v];if(M.is(h))return M.encode(h)}throw new Error("no codec found to encode value in union type ".concat(r))},e)}var IntersectionType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.types=l,h._tag="IntersectionType",h}return r}(Type);function intersection$3(e,r){r===void 0&&(r="(".concat(e.map(function(o){return o.name}).join(" & "),")"));var n=e.length;return new IntersectionType(r,function(o){return e.every(function(a){return a.is(o)})},e.length===0?success:function(o,a){for(var s=[],l=[],h=0;h<n;h++){var v=e[h],x=v.validate(o,appendContext(a,String(h),v,o));isLeft$1(x)?pushAll(l,x.left):s.push(x.right)}return l.length>0?failures(l):success(mergeAll(o,s))},e.length===0?identity:function(o){return mergeAll(o,e.map(function(a){return a.encode(o)}))},e)}var TupleType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.types=l,h._tag="TupleType",h}return r}(Type);function tuple(e,r){r===void 0&&(r="[".concat(e.map(function(o){return o.name}).join(", "),"]"));var n=e.length;return new TupleType(r,function(o){return UnknownArray.is(o)&&o.length===n&&e.every(function(a,s){return a.is(o[s])})},function(o,a){var s=UnknownArray.validate(o,a);if(isLeft$1(s))return s;for(var l=s.right,h=l.length>n?l.slice(0,n):l,v=[],x=0;x<n;x++){var M=l[x],P=e[x],j=P.validate(M,appendContext(a,String(x),P,M));if(isLeft$1(j))pushAll(v,j.left);else{var V=j.right;V!==M&&(h===l&&(h=l.slice()),h[x]=V)}}return v.length>0?failures(v):success(h)},useIdentity(e)?identity:function(o){return e.map(function(a,s){return a.encode(o[s])})},e)}var ReadonlyType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.type=l,h._tag="ReadonlyType",h}return r}(Type);function readonly(e,r){return r===void 0&&(r="Readonly<".concat(e.name,">")),new ReadonlyType(r,e.is,e.validate,e.encode,e)}var ReadonlyArrayType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.type=l,h._tag="ReadonlyArrayType",h}return r}(Type);function readonlyArray(e,r){r===void 0&&(r="ReadonlyArray<".concat(e.name,">"));var n=array$1(e);return new ReadonlyArrayType(r,n.is,n.validate,n.encode,e)}var strict=function(e,r){return exact(type(e),r)},ExactType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.type=l,h._tag="ExactType",h}return r}(Type);function exact(e,r){r===void 0&&(r=getExactTypeName(e));var n=getProps(e);return new ExactType(r,e.is,function(o,a){var s=UnknownRecord.validate(o,a);if(isLeft$1(s))return s;var l=e.validate(o,a);return isLeft$1(l)?l:right$1(stripKeys(l.right,n))},function(o){return e.encode(stripKeys(o,n))},e)}var FunctionType=function(e){__extends(r,e);function r(){var n=e.call(this,"Function",function(o){return typeof o=="function"},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="FunctionType",n}return r}(Type),Function$1=new FunctionType,NeverType=function(e){__extends(r,e);function r(){var n=e.call(this,"never",function(o){return!1},function(o,a){return failure(o,a)},function(){throw new Error("cannot encode never")})||this;return n._tag="NeverType",n}return r}(Type),never=new NeverType,AnyType=function(e){__extends(r,e);function r(){var n=e.call(this,"any",function(o){return!0},success,identity)||this;return n._tag="AnyType",n}return r}(Type),any=new AnyType;function refinement(e,r,n){return n===void 0&&(n="(".concat(e.name," | ").concat(getFunctionName(r),")")),new RefinementType(n,function(o){return e.is(o)&&r(o)},function(o,a){var s=e.validate(o,a);if(isLeft$1(s))return s;var l=s.right;return r(l)?success(l):failure(l,a)},e.encode,e,r)}var Integer=refinement(number,Number.isInteger,"Integer"),TaggedUnionType=function(e){__extends(r,e);function r(n,o,a,s,l,h){var v=e.call(this,n,o,a,s,l)||this;return v.tag=h,v}return r}(UnionType),taggedUnion=function(e,r,n){n===void 0&&(n=getUnionName(r));var o=union$4(r,n);return o instanceof TaggedUnionType?o:(console.warn("[io-ts] Cannot build a tagged union for ".concat(n,", returning a de-optimized union")),new TaggedUnionType(n,o.is,o.validate,o.encode,r,e))},getValidationError=function(e,r){return{value:e,context:r}},getDefaultContext=function(e){return[{key:"",type:e}]},Dictionary=UnknownRecord,ObjectType=function(e){__extends(r,e);function r(){var n=e.call(this,"object",function(o){return o!==null&&typeof o=="object"},function(o,a){return n.is(o)?success(o):failure(o,a)},identity)||this;return n._tag="ObjectType",n}return r}(Type),object=new ObjectType,dictionary=record$1,StrictType=function(e){__extends(r,e);function r(n,o,a,s,l){var h=e.call(this,n,o,a,s)||this;return h.props=l,h._tag="StrictType",h}return r}(Type);function clean(e){return e}function alias(e){return function(){return e}}const es6=Object.freeze(Object.defineProperty({__proto__:null,AnyArrayType,AnyDictionaryType,AnyType,Array:UnknownArray,ArrayType,BigIntType,BooleanType,Dictionary,DictionaryType,ExactType,Function:Function$1,FunctionType,Int,Integer,InterfaceType,IntersectionType,KeyofType,LiteralType,NeverType,NullType,NumberType,ObjectType,PartialType,ReadonlyArrayType,ReadonlyType,RecursiveType,RefinementType,StrictType,StringType,TaggedUnionType,TupleType,Type,UndefinedType,UnionType,UnknownArray,UnknownRecord,UnknownType,VoidType,alias,any,appendContext,array:array$1,bigint,boolean,brand,clean,dictionary,emptyTags,exact,failure,failures,getContextEntry,getDefaultContext,getDomainKeys,getFunctionName,getIndex,getTags,getValidationError,identity,interface:type,intersection:intersection$3,keyof,literal,mergeAll,never,null:nullType,nullType,number,object,partial,readonly,readonlyArray,record:record$1,recursion,refinement,strict,string,success,taggedUnion,tuple,type,undefined:undefinedType,union:union$4,unknown,void:voidType,voidType},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(es6);var Either={},Applicative$3={},Apply$3={},_function={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getEndomorphismMonoid=e.not=e.SK=e.hole=e.pipe=e.untupled=e.tupled=e.absurd=e.decrement=e.increment=e.tuple=e.flow=e.flip=e.constVoid=e.constUndefined=e.constNull=e.constFalse=e.constTrue=e.constant=e.unsafeCoerce=e.identity=e.apply=e.getRing=e.getSemiring=e.getMonoid=e.getSemigroup=e.getBooleanAlgebra=void 0;var r=function(J){return function(){return{meet:function(le,ae){return function(H){return J.meet(le(H),ae(H))}},join:function(le,ae){return function(H){return J.join(le(H),ae(H))}},zero:function(){return J.zero},one:function(){return J.one},implies:function(le,ae){return function(H){return J.implies(le(H),ae(H))}},not:function(le){return function(ae){return J.not(le(ae))}}}}};e.getBooleanAlgebra=r;var n=function(J){return function(){return{concat:function(le,ae){return function(H){return J.concat(le(H),ae(H))}}}}};e.getSemigroup=n;var o=function(J){var le=(0,e.getSemigroup)(J);return function(){return{concat:le().concat,empty:function(){return J.empty}}}};e.getMonoid=o;var a=function(J){return{add:function(le,ae){return function(H){return J.add(le(H),ae(H))}},zero:function(){return J.zero},mul:function(le,ae){return function(H){return J.mul(le(H),ae(H))}},one:function(){return J.one}}};e.getSemiring=a;var s=function(J){var le=(0,e.getSemiring)(J);return{add:le.add,mul:le.mul,one:le.one,zero:le.zero,sub:function(ae,H){return function(te){return J.sub(ae(te),H(te))}}}};e.getRing=s;var l=function(J){return function(le){return le(J)}};e.apply=l;function h(J){return J}e.identity=h,e.unsafeCoerce=h;function v(J){return function(){return J}}e.constant=v,e.constTrue=v(!0),e.constFalse=v(!1),e.constNull=v(null),e.constUndefined=v(void 0),e.constVoid=e.constUndefined;function x(J){return function(){for(var le=[],ae=0;ae<arguments.length;ae++)le[ae]=arguments[ae];return le.length>1?J(le[1],le[0]):function(H){return J(H)(le[0])}}}e.flip=x;function M(J,le,ae,H,te,E,u,d,c){switch(arguments.length){case 1:return J;case 2:return function(){return le(J.apply(this,arguments))};case 3:return function(){return ae(le(J.apply(this,arguments)))};case 4:return function(){return H(ae(le(J.apply(this,arguments))))};case 5:return function(){return te(H(ae(le(J.apply(this,arguments)))))};case 6:return function(){return E(te(H(ae(le(J.apply(this,arguments))))))};case 7:return function(){return u(E(te(H(ae(le(J.apply(this,arguments)))))))};case 8:return function(){return d(u(E(te(H(ae(le(J.apply(this,arguments))))))))};case 9:return function(){return c(d(u(E(te(H(ae(le(J.apply(this,arguments)))))))))}}}e.flow=M;function P(){for(var J=[],le=0;le<arguments.length;le++)J[le]=arguments[le];return J}e.tuple=P;function j(J){return J+1}e.increment=j;function V(J){return J-1}e.decrement=V;function ee(J){throw new Error("Called `absurd` function which should be uncallable")}e.absurd=ee;function se(J){return function(le){return J.apply(void 0,le)}}e.tupled=se;function Q(J){return function(){for(var le=[],ae=0;ae<arguments.length;ae++)le[ae]=arguments[ae];return J(le)}}e.untupled=Q;function $e(J,le,ae,H,te,E,u,d,c){switch(arguments.length){case 1:return J;case 2:return le(J);case 3:return ae(le(J));case 4:return H(ae(le(J)));case 5:return te(H(ae(le(J))));case 6:return E(te(H(ae(le(J)))));case 7:return u(E(te(H(ae(le(J))))));case 8:return d(u(E(te(H(ae(le(J)))))));case 9:return c(d(u(E(te(H(ae(le(J))))))));default:{for(var g=arguments[0],m=1;m<arguments.length;m++)g=arguments[m](g);return g}}}e.pipe=$e,e.hole=ee;var Ie=function(J,le){return le};e.SK=Ie;function ye(J){return function(le){return!J(le)}}e.not=ye;var G=function(){return{concat:function(J,le){return M(J,le)},empty:h}};e.getEndomorphismMonoid=G})(_function);var internal={},__spreadArray$3=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,s;o<a;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))};Object.defineProperty(internal,"__esModule",{value:!0});internal.fromReadonlyNonEmptyArray=internal.has=internal.emptyRecord=internal.emptyReadonlyArray=internal.tail=internal.head=internal.isNonEmpty=internal.singleton=internal.right=internal.left=internal.isRight=internal.isLeft=internal.some=internal.none=internal.isSome=internal.isNone=void 0;var isNone$1=function(e){return e._tag==="None"};internal.isNone=isNone$1;var isSome$1=function(e){return e._tag==="Some"};internal.isSome=isSome$1;internal.none={_tag:"None"};var some$4=function(e){return{_tag:"Some",value:e}};internal.some=some$4;var isLeft=function(e){return e._tag==="Left"};internal.isLeft=isLeft;var isRight=function(e){return e._tag==="Right"};internal.isRight=isRight;var left=function(e){return{_tag:"Left",left:e}};internal.left=left;var right=function(e){return{_tag:"Right",right:e}};internal.right=right;var singleton$2=function(e){return[e]};internal.singleton=singleton$2;var isNonEmpty$4=function(e){return e.length>0};internal.isNonEmpty=isNonEmpty$4;var head$4=function(e){return e[0]};internal.head=head$4;var tail$3=function(e){return e.slice(1)};internal.tail=tail$3;internal.emptyReadonlyArray=[];internal.emptyRecord={};internal.has=Object.prototype.hasOwnProperty;var fromReadonlyNonEmptyArray$1=function(e){return __spreadArray$3([e[0]],e.slice(1),!0)};internal.fromReadonlyNonEmptyArray=fromReadonlyNonEmptyArray$1;var __createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,o,a)}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$4(r,e,n);return __setModuleDefault$4(r,e),r};Object.defineProperty(Apply$3,"__esModule",{value:!0});Apply$3.sequenceS=Apply$3.sequenceT=Apply$3.getApplySemigroup=Apply$3.apS=Apply$3.apSecond=Apply$3.apFirst=Apply$3.ap=void 0;var function_1$3=_function,_$2=__importStar$4(internal);function ap$4(e,r){return function(n){return function(o){return e.ap(e.map(o,function(a){return function(s){return r.ap(a,s)}}),n)}}}Apply$3.ap=ap$4;function apFirst$3(e){return function(r){return function(n){return e.ap(e.map(n,function(o){return function(){return o}}),r)}}}Apply$3.apFirst=apFirst$3;function apSecond$3(e){return function(r){return function(n){return e.ap(e.map(n,function(){return function(o){return o}}),r)}}}Apply$3.apSecond=apSecond$3;function apS$3(e){return function(r,n){return function(o){return e.ap(e.map(o,function(a){return function(s){var l;return Object.assign({},a,(l={},l[r]=s,l))}}),n)}}}Apply$3.apS=apS$3;function getApplySemigroup$1(e){return function(r){return{concat:function(n,o){return e.ap(e.map(n,function(a){return function(s){return r.concat(a,s)}}),o)}}}}Apply$3.getApplySemigroup=getApplySemigroup$1;function curried(e,r,n){return function(o){for(var a=Array(n.length+1),s=0;s<n.length;s++)a[s]=n[s];return a[n.length]=o,r===0?e.apply(null,a):curried(e,r-1,a)}}var tupleConstructors={1:function(e){return[e]},2:function(e){return function(r){return[e,r]}},3:function(e){return function(r){return function(n){return[e,r,n]}}},4:function(e){return function(r){return function(n){return function(o){return[e,r,n,o]}}}},5:function(e){return function(r){return function(n){return function(o){return function(a){return[e,r,n,o,a]}}}}}};function getTupleConstructor(e){return _$2.has.call(tupleConstructors,e)||(tupleConstructors[e]=curried(function_1$3.tuple,e-1,[])),tupleConstructors[e]}function sequenceT(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var o=r.length,a=getTupleConstructor(o),s=e.map(r[0],a),l=1;l<o;l++)s=e.ap(s,r[l]);return s}}Apply$3.sequenceT=sequenceT;function getRecordConstructor(e){var r=e.length;switch(r){case 1:return function(n){var o;return o={},o[e[0]]=n,o};case 2:return function(n){return function(o){var a;return a={},a[e[0]]=n,a[e[1]]=o,a}};case 3:return function(n){return function(o){return function(a){var s;return s={},s[e[0]]=n,s[e[1]]=o,s[e[2]]=a,s}}};case 4:return function(n){return function(o){return function(a){return function(s){var l;return l={},l[e[0]]=n,l[e[1]]=o,l[e[2]]=a,l[e[3]]=s,l}}}};case 5:return function(n){return function(o){return function(a){return function(s){return function(l){var h;return h={},h[e[0]]=n,h[e[1]]=o,h[e[2]]=a,h[e[3]]=s,h[e[4]]=l,h}}}}};default:return curried(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var a={},s=0;s<r;s++)a[e[s]]=n[s];return a},r-1,[])}}function sequenceS(e){return function(r){for(var n=Object.keys(r),o=n.length,a=getRecordConstructor(n),s=e.map(r[n[0]],a),l=1;l<o;l++)s=e.ap(s,r[n[l]]);return s}}Apply$3.sequenceS=sequenceS;var Functor$4={};Object.defineProperty(Functor$4,"__esModule",{value:!0});Functor$4.getFunctorComposition=Functor$4.let=Functor$4.bindTo=Functor$4.flap=Functor$4.map=void 0;var function_1$2=_function;function map$6(e,r){return function(n){return function(o){return e.map(o,function(a){return r.map(a,n)})}}}Functor$4.map=map$6;function flap$4(e){return function(r){return function(n){return e.map(n,function(o){return o(r)})}}}Functor$4.flap=flap$4;function bindTo$3(e){return function(r){return function(n){return e.map(n,function(o){var a;return a={},a[r]=o,a})}}}Functor$4.bindTo=bindTo$3;function let_$3(e){return function(r,n){return function(o){return e.map(o,function(a){var s;return Object.assign({},a,(s={},s[r]=n(a),s))})}}}Functor$4.let=let_$3;function getFunctorComposition(e,r){var n=map$6(e,r);return{map:function(o,a){return(0,function_1$2.pipe)(o,n(a))}}}Functor$4.getFunctorComposition=getFunctorComposition;Object.defineProperty(Applicative$3,"__esModule",{value:!0});Applicative$3.getApplicativeComposition=Applicative$3.getApplicativeMonoid=void 0;var Apply_1=Apply$3,function_1$1=_function,Functor_1=Functor$4;function getApplicativeMonoid(e){var r=(0,Apply_1.getApplySemigroup)(e);return function(n){return{concat:r(n).concat,empty:e.of(n.empty)}}}Applicative$3.getApplicativeMonoid=getApplicativeMonoid;function getApplicativeComposition(e,r){var n=(0,Functor_1.getFunctorComposition)(e,r).map,o=(0,Apply_1.ap)(e,r);return{map:n,of:function(a){return e.of(r.of(a))},ap:function(a,s){return(0,function_1$1.pipe)(a,o(s))}}}Applicative$3.getApplicativeComposition=getApplicativeComposition;var Chain$3={};Object.defineProperty(Chain$3,"__esModule",{value:!0});Chain$3.bind=Chain$3.chainFirst=void 0;function chainFirst$3(e){return function(r){return function(n){return e.chain(n,function(o){return e.map(r(o),function(){return o})})}}}Chain$3.chainFirst=chainFirst$3;function bind$6(e){return function(r,n){return function(o){return e.chain(o,function(a){return e.map(n(a),function(s){var l;return Object.assign({},a,(l={},l[r]=s,l))})})}}}Chain$3.bind=bind$6;var ChainRec={};Object.defineProperty(ChainRec,"__esModule",{value:!0});ChainRec.tailRec=void 0;var tailRec=function(e,r){for(var n=r(e);n._tag==="Left";)n=r(n.left);return n.right};ChainRec.tailRec=tailRec;var FromEither$2={},__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,o,a)}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$3(r,e,n);return __setModuleDefault$3(r,e),r};Object.defineProperty(FromEither$2,"__esModule",{value:!0});FromEither$2.filterOrElse=FromEither$2.chainFirstEitherK=FromEither$2.chainEitherK=FromEither$2.fromEitherK=FromEither$2.chainOptionK=FromEither$2.fromOptionK=FromEither$2.fromPredicate=FromEither$2.fromOption=void 0;var Chain_1=Chain$3,function_1=_function,_$1=__importStar$3(internal);function fromOption$1(e){return function(r){return function(n){return e.fromEither(_$1.isNone(n)?_$1.left(r()):_$1.right(n.value))}}}FromEither$2.fromOption=fromOption$1;function fromPredicate$2(e){return function(r,n){return function(o){return e.fromEither(r(o)?_$1.right(o):_$1.left(n(o)))}}}FromEither$2.fromPredicate=fromPredicate$2;function fromOptionK$1(e){var r=fromOption$1(e);return function(n){var o=r(n);return function(a){return(0,function_1.flow)(a,o)}}}FromEither$2.fromOptionK=fromOptionK$1;function chainOptionK(e,r){var n=fromOptionK$1(e);return function(o){var a=n(o);return function(s){return function(l){return r.chain(l,a(s))}}}}FromEither$2.chainOptionK=chainOptionK;function fromEitherK$2(e){return function(r){return(0,function_1.flow)(r,e.fromEither)}}FromEither$2.fromEitherK=fromEitherK$2;function chainEitherK$1(e,r){var n=fromEitherK$2(e);return function(o){return function(a){return r.chain(a,n(o))}}}FromEither$2.chainEitherK=chainEitherK$1;function chainFirstEitherK$1(e,r){return(0,function_1.flow)(fromEitherK$2(e),(0,Chain_1.chainFirst)(r))}FromEither$2.chainFirstEitherK=chainFirstEitherK$1;function filterOrElse(e,r){return function(n,o){return function(a){return r.chain(a,function(s){return e.fromEither(n(s)?_$1.right(s):_$1.left(o(s)))})}}}FromEither$2.filterOrElse=filterOrElse;var Separated={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.right=e.left=e.flap=e.Functor=e.Bifunctor=e.URI=e.bimap=e.mapLeft=e.map=e.separated=void 0;var r=_function,n=Functor$4,o=function(j,V){return{left:j,right:V}};e.separated=o;var a=function(j,V){return(0,r.pipe)(j,(0,e.map)(V))},s=function(j,V){return(0,r.pipe)(j,(0,e.mapLeft)(V))},l=function(j,V,ee){return(0,r.pipe)(j,(0,e.bimap)(V,ee))},h=function(j){return function(V){return(0,e.separated)((0,e.left)(V),j((0,e.right)(V)))}};e.map=h;var v=function(j){return function(V){return(0,e.separated)(j((0,e.left)(V)),(0,e.right)(V))}};e.mapLeft=v;var x=function(j,V){return function(ee){return(0,e.separated)(j((0,e.left)(ee)),V((0,e.right)(ee)))}};e.bimap=x,e.URI="Separated",e.Bifunctor={URI:e.URI,mapLeft:s,bimap:l},e.Functor={URI:e.URI,map:a},e.flap=(0,n.flap)(e.Functor);var M=function(j){return j.left};e.left=M;var P=function(j){return j.right};e.right=P})(Separated);var Witherable$3={},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,o,a)}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$2(r,e,n);return __setModuleDefault$2(r,e),r};Object.defineProperty(Witherable$3,"__esModule",{value:!0});Witherable$3.filterE=Witherable$3.witherDefault=Witherable$3.wiltDefault=void 0;var _=__importStar$2(internal);function wiltDefault(e,r){return function(n){var o=e.traverse(n);return function(a,s){return n.map(o(a,s),r.separate)}}}Witherable$3.wiltDefault=wiltDefault;function witherDefault(e,r){return function(n){var o=e.traverse(n);return function(a,s){return n.map(o(a,s),r.compact)}}}Witherable$3.witherDefault=witherDefault;function filterE$1(e){return function(r){var n=e.wither(r);return function(o){return function(a){return n(a,function(s){return r.map(o(s),function(l){return l?_.some(s):_.none})})}}}}Witherable$3.filterE=filterE$1;(function(e){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(U,k,L,ue){ue===void 0&&(ue=L);var ce=Object.getOwnPropertyDescriptor(k,L);(!ce||("get"in ce?!k.__esModule:ce.writable||ce.configurable))&&(ce={enumerable:!0,get:function(){return k[L]}}),Object.defineProperty(U,ue,ce)}:function(U,k,L,ue){ue===void 0&&(ue=L),U[ue]=k[L]}),n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(U,k){Object.defineProperty(U,"default",{enumerable:!0,value:k})}:function(U,k){U.default=k}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(U){if(U&&U.__esModule)return U;var k={};if(U!=null)for(var L in U)L!=="default"&&Object.prototype.hasOwnProperty.call(U,L)&&r(k,U,L);return n(k,U),k};Object.defineProperty(e,"__esModule",{value:!0}),e.fold=e.match=e.foldW=e.matchW=e.isRight=e.isLeft=e.fromOption=e.fromPredicate=e.FromEither=e.MonadThrow=e.throwError=e.ChainRec=e.Extend=e.extend=e.Alt=e.alt=e.altW=e.Bifunctor=e.mapLeft=e.bimap=e.Traversable=e.sequence=e.traverse=e.Foldable=e.reduceRight=e.foldMap=e.reduce=e.Monad=e.Chain=e.chain=e.chainW=e.Applicative=e.Apply=e.ap=e.apW=e.Pointed=e.of=e.Functor=e.map=e.getAltValidation=e.getApplicativeValidation=e.getWitherable=e.getFilterable=e.getCompactable=e.getSemigroup=e.getEq=e.getShow=e.URI=e.right=e.left=void 0,e.getValidation=e.getValidationMonoid=e.getValidationSemigroup=e.getApplyMonoid=e.getApplySemigroup=e.either=e.stringifyJSON=e.parseJSON=e.sequenceArray=e.traverseArray=e.traverseArrayWithIndex=e.traverseReadonlyArrayWithIndex=e.traverseReadonlyNonEmptyArrayWithIndex=e.ApT=e.apSW=e.apS=e.bindW=e.bind=e.let=e.bindTo=e.Do=e.exists=e.elem=e.toError=e.toUnion=e.chainNullableK=e.fromNullableK=e.tryCatchK=e.tryCatch=e.fromNullable=e.orElse=e.orElseW=e.swap=e.filterOrElseW=e.filterOrElse=e.chainOptionK=e.fromOptionK=e.duplicate=e.flatten=e.flattenW=e.chainFirstW=e.chainFirst=e.apSecondW=e.apSecond=e.apFirstW=e.apFirst=e.flap=e.getOrElse=e.getOrElseW=void 0;var a=Applicative$3,s=Apply$3,l=Chain$3,h=ChainRec,v=FromEither$2,x=_function,M=Functor$4,P=o(internal),j=Separated,V=Witherable$3;e.left=P.left,e.right=P.right;var ee=function(U,k){return(0,x.pipe)(U,(0,e.map)(k))},se=function(U,k){return(0,x.pipe)(U,(0,e.ap)(k))},Q=function(U,k){return(0,x.pipe)(U,(0,e.chain)(k))},$e=function(U,k,L){return(0,x.pipe)(U,(0,e.reduce)(k,L))},Ie=function(U){return function(k,L){var ue=(0,e.foldMap)(U);return(0,x.pipe)(k,ue(L))}},ye=function(U,k,L){return(0,x.pipe)(U,(0,e.reduceRight)(k,L))},G=function(U){var k=(0,e.traverse)(U);return function(L,ue){return(0,x.pipe)(L,k(ue))}},J=function(U,k,L){return(0,x.pipe)(U,(0,e.bimap)(k,L))},le=function(U,k){return(0,x.pipe)(U,(0,e.mapLeft)(k))},ae=function(U,k){return(0,x.pipe)(U,(0,e.alt)(k))},H=function(U,k){return(0,x.pipe)(U,(0,e.extend)(k))},te=function(U,k){return(0,h.tailRec)(k(U),function(L){return(0,e.isLeft)(L)?(0,e.right)((0,e.left)(L.left)):(0,e.isLeft)(L.right)?(0,e.left)(k(L.right.left)):(0,e.right)((0,e.right)(L.right.right))})};e.URI="Either";var E=function(U,k){return{show:function(L){return(0,e.isLeft)(L)?"left(".concat(U.show(L.left),")"):"right(".concat(k.show(L.right),")")}}};e.getShow=E;var u=function(U,k){return{equals:function(L,ue){return L===ue||((0,e.isLeft)(L)?(0,e.isLeft)(ue)&&U.equals(L.left,ue.left):(0,e.isRight)(ue)&&k.equals(L.right,ue.right))}}};e.getEq=u;var d=function(U){return{concat:function(k,L){return(0,e.isLeft)(L)?k:(0,e.isLeft)(k)?L:(0,e.right)(U.concat(k.right,L.right))}}};e.getSemigroup=d;var c=function(U){var k=(0,e.left)(U.empty);return{URI:e.URI,_E:void 0,compact:function(L){return(0,e.isLeft)(L)?L:L.right._tag==="None"?k:(0,e.right)(L.right.value)},separate:function(L){return(0,e.isLeft)(L)?(0,j.separated)(L,L):(0,e.isLeft)(L.right)?(0,j.separated)((0,e.right)(L.right.left),k):(0,j.separated)(k,(0,e.right)(L.right.right))}}};e.getCompactable=c;var g=function(U){var k=(0,e.left)(U.empty),L=(0,e.getCompactable)(U),ue=L.compact,ce=L.separate,fe=function(de,Ce){return(0,e.isLeft)(de)||Ce(de.right)?de:k},Be=function(de,Ce){return(0,e.isLeft)(de)?(0,j.separated)(de,de):Ce(de.right)?(0,j.separated)(k,(0,e.right)(de.right)):(0,j.separated)((0,e.right)(de.right),k)};return{URI:e.URI,_E:void 0,map:ee,compact:ue,separate:ce,filter:fe,filterMap:function(de,Ce){if((0,e.isLeft)(de))return de;var Qe=Ce(de.right);return Qe._tag==="None"?k:(0,e.right)(Qe.value)},partition:Be,partitionMap:function(de,Ce){if((0,e.isLeft)(de))return(0,j.separated)(de,de);var Qe=Ce(de.right);return(0,e.isLeft)(Qe)?(0,j.separated)((0,e.right)(Qe.left),k):(0,j.separated)(k,(0,e.right)(Qe.right))}}};e.getFilterable=g;var m=function(U){var k=(0,e.getFilterable)(U),L=(0,e.getCompactable)(U);return{URI:e.URI,_E:void 0,map:ee,compact:k.compact,separate:k.separate,filter:k.filter,filterMap:k.filterMap,partition:k.partition,partitionMap:k.partitionMap,traverse:G,sequence:e.sequence,reduce:$e,foldMap:Ie,reduceRight:ye,wither:(0,V.witherDefault)(e.Traversable,L),wilt:(0,V.wiltDefault)(e.Traversable,L)}};e.getWitherable=m;var w=function(U){return{URI:e.URI,_E:void 0,map:ee,ap:function(k,L){return(0,e.isLeft)(k)?(0,e.isLeft)(L)?(0,e.left)(U.concat(k.left,L.left)):k:(0,e.isLeft)(L)?L:(0,e.right)(k.right(L.right))},of:e.of}};e.getApplicativeValidation=w;var S=function(U){return{URI:e.URI,_E:void 0,map:ee,alt:function(k,L){if((0,e.isRight)(k))return k;var ue=L();return(0,e.isLeft)(ue)?(0,e.left)(U.concat(k.left,ue.left)):ue}}};e.getAltValidation=S;var $=function(U){return function(k){return(0,e.isLeft)(k)?k:(0,e.right)(U(k.right))}};e.map=$,e.Functor={URI:e.URI,map:ee},e.of=e.right,e.Pointed={URI:e.URI,of:e.of};var f=function(U){return function(k){return(0,e.isLeft)(k)?k:(0,e.isLeft)(U)?U:(0,e.right)(k.right(U.right))}};e.apW=f,e.ap=e.apW,e.Apply={URI:e.URI,map:ee,ap:se},e.Applicative={URI:e.URI,map:ee,ap:se,of:e.of};var y=function(U){return function(k){return(0,e.isLeft)(k)?k:U(k.right)}};e.chainW=y,e.chain=e.chainW,e.Chain={URI:e.URI,map:ee,ap:se,chain:Q},e.Monad={URI:e.URI,map:ee,ap:se,of:e.of,chain:Q};var B=function(U,k){return function(L){return(0,e.isLeft)(L)?U:k(U,L.right)}};e.reduce=B;var O=function(U){return function(k){return function(L){return(0,e.isLeft)(L)?U.empty:k(L.right)}}};e.foldMap=O;var oe=function(U,k){return function(L){return(0,e.isLeft)(L)?U:k(L.right,U)}};e.reduceRight=oe,e.Foldable={URI:e.URI,reduce:$e,foldMap:Ie,reduceRight:ye};var he=function(U){return function(k){return function(L){return(0,e.isLeft)(L)?U.of((0,e.left)(L.left)):U.map(k(L.right),e.right)}}};e.traverse=he;var ve=function(U){return function(k){return(0,e.isLeft)(k)?U.of((0,e.left)(k.left)):U.map(k.right,e.right)}};e.sequence=ve,e.Traversable={URI:e.URI,map:ee,reduce:$e,foldMap:Ie,reduceRight:ye,traverse:G,sequence:e.sequence};var Pe=function(U,k){return function(L){return(0,e.isLeft)(L)?(0,e.left)(U(L.left)):(0,e.right)(k(L.right))}};e.bimap=Pe;var at=function(U){return function(k){return(0,e.isLeft)(k)?(0,e.left)(U(k.left)):k}};e.mapLeft=at,e.Bifunctor={URI:e.URI,bimap:J,mapLeft:le};var Le=function(U){return function(k){return(0,e.isLeft)(k)?U():k}};e.altW=Le,e.alt=e.altW,e.Alt={URI:e.URI,map:ee,alt:ae};var Ge=function(U){return function(k){return(0,e.isLeft)(k)?k:(0,e.right)(U(k))}};e.extend=Ge,e.Extend={URI:e.URI,map:ee,extend:H},e.ChainRec={URI:e.URI,map:ee,ap:se,chain:Q,chainRec:te},e.throwError=e.left,e.MonadThrow={URI:e.URI,map:ee,ap:se,of:e.of,chain:Q,throwError:e.throwError},e.FromEither={URI:e.URI,fromEither:x.identity},e.fromPredicate=(0,v.fromPredicate)(e.FromEither),e.fromOption=(0,v.fromOption)(e.FromEither),e.isLeft=P.isLeft,e.isRight=P.isRight;var _t=function(U,k){return function(L){return(0,e.isLeft)(L)?U(L.left):k(L.right)}};e.matchW=_t,e.foldW=e.matchW,e.match=e.matchW,e.fold=e.match;var Xe=function(U){return function(k){return(0,e.isLeft)(k)?U(k.left):k.right}};e.getOrElseW=Xe,e.getOrElse=e.getOrElseW,e.flap=(0,M.flap)(e.Functor),e.apFirst=(0,s.apFirst)(e.Apply),e.apFirstW=e.apFirst,e.apSecond=(0,s.apSecond)(e.Apply),e.apSecondW=e.apSecond,e.chainFirst=(0,l.chainFirst)(e.Chain),e.chainFirstW=e.chainFirst,e.flattenW=(0,e.chainW)(x.identity),e.flatten=e.flattenW,e.duplicate=(0,e.extend)(x.identity),e.fromOptionK=(0,v.fromOptionK)(e.FromEither),e.chainOptionK=(0,v.chainOptionK)(e.FromEither,e.Chain),e.filterOrElse=(0,v.filterOrElse)(e.FromEither,e.Chain),e.filterOrElseW=e.filterOrElse;var K=function(U){return(0,e.isLeft)(U)?(0,e.right)(U.left):(0,e.left)(U.right)};e.swap=K;var Z=function(U){return function(k){return(0,e.isLeft)(k)?U(k.left):k}};e.orElseW=Z,e.orElse=e.orElseW;var ie=function(U){return function(k){return k==null?(0,e.left)(U):(0,e.right)(k)}};e.fromNullable=ie;var be=function(U,k){try{return(0,e.right)(U())}catch(L){return(0,e.left)(k(L))}};e.tryCatch=be;var Ae=function(U,k){return function(){for(var L=[],ue=0;ue<arguments.length;ue++)L[ue]=arguments[ue];return(0,e.tryCatch)(function(){return U.apply(void 0,L)},k)}};e.tryCatchK=Ae;var ge=function(U){var k=(0,e.fromNullable)(U);return function(L){return(0,x.flow)(L,k)}};e.fromNullableK=ge;var xe=function(U){var k=(0,e.fromNullableK)(U);return function(L){return(0,e.chain)(k(L))}};e.chainNullableK=xe,e.toUnion=(0,e.foldW)(x.identity,x.identity);function Me(U){return U instanceof Error?U:new Error(String(U))}e.toError=Me;function me(U){return function(k,L){if(L===void 0){var ue=me(U);return function(ce){return ue(k,ce)}}return(0,e.isLeft)(L)?!1:U.equals(k,L.right)}}e.elem=me;var we=function(U){return function(k){return(0,e.isLeft)(k)?!1:U(k.right)}};e.exists=we,e.Do=(0,e.of)(P.emptyRecord),e.bindTo=(0,M.bindTo)(e.Functor);var Oe=(0,M.let)(e.Functor);e.let=Oe,e.bind=(0,l.bind)(e.Chain),e.bindW=e.bind,e.apS=(0,s.apS)(e.Apply),e.apSW=e.apS,e.ApT=(0,e.of)(P.emptyReadonlyArray);var Se=function(U){return function(k){var L=U(0,P.head(k));if((0,e.isLeft)(L))return L;for(var ue=[L.right],ce=1;ce<k.length;ce++){var fe=U(ce,k[ce]);if((0,e.isLeft)(fe))return fe;ue.push(fe.right)}return(0,e.right)(ue)}};e.traverseReadonlyNonEmptyArrayWithIndex=Se;var ke=function(U){var k=(0,e.traverseReadonlyNonEmptyArrayWithIndex)(U);return function(L){return P.isNonEmpty(L)?k(L):e.ApT}};e.traverseReadonlyArrayWithIndex=ke,e.traverseArrayWithIndex=e.traverseReadonlyArrayWithIndex;var z=function(U){return(0,e.traverseReadonlyArrayWithIndex)(function(k,L){return U(L)})};e.traverseArray=z,e.sequenceArray=(0,e.traverseArray)(x.identity);function N(U,k){return(0,e.tryCatch)(function(){return JSON.parse(U)},k)}e.parseJSON=N;var I=function(U,k){return(0,e.tryCatch)(function(){var L=JSON.stringify(U);if(typeof L!="string")throw new Error("Converting unsupported structure to JSON");return L},k)};e.stringifyJSON=I,e.either={URI:e.URI,map:ee,of:e.of,ap:se,chain:Q,reduce:$e,foldMap:Ie,reduceRight:ye,traverse:G,sequence:e.sequence,bimap:J,mapLeft:le,alt:ae,extend:H,chainRec:te,throwError:e.throwError},e.getApplySemigroup=(0,s.getApplySemigroup)(e.Apply),e.getApplyMonoid=(0,a.getApplicativeMonoid)(e.Applicative);var b=function(U,k){return(0,s.getApplySemigroup)((0,e.getApplicativeValidation)(U))(k)};e.getValidationSemigroup=b;var C=function(U,k){return(0,a.getApplicativeMonoid)((0,e.getApplicativeValidation)(U))(k)};e.getValidationMonoid=C;function T(U){var k=(0,e.getApplicativeValidation)(U).ap,L=(0,e.getAltValidation)(U).alt;return{URI:e.URI,_E:void 0,map:ee,of:e.of,chain:Q,bimap:J,mapLeft:le,reduce:$e,foldMap:Ie,reduceRight:ye,extend:H,traverse:G,sequence:e.sequence,chainRec:te,throwError:e.throwError,ap:k,alt:L}}e.getValidation=T})(Either);var src={},fromEquals=function(e){return{equals:function(r,n){return r===n||e(r,n)}}},equalsDefault=function(e){return function(r,n){return r===n||e(r,n)===0}},fromCompare=function(e){return{equals:equalsDefault(e),compare:function(r,n){return r===n?0:e(r,n)}}},getSemigroup$2=function(){return{concat:function(e,r){return fromCompare(function(n,o){var a=e.compare(n,o);return a!==0?a:r.compare(n,o)})}}},getMonoid$4=function(){return{concat:getSemigroup$2().concat,empty:fromCompare(function(){return 0})}},min$3=function(e){return function(r,n){return r===n||e.compare(r,n)<1?r:n}},max$3=function(e){return function(r,n){return r===n||e.compare(r,n)>-1?r:n}},min$2=function(e){return{concat:min$3(e)}},max$2=function(e){return{concat:max$3(e)}},first=function(){return{concat:identity$1}},last$4=function(){return{concat:function(e,r){return r}}},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,s;o<a;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))},isNonEmpty$3=isNonEmpty$6,isOutOfBound$3=function(e,r){return e<0||e>=r.length},prependW$2=function(e){return function(r){return __spreadArray$2([e],r,!0)}},prepend$2=prependW$2,prependAll$2=function(e){return function(r){for(var n=[e,r[0]],o=1;o<r.length;o++)n.push(e,r[o]);return n}},intersperse$2=function(e){return function(r){var n=tail$2(r);return isNonEmpty$3(n)?pipe$1(n,prependAll$2(e),prepend$2(head$3(r))):r}},reduce$7=function(e,r){return reduceWithIndex$6(e,function(n,o,a){return r(o,a)})},foldMap$7=function(e){return function(r){return function(n){return n.slice(1).reduce(function(o,a){return e.concat(o,r(a))},r(n[0]))}}},reduceRight$7=function(e,r){return reduceRightWithIndex$6(e,function(n,o,a){return r(o,a)})},reduceWithIndex$6=function(e,r){return function(n){return n.reduce(function(o,a,s){return r(s,o,a)},e)}},foldMapWithIndex$6=function(e){return function(r){return function(n){return n.slice(1).reduce(function(o,a,s){return e.concat(o,r(s+1,a))},r(0,n[0]))}}},reduceRightWithIndex$6=function(e,r){return function(n){return n.reduceRight(function(o,a,s){return r(s,a,o)},e)}},extract$1=head$5,getShow$6=function(e){return{show:function(r){return"[".concat(r.map(e.show).join(", "),"]")}}},getEq$6=function(e){return fromEquals(function(r,n){return r.length===n.length&&r.every(function(o,a){return e.equals(o,n[a])})})},head$3=extract$1,tail$2=tail$4,last$3=function(e){return e[e.length-1]},min$1=function(e){var r=min$2(e);return function(n){return n.reduce(r.concat)}},max$1=function(e){var r=max$2(e);return function(n){return n.reduce(r.concat)}},concatAll$1=function(e){return function(r){return r.reduce(e.concat)}},intercalate$3=function(e){var r=concatAll$1(e);return function(n){return flow(intersperse$2(n),r)}},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,s;o<a;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))},isNonEmpty$2=function(e){return e.length>0},isOutOfBound$2=function(e,r){return e<0||e>=r.length},prependW$1=function(e){return function(r){return __spreadArray$1([e],r,!0)}},prepend$1=prependW$1,appendW$1=function(e){return function(r){return __spreadArray$1(__spreadArray$1([],r,!0),[e],!1)}},append$1=appendW$1,unsafeInsertAt$1=function(e,r,n){if(isNonEmpty$2(n)){var o=fromReadonlyNonEmptyArray(n);return o.splice(e,0,r),o}return[r]},unsafeUpdateAt$1=function(e,r,n){var o=fromReadonlyNonEmptyArray(n);return o[e]=r,o},uniq$1=function(e){return function(r){if(r.length===1)return copy$1(r);for(var n=[head$2(r)],o=tail$1(r),a=function(v){n.every(function(x){return!e.equals(x,v)})&&n.push(v)},s=0,l=o;s<l.length;s++){var h=l[s];a(h)}return n}},sortBy$1=function(e){if(isNonEmpty$2(e)){var r=getMonoid$4();return sort$1(e.reduce(r.concat,r.empty))}return copy$1},union$3=function(e){var r=uniq$1(e);return function(n){return function(o){return r(pipe$1(o,concat$1(n)))}}},rotate$1=function(e){return function(r){var n=r.length,o=Math.round(e)%n;if(isOutOfBound$2(Math.abs(o),r)||o===0)return copy$1(r);if(o<0){var a=splitAt$1(-o)(r),s=a[0],l=a[1];return pipe$1(l,concat$1(s))}else return rotate$1(o-n)(r)}},fromReadonlyNonEmptyArray=fromReadonlyNonEmptyArray$2,fromArray=function(e){return isNonEmpty$2(e)?some$5(e):none$1},makeBy$1=function(e){return function(r){for(var n=Math.max(0,Math.floor(r)),o=[e(0)],a=1;a<n;a++)o.push(e(a));return o}},replicate$1=function(e){return makeBy$1(function(){return e})},range$1=function(e,r){return e<=r?makeBy$1(function(n){return e+n})(r-e+1):[e]},unprepend=function(e){return[head$2(e),tail$1(e)]},unappend=function(e){return[init$1(e),last$2(e)]};function concatW$1(e){return function(r){return r.concat(e)}}function concat$1(e,r){return r?e.concat(r):function(n){return n.concat(e)}}var reverse$1=function(e){return __spreadArray$1([last$2(e)],e.slice(0,-1).reverse(),!0)};function group(e){return function(r){var n=r.length;if(n===0)return[];for(var o=[],a=r[0],s=[a],l=1;l<n;l++){var h=r[l];e.equals(h,a)?s.push(h):(o.push(s),a=h,s=[a])}return o.push(s),o}}var groupBy=function(e){return function(r){for(var n={},o=0,a=r;o<a.length;o++){var s=a[o],l=e(s);has$2.call(n,l)?n[l].push(s):n[l]=[s]}return n}},sort$1=function(e){return function(r){return r.slice().sort(e.compare)}},insertAt$2=function(e,r){return function(n){return e<0||e>n.length?none$1:some$5(unsafeInsertAt$1(e,r,n))}},updateAt$2=function(e,r){return modifyAt$2(e,function(){return r})},modifyAt$2=function(e,r){return function(n){return isOutOfBound$2(e,n)?none$1:some$5(unsafeUpdateAt$1(e,r(n[e]),n))}},copy$1=fromReadonlyNonEmptyArray,of$2=function(e){return[e]},zipWith$1=function(e,r,n){for(var o=[n(e[0],r[0])],a=Math.min(e.length,r.length),s=1;s<a;s++)o[s]=n(e[s],r[s]);return o};function zip$1(e,r){return r===void 0?function(n){return zip$1(n,e)}:zipWith$1(e,r,function(n,o){return[n,o]})}var unzip$1=function(e){for(var r=[e[0][0]],n=[e[0][1]],o=1;o<e.length;o++)r[o]=e[o][0],n[o]=e[o][1];return[r,n]},prependAll$1=function(e){return function(r){for(var n=[e,r[0]],o=1;o<r.length;o++)n.push(e,r[o]);return n}},intersperse$1=function(e){return function(r){var n=tail$1(r);return isNonEmpty$2(n)?pipe$1(n,prependAll$1(e),prepend$1(head$2(r))):copy$1(r)}},foldMapWithIndex$5=foldMapWithIndex$6,foldMap$6=foldMap$7,chainWithIndex$1=function(e){return function(r){for(var n=fromReadonlyNonEmptyArray(e(0,head$2(r))),o=1;o<r.length;o++)n.push.apply(n,e(o,r[o]));return n}},chop$1=function(e){return function(r){for(var n=e(r),o=n[0],a=n[1],s=[o],l=a;isNonEmpty$2(l);){var h=e(l),v=h[0],x=h[1];s.push(v),l=x}return s}},splitAt$1=function(e){return function(r){var n=Math.max(1,e);return n>=r.length?[copy$1(r),[]]:[pipe$1(r.slice(1,n),prepend$1(head$2(r))),r.slice(n)]}},chunksOf$1=function(e){return chop$1(splitAt$1(e))},_map$4=function(e,r){return pipe$1(e,map$5(r))},_mapWithIndex$3=function(e,r){return pipe$1(e,mapWithIndex$4(r))},_ap$2=function(e,r){return pipe$1(e,ap$3(r))},_chain$2=function(e,r){return pipe$1(e,chain$3(r))},_extend$2=function(e,r){return pipe$1(e,extend$4(r))},_reduce$4=function(e,r,n){return pipe$1(e,reduce$6(r,n))},_foldMap$4=function(e){var r=foldMap$6(e);return function(n,o){return pipe$1(n,r(o))}},_reduceRight$4=function(e,r,n){return pipe$1(e,reduceRight$6(r,n))},_traverse$4=function(e){var r=traverse$4(e);return function(n,o){return pipe$1(n,r(o))}},_alt$2=function(e,r){return pipe$1(e,alt$3(r))},_reduceWithIndex$3=function(e,r,n){return pipe$1(e,reduceWithIndex$5(r,n))},_foldMapWithIndex$3=function(e){var r=foldMapWithIndex$5(e);return function(n,o){return pipe$1(n,r(o))}},_reduceRightWithIndex$3=function(e,r,n){return pipe$1(e,reduceRightWithIndex$5(r,n))},_traverseWithIndex$3=function(e){var r=traverseWithIndex$3(e);return function(n,o){return pipe$1(n,r(o))}},altW$2=function(e){return function(r){return pipe$1(r,concatW$1(e()))}},alt$3=altW$2,ap$3=function(e){return chain$3(function(r){return pipe$1(e,map$5(r))})},chain$3=function(e){return chainWithIndex$1(function(r,n){return e(n)})},extend$4=function(e){return function(r){for(var n=tail$1(r),o=[e(r)];isNonEmpty$2(n);)o.push(e(n)),n=tail$1(n);return o}},duplicate$2=extend$4(identity$1),flatten$2=chain$3(identity$1),map$5=function(e){return mapWithIndex$4(function(r,n){return e(n)})},mapWithIndex$4=function(e){return function(r){for(var n=[e(0,head$2(r))],o=1;o<r.length;o++)n.push(e(o,r[o]));return n}},reduce$6=reduce$7,reduceWithIndex$5=reduceWithIndex$6,reduceRight$6=reduceRight$7,reduceRightWithIndex$5=reduceRightWithIndex$6,traverse$4=function(e){var r=traverseWithIndex$3(e);return function(n){return r(function(o,a){return n(a)})}},sequence$4=function(e){return traverseWithIndex$3(e)(function(r,n){return n})},traverseWithIndex$3=function(e){return function(r){return function(n){for(var o=e.map(r(0,head$2(n)),of$2),a=1;a<n.length;a++)o=e.ap(e.map(o,function(s){return function(l){return pipe$1(s,append$1(l))}}),r(a,n[a]));return o}}},extract=head$3,URI$3="NonEmptyArray",getShow$5=getShow$6,getSemigroup$1=function(){return{concat:concat$1}},getEq$5=getEq$6,getUnionSemigroup$2=function(e){var r=union$3(e);return{concat:function(n,o){return r(o)(n)}}},Functor$3={URI:URI$3,map:_map$4},flap$3=flap$6(Functor$3),Pointed$2={URI:URI$3,of:of$2},FunctorWithIndex$2={URI:URI$3,map:_map$4,mapWithIndex:_mapWithIndex$3},Apply$2={URI:URI$3,map:_map$4,ap:_ap$2},apFirst$2=apFirst$5(Apply$2),apSecond$2=apSecond$5(Apply$2),Applicative$2={URI:URI$3,map:_map$4,ap:_ap$2,of:of$2},Chain$2={URI:URI$3,map:_map$4,ap:_ap$2,chain:_chain$2},chainFirst$2=chainFirst$5(Chain$2),Monad$2={URI:URI$3,map:_map$4,ap:_ap$2,of:of$2,chain:_chain$2},Foldable$3={URI:URI$3,reduce:_reduce$4,foldMap:_foldMap$4,reduceRight:_reduceRight$4},FoldableWithIndex$2={URI:URI$3,reduce:_reduce$4,foldMap:_foldMap$4,reduceRight:_reduceRight$4,reduceWithIndex:_reduceWithIndex$3,foldMapWithIndex:_foldMapWithIndex$3,reduceRightWithIndex:_reduceRightWithIndex$3},Traversable$3={URI:URI$3,map:_map$4,reduce:_reduce$4,foldMap:_foldMap$4,reduceRight:_reduceRight$4,traverse:_traverse$4,sequence:sequence$4},TraversableWithIndex$2={URI:URI$3,map:_map$4,mapWithIndex:_mapWithIndex$3,reduce:_reduce$4,foldMap:_foldMap$4,reduceRight:_reduceRight$4,traverse:_traverse$4,sequence:sequence$4,reduceWithIndex:_reduceWithIndex$3,foldMapWithIndex:_foldMapWithIndex$3,reduceRightWithIndex:_reduceRightWithIndex$3,traverseWithIndex:_traverseWithIndex$3},Alt$2={URI:URI$3,map:_map$4,alt:_alt$2},Comonad={URI:URI$3,map:_map$4,extend:_extend$2,extract},Do$2=of$2(emptyRecord),bindTo$2=bindTo$5(Functor$3),let_$2=let_$5(Functor$3),bind$5=bind$8(Chain$2),apS$2=apS$5(Apply$2),head$2=head$3,tail$1=function(e){return e.slice(1)},last$2=last$3,init$1=function(e){return e.slice(0,-1)},min=min$1,max=max$1,concatAll=function(e){return function(r){return r.reduce(e.concat)}},matchLeft$1=function(e){return function(r){return e(head$2(r),tail$1(r))}},matchRight$1=function(e){return function(r){return e(init$1(r),last$2(r))}},modifyHead=function(e){return function(r){return __spreadArray$1([e(head$2(r))],tail$1(r),!0)}},updateHead=function(e){return modifyHead(function(){return e})},modifyLast=function(e){return function(r){return pipe$1(init$1(r),append$1(e(last$2(r))))}},updateLast=function(e){return modifyLast(function(){return e})},intercalate$2=intercalate$3;function groupSort(e){var r=sort$1(e),n=group(e);return function(o){return isNonEmpty$2(o)?n(r(o)):[]}}function filter$5(e){return filterWithIndex$4(function(r,n){return e(n)})}var filterWithIndex$4=function(e){return function(r){return fromArray(r.filter(function(n,o){return e(o,n)}))}},uncons=unprepend,unsnoc=unappend;function cons$1(e,r){return r===void 0?prepend$1(e):pipe$1(r,prepend$1(e))}var snoc$1=function(e,r){return pipe$1(e,append$1(r))},prependToAll$1=prependAll$1,fold$1=concatAll$1,nonEmptyArray={URI:URI$3,of:of$2,map:_map$4,mapWithIndex:_mapWithIndex$3,ap:_ap$2,chain:_chain$2,extend:_extend$2,extract,reduce:_reduce$4,foldMap:_foldMap$4,reduceRight:_reduceRight$4,traverse:_traverse$4,sequence:sequence$4,reduceWithIndex:_reduceWithIndex$3,foldMapWithIndex:_foldMapWithIndex$3,reduceRightWithIndex:_reduceRightWithIndex$3,traverseWithIndex:_traverseWithIndex$3,alt:_alt$2};const NonEmptyArray=Object.freeze(Object.defineProperty({__proto__:null,Alt:Alt$2,Applicative:Applicative$2,Apply:Apply$2,Chain:Chain$2,Comonad,Do:Do$2,Foldable:Foldable$3,FoldableWithIndex:FoldableWithIndex$2,Functor:Functor$3,FunctorWithIndex:FunctorWithIndex$2,Monad:Monad$2,Pointed:Pointed$2,Traversable:Traversable$3,TraversableWithIndex:TraversableWithIndex$2,URI:URI$3,alt:alt$3,altW:altW$2,ap:ap$3,apFirst:apFirst$2,apS:apS$2,apSecond:apSecond$2,append:append$1,appendW:appendW$1,bind:bind$5,bindTo:bindTo$2,chain:chain$3,chainFirst:chainFirst$2,chainWithIndex:chainWithIndex$1,chop:chop$1,chunksOf:chunksOf$1,concat:concat$1,concatAll,concatW:concatW$1,cons:cons$1,copy:copy$1,duplicate:duplicate$2,extend:extend$4,extract,filter:filter$5,filterWithIndex:filterWithIndex$4,flap:flap$3,flatten:flatten$2,fold:fold$1,foldMap:foldMap$6,foldMapWithIndex:foldMapWithIndex$5,fromArray,fromReadonlyNonEmptyArray,getEq:getEq$5,getSemigroup:getSemigroup$1,getShow:getShow$5,getUnionSemigroup:getUnionSemigroup$2,group,groupBy,groupSort,head:head$2,init:init$1,insertAt:insertAt$2,intercalate:intercalate$2,intersperse:intersperse$1,isNonEmpty:isNonEmpty$2,isOutOfBound:isOutOfBound$2,last:last$2,let:let_$2,makeBy:makeBy$1,map:map$5,mapWithIndex:mapWithIndex$4,matchLeft:matchLeft$1,matchRight:matchRight$1,max,min,modifyAt:modifyAt$2,modifyHead,modifyLast,nonEmptyArray,of:of$2,prepend:prepend$1,prependAll:prependAll$1,prependToAll:prependToAll$1,prependW:prependW$1,range:range$1,reduce:reduce$6,reduceRight:reduceRight$6,reduceRightWithIndex:reduceRightWithIndex$5,reduceWithIndex:reduceWithIndex$5,replicate:replicate$1,reverse:reverse$1,rotate:rotate$1,sequence:sequence$4,snoc:snoc$1,sort:sort$1,sortBy:sortBy$1,splitAt:splitAt$1,tail:tail$1,traverse:traverse$4,traverseWithIndex:traverseWithIndex$3,unappend,uncons,union:union$3,uniq:uniq$1,unprepend,unsafeInsertAt:unsafeInsertAt$1,unsafeUpdateAt:unsafeUpdateAt$1,unsnoc,unzip:unzip$1,updateAt:updateAt$2,updateHead,updateLast,zip:zip$1,zipWith:zipWith$1},Symbol.toStringTag,{value:"Module"}));var Eq$1={equals:function(e,r){return e===r}},Ord$1={equals:Eq$1.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};function guard$2(e,r){return function(n){return n?r.of(void 0):e.zero()}}var __spreadArray=globalThis&&globalThis.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var o=0,a=r.length,s;o<a;o++)(s||!(o in r))&&(s||(s=Array.prototype.slice.call(r,0,o)),s[o]=r[o]);return e.concat(s||Array.prototype.slice.call(r))},isNonEmpty$1=isNonEmpty$3,matchW$2=function(e,r){return function(n){return isNonEmpty$1(n)?r(n):e()}},match$2=matchW$2,isOutOfBound$1=isOutOfBound$3;function lookup$3(e,r){return r===void 0?function(n){return lookup$3(e,n)}:isOutOfBound$1(e,r)?none$1:some$5(r[e])}var head$1=function(e){return isNonEmpty$1(e)?some$5(head$3(e)):none$1},last$1=function(e){return isNonEmpty$1(e)?some$5(last$3(e)):none$1},findIndex$1=function(e){return function(r){for(var n=0;n<r.length;n++)if(e(r[n]))return some$5(n);return none$1}};function findFirst$1(e){return function(r){for(var n=0;n<r.length;n++)if(e(r[n]))return some$5(r[n]);return none$1}}var findFirstMap$1=function(e){return function(r){for(var n=0;n<r.length;n++){var o=e(r[n]);if(isSome$2(o))return o}return none$1}};function findLast$1(e){return function(r){for(var n=r.length-1;n>=0;n--)if(e(r[n]))return some$5(r[n]);return none$1}}var findLastMap$1=function(e){return function(r){for(var n=r.length-1;n>=0;n--){var o=e(r[n]);if(isSome$2(o))return o}return none$1}},findLastIndex$1=function(e){return function(r){for(var n=r.length-1;n>=0;n--)if(e(r[n]))return some$5(n);return none$1}};function elem$4(e){return function(r,n){if(n===void 0){var o=elem$4(e);return function(l){return o(r,l)}}for(var a=function(l){return e.equals(l,r)},s=0;s<n.length;s++)if(a(n[s]))return!0;return!1}}var _chainRecDepthFirst$1=function(e,r){return pipe$1(e,chainRecDepthFirst$1(r))},_chainRecBreadthFirst$1=function(e,r){return pipe$1(e,chainRecBreadthFirst$1(r))},foldMapWithIndex$4=function(e){return function(r){return function(n){return n.reduce(function(o,a,s){return e.concat(o,r(s,a))},e.empty)}}},reduce$5=function(e,r){return reduceWithIndex$4(e,function(n,o,a){return r(o,a)})},foldMap$5=function(e){var r=foldMapWithIndex$4(e);return function(n){return r(function(o,a){return n(a)})}},reduceWithIndex$4=function(e,r){return function(n){for(var o=n.length,a=e,s=0;s<o;s++)a=r(s,a,n[s]);return a}},reduceRight$5=function(e,r){return reduceRightWithIndex$4(e,function(n,o,a){return r(o,a)})},reduceRightWithIndex$4=function(e,r){return function(n){return n.reduceRight(function(o,a,s){return r(s,a,o)},e)}},getShow$4=function(e){return{show:function(r){return"[".concat(r.map(e.show).join(", "),"]")}}},getEq$4=function(e){return fromEquals(function(r,n){return r.length===n.length&&r.every(function(o,a){return e.equals(o,n[a])})})},getOrd$2=function(e){return fromCompare(function(r,n){for(var o=r.length,a=n.length,s=Math.min(o,a),l=0;l<s;l++){var h=e.compare(r[l],n[l]);if(h!==0)return h}return Ord$1.compare(o,a)})},chainRecDepthFirst$1=function(e){return function(r){for(var n=__spreadArray([],e(r),!0),o=[];n.length>0;){var a=n.shift();isLeft$2(a)?n.unshift.apply(n,e(a.left)):o.push(a.right)}return o}},chainRecBreadthFirst$1=function(e){return function(r){var n=e(r),o=[],a=[];function s(x){isLeft$2(x)?e(x.left).forEach(function(M){return o.push(M)}):a.push(x.right)}for(var l=0,h=n;l<h.length;l++){var v=h[l];s(v)}for(;o.length>0;)s(o.shift());return a}};function every$3(e){return function(r){return r.every(e)}}var intercalate$1=function(e){var r=intercalate$3(e);return function(n){return match$2(function(){return e.empty},r(n))}},isEmpty$2=function(e){return e.length===0},isNonEmpty=isNonEmpty$2,prepend=prepend$1,prependW=prependW$1,append=append$1,appendW=appendW$1,makeBy=function(e,r){return e<=0?[]:makeBy$1(r)(e)},replicate=function(e,r){return makeBy(e,function(){return r})};function fromPredicate$1(e){return function(r){return e(r)?[r]:[]}}var fromOption=function(e){return isNone$2(e)?[]:[e.value]},fromEither$1=function(e){return isLeft$2(e)?[]:[e.right]},matchW$1=function(e,r){return function(n){return isNonEmpty(n)?r(n):e()}},match$1=matchW$1,matchLeftW=function(e,r){return function(n){return isNonEmpty(n)?r(head$2(n),tail$1(n)):e()}},matchLeft=matchLeftW,foldLeft=matchLeft,matchRightW=function(e,r){return function(n){return isNonEmpty(n)?r(init$1(n),last$2(n)):e()}},matchRight=matchRightW,foldRight=matchRight,chainWithIndex=function(e){return function(r){for(var n=[],o=0;o<r.length;o++)n.push.apply(n,e(o,r[o]));return n}},scanLeft=function(e,r){return function(n){var o=n.length,a=new Array(o+1);a[0]=e;for(var s=0;s<o;s++)a[s+1]=r(a[s],n[s]);return a}},scanRight=function(e,r){return function(n){var o=n.length,a=new Array(o+1);a[o]=e;for(var s=o-1;s>=0;s--)a[s]=r(n[s],a[s+1]);return a}},size$2=function(e){return e.length},isOutOfBound=isOutOfBound$2,lookup$2=lookup$3,head=head$1,last=last$1,tail=function(e){return isNonEmpty(e)?some$5(tail$1(e)):none$1},init=function(e){return isNonEmpty(e)?some$5(init$1(e)):none$1},takeLeft=function(e){return function(r){return isOutOfBound(e,r)?copy(r):r.slice(0,e)}},takeRight=function(e){return function(r){return isOutOfBound(e,r)?copy(r):e===0?[]:r.slice(-e)}};function takeLeftWhile(e){return function(r){for(var n=[],o=0,a=r;o<a.length;o++){var s=a[o];if(!e(s))break;n.push(s)}return n}}var spanLeftIndex=function(e,r){for(var n=e.length,o=0;o<n&&r(e[o]);o++);return o};function spanLeft(e){return function(r){var n=splitAt(spanLeftIndex(r,e))(r),o=n[0],a=n[1];return{init:o,rest:a}}}var dropLeft=function(e){return function(r){return e<=0||isEmpty$2(r)?copy(r):e>=r.length?[]:r.slice(e,r.length)}},dropRight=function(e){return function(r){return e<=0||isEmpty$2(r)?copy(r):e>=r.length?[]:r.slice(0,r.length-e)}};function dropLeftWhile(e){return function(r){return r.slice(spanLeftIndex(r,e))}}var findIndex=findIndex$1;function findFirst(e){return findFirst$1(e)}var findFirstMap=findFirstMap$1;function findLast(e){return findLast$1(e)}var findLastMap=findLastMap$1,findLastIndex=findLastIndex$1,copy=function(e){return e.slice()},insertAt$1=function(e,r){return function(n){return e<0||e>n.length?none$1:some$5(unsafeInsertAt(e,r,n))}},updateAt$1=function(e,r){return modifyAt$1(e,function(){return r})},deleteAt$1=function(e){return function(r){return isOutOfBound(e,r)?none$1:some$5(unsafeDeleteAt(e,r))}},modifyAt$1=function(e,r){return function(n){return isOutOfBound(e,n)?none$1:some$5(unsafeUpdateAt(e,r(n[e]),n))}},reverse=function(e){return isEmpty$2(e)?[]:e.slice().reverse()},rights=function(e){for(var r=[],n=0;n<e.length;n++){var o=e[n];o._tag==="Right"&&r.push(o.right)}return r},lefts=function(e){for(var r=[],n=0;n<e.length;n++){var o=e[n];o._tag==="Left"&&r.push(o.left)}return r},sort=function(e){return function(r){return r.length<=1?copy(r):r.slice().sort(e.compare)}},zipWith=function(e,r,n){for(var o=[],a=Math.min(e.length,r.length),s=0;s<a;s++)o[s]=n(e[s],r[s]);return o};function zip(e,r){return r===void 0?function(n){return zip(n,e)}:zipWith(e,r,function(n,o){return[n,o]})}var unzip=function(e){for(var r=[],n=[],o=0;o<e.length;o++)r[o]=e[o][0],n[o]=e[o][1];return[r,n]},prependAll=function(e){var r=prependAll$1(e);return function(n){return isNonEmpty(n)?r(n):[]}},intersperse=function(e){var r=intersperse$1(e);return function(n){return isNonEmpty(n)?r(n):copy(n)}},rotate=function(e){var r=rotate$1(e);return function(n){return isNonEmpty(n)?r(n):copy(n)}},elem$3=elem$4,uniq=function(e){var r=uniq$1(e);return function(n){return isNonEmpty(n)?r(n):copy(n)}},sortBy=function(e){var r=sortBy$1(e);return function(n){return isNonEmpty(n)?r(n):copy(n)}},chop=function(e){var r=chop$1(e);return function(n){return isNonEmpty(n)?r(n):[]}},splitAt=function(e){return function(r){return e>=1&&isNonEmpty(r)?splitAt$1(e)(r):isEmpty$2(r)?[copy(r),[]]:[[],copy(r)]}},chunksOf=function(e){var r=chunksOf$1(e);return function(n){return isNonEmpty(n)?r(n):[]}},fromOptionK=function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return fromOption(e.apply(void 0,r))}};function comprehension(e,r,n){n===void 0&&(n=function(){return!0});var o=function(a,s){return isNonEmpty(s)?pipe$1(head$2(s),chain$2(function(l){return o(pipe$1(a,append(l)),tail$1(s))})):n.apply(void 0,a)?[r.apply(void 0,a)]:[]};return o([],e)}var concatW=function(e){return function(r){return isEmpty$2(r)?copy(e):isEmpty$2(e)?copy(r):r.concat(e)}},concat=concatW;function union$2(e){var r=union$3(e);return function(n,o){if(o===void 0){var a=union$2(e);return function(s){return a(s,n)}}return isNonEmpty(n)&&isNonEmpty(o)?r(o)(n):isNonEmpty(n)?copy(n):copy(o)}}function intersection$2(e){var r=elem$3(e);return function(n,o){if(o===void 0){var a=intersection$2(e);return function(s){return a(s,n)}}return n.filter(function(s){return r(s,o)})}}function difference$2(e){var r=elem$3(e);return function(n,o){if(o===void 0){var a=difference$2(e);return function(s){return a(s,n)}}return n.filter(function(s){return!r(s,o)})}}var _map$3=function(e,r){return pipe$1(e,map$4(r))},_mapWithIndex$2=function(e,r){return pipe$1(e,mapWithIndex$3(r))},_ap$1=function(e,r){return pipe$1(e,ap$2(r))},_chain$1=function(e,r){return pipe$1(e,chain$2(r))},_filter$3=function(e,r){return pipe$1(e,filter$4(r))},_filterMap$3=function(e,r){return pipe$1(e,filterMap$4(r))},_partition$3=function(e,r){return pipe$1(e,partition$4(r))},_partitionMap$3=function(e,r){return pipe$1(e,partitionMap$4(r))},_partitionWithIndex$2=function(e,r){return pipe$1(e,partitionWithIndex$3(r))},_partitionMapWithIndex$2=function(e,r){return pipe$1(e,partitionMapWithIndex$3(r))},_alt$1=function(e,r){return pipe$1(e,alt$2(r))},_reduce$3=function(e,r,n){return pipe$1(e,reduce$4(r,n))},_foldMap$3=function(e){var r=foldMap$4(e);return function(n,o){return pipe$1(n,r(o))}},_reduceRight$3=function(e,r,n){return pipe$1(e,reduceRight$4(r,n))},_reduceWithIndex$2=function(e,r,n){return pipe$1(e,reduceWithIndex$3(r,n))},_foldMapWithIndex$2=function(e){var r=foldMapWithIndex$3(e);return function(n,o){return pipe$1(n,r(o))}},_reduceRightWithIndex$2=function(e,r,n){return pipe$1(e,reduceRightWithIndex$3(r,n))},_filterMapWithIndex$2=function(e,r){return pipe$1(e,filterMapWithIndex$3(r))},_filterWithIndex$2=function(e,r){return pipe$1(e,filterWithIndex$3(r))},_extend$1=function(e,r){return pipe$1(e,extend$3(r))},_traverse$3=function(e){var r=traverse$3(e);return function(n,o){return pipe$1(n,r(o))}},_traverseWithIndex$2=function(e){var r=traverseWithIndex$2(e);return function(n,o){return pipe$1(n,r(o))}},_chainRecDepthFirst=_chainRecDepthFirst$1,_chainRecBreadthFirst=_chainRecBreadthFirst$1,of$1=of$2,zero$1=function(){return[]},map$4=function(e){return function(r){return r.map(function(n){return e(n)})}},ap$2=function(e){return chain$2(function(r){return pipe$1(e,map$4(r))})},chain$2=function(e){return function(r){return pipe$1(r,chainWithIndex(function(n,o){return e(o)}))}},flatten$1=chain$2(identity$1),mapWithIndex$3=function(e){return function(r){return r.map(function(n,o){return e(o,n)})}},filterMapWithIndex$3=function(e){return function(r){for(var n=[],o=0;o<r.length;o++){var a=e(o,r[o]);isSome$2(a)&&n.push(a.value)}return n}},filterMap$4=function(e){return filterMapWithIndex$3(function(r,n){return e(n)})},compact$3=filterMap$4(identity$1),separate$3=function(e){for(var r=[],n=[],o=0,a=e;o<a.length;o++){var s=a[o];s._tag==="Left"?r.push(s.left):n.push(s.right)}return separated(r,n)},filter$4=function(e){return function(r){return r.filter(e)}},partition$4=function(e){return partitionWithIndex$3(function(r,n){return e(n)})},partitionWithIndex$3=function(e){return function(r){for(var n=[],o=[],a=0;a<r.length;a++){var s=r[a];e(a,s)?o.push(s):n.push(s)}return separated(n,o)}},partitionMap$4=function(e){return partitionMapWithIndex$3(function(r,n){return e(n)})},partitionMapWithIndex$3=function(e){return function(r){for(var n=[],o=[],a=0;a<r.length;a++){var s=e(a,r[a]);s._tag==="Left"?n.push(s.left):o.push(s.right)}return separated(n,o)}},altW$1=function(e){return function(r){return r.concat(e())}},alt$2=altW$1,filterWithIndex$3=function(e){return function(r){return r.filter(function(n,o){return e(o,n)})}},extend$3=function(e){return function(r){return r.map(function(n,o){return e(r.slice(o))})}},duplicate$1=extend$3(identity$1),foldMap$4=foldMap$5,foldMapWithIndex$3=foldMapWithIndex$4,reduce$4=reduce$5,reduceWithIndex$3=reduceWithIndex$4,reduceRight$4=reduceRight$5,reduceRightWithIndex$3=reduceRightWithIndex$4,traverse$3=function(e){var r=traverseWithIndex$2(e);return function(n){return r(function(o,a){return n(a)})}},sequence$3=function(e){return function(r){return _reduce$3(r,e.of(zero$1()),function(n,o){return e.ap(e.map(n,function(a){return function(s){return pipe$1(a,append(s))}}),o)})}},traverseWithIndex$2=function(e){return function(r){return reduceWithIndex$3(e.of(zero$1()),function(n,o,a){return e.ap(e.map(o,function(s){return function(l){return pipe$1(s,append(l))}}),r(n,a))})}},wither$2=function(e){var r=_wither$2(e);return function(n){return function(o){return r(o,n)}}},wilt$2=function(e){var r=_wilt$2(e);return function(n){return function(o){return r(o,n)}}},unfold=function(e,r){for(var n=[],o=e;;){var a=r(o);if(isSome$2(a)){var s=a.value,l=s[0],h=s[1];n.push(l),o=h}else break}return n},URI$2="Array",getShow$3=getShow$4,getSemigroup=function(){return{concat:function(e,r){return e.concat(r)}}},getMonoid$3=function(){return{concat:getSemigroup().concat,empty:[]}},getEq$3=getEq$4,getOrd$1=getOrd$2,getUnionSemigroup$1=function(e){var r=union$2(e);return{concat:function(n,o){return r(o)(n)}}},getUnionMonoid$1=function(e){return{concat:getUnionSemigroup$1(e).concat,empty:[]}},getIntersectionSemigroup$1=function(e){var r=intersection$2(e);return{concat:function(n,o){return r(o)(n)}}},getDifferenceMagma$1=function(e){var r=difference$2(e);return{concat:function(n,o){return r(o)(n)}}},Functor$2={URI:URI$2,map:_map$3},flap$2=flap$6(Functor$2),Pointed$1={URI:URI$2,of:of$1},FunctorWithIndex$1={URI:URI$2,map:_map$3,mapWithIndex:_mapWithIndex$2},Apply$1={URI:URI$2,map:_map$3,ap:_ap$1},apFirst$1=apFirst$5(Apply$1),apSecond$1=apSecond$5(Apply$1),Applicative$1={URI:URI$2,map:_map$3,ap:_ap$1,of:of$1},Chain$1={URI:URI$2,map:_map$3,ap:_ap$1,chain:_chain$1},chainFirst$1=chainFirst$5(Chain$1),Monad$1={URI:URI$2,map:_map$3,ap:_ap$1,of:of$1,chain:_chain$1},Unfoldable={URI:URI$2,unfold},Alt$1={URI:URI$2,map:_map$3,alt:_alt$1},Zero$1={URI:URI$2,zero:zero$1},guard$1=guard$2(Zero$1,Pointed$1),Alternative$1={URI:URI$2,map:_map$3,ap:_ap$1,of:of$1,alt:_alt$1,zero:zero$1},Extend$1={URI:URI$2,map:_map$3,extend:_extend$1},Compactable$2={URI:URI$2,compact:compact$3,separate:separate$3},Filterable$2={URI:URI$2,map:_map$3,compact:compact$3,separate:separate$3,filter:_filter$3,filterMap:_filterMap$3,partition:_partition$3,partitionMap:_partitionMap$3},FilterableWithIndex$1={URI:URI$2,map:_map$3,mapWithIndex:_mapWithIndex$2,compact:compact$3,separate:separate$3,filter:_filter$3,filterMap:_filterMap$3,partition:_partition$3,partitionMap:_partitionMap$3,partitionMapWithIndex:_partitionMapWithIndex$2,partitionWithIndex:_partitionWithIndex$2,filterMapWithIndex:_filterMapWithIndex$2,filterWithIndex:_filterWithIndex$2},Foldable$2={URI:URI$2,reduce:_reduce$3,foldMap:_foldMap$3,reduceRight:_reduceRight$3},FoldableWithIndex$1={URI:URI$2,reduce:_reduce$3,foldMap:_foldMap$3,reduceRight:_reduceRight$3,reduceWithIndex:_reduceWithIndex$2,foldMapWithIndex:_foldMapWithIndex$2,reduceRightWithIndex:_reduceRightWithIndex$2},Traversable$2={URI:URI$2,map:_map$3,reduce:_reduce$3,foldMap:_foldMap$3,reduceRight:_reduceRight$3,traverse:_traverse$3,sequence:sequence$3},TraversableWithIndex$1={URI:URI$2,map:_map$3,mapWithIndex:_mapWithIndex$2,reduce:_reduce$3,foldMap:_foldMap$3,reduceRight:_reduceRight$3,reduceWithIndex:_reduceWithIndex$2,foldMapWithIndex:_foldMapWithIndex$2,reduceRightWithIndex:_reduceRightWithIndex$2,traverse:_traverse$3,sequence:sequence$3,traverseWithIndex:_traverseWithIndex$2},_wither$2=witherDefault$1(Traversable$2,Compactable$2),_wilt$2=wiltDefault$1(Traversable$2,Compactable$2),Witherable$2={URI:URI$2,map:_map$3,compact:compact$3,separate:separate$3,filter:_filter$3,filterMap:_filterMap$3,partition:_partition$3,partitionMap:_partitionMap$3,reduce:_reduce$3,foldMap:_foldMap$3,reduceRight:_reduceRight$3,traverse:_traverse$3,sequence:sequence$3,wither:_wither$2,wilt:_wilt$2},chainRecDepthFirst=chainRecDepthFirst$1,ChainRecDepthFirst={URI:URI$2,map:_map$3,ap:_ap$1,chain:_chain$1,chainRec:_chainRecDepthFirst},chainRecBreadthFirst=chainRecBreadthFirst$1,ChainRecBreadthFirst={URI:URI$2,map:_map$3,ap:_ap$1,chain:_chain$1,chainRec:_chainRecBreadthFirst},filterE=filterE$2(Witherable$2),FromEither$1={URI:URI$2,fromEither:fromEither$1},fromEitherK$1=fromEitherK$3(FromEither$1),unsafeInsertAt=unsafeInsertAt$1,unsafeUpdateAt=function(e,r,n){return isNonEmpty(n)?unsafeUpdateAt$1(e,r,n):[]},unsafeDeleteAt=function(e,r){var n=r.slice();return n.splice(e,1),n},every$2=every$3,some$3=function(e){return function(r){return r.some(e)}},exists$1=some$3,intercalate=intercalate$1,Do$1=of$1(emptyRecord),bindTo$1=bindTo$5(Functor$2),let_$1=let_$5(Functor$2),bind$4=bind$8(Chain$1),apS$1=apS$5(Apply$1),range=range$1,empty$2=[],cons=cons$1,snoc=snoc$1,prependToAll=prependAll,array={URI:URI$2,compact:compact$3,separate:separate$3,map:_map$3,ap:_ap$1,of:of$1,chain:_chain$1,filter:_filter$3,filterMap:_filterMap$3,partition:_partition$3,partitionMap:_partitionMap$3,mapWithIndex:_mapWithIndex$2,partitionMapWithIndex:_partitionMapWithIndex$2,partitionWithIndex:_partitionWithIndex$2,filterMapWithIndex:_filterMapWithIndex$2,filterWithIndex:_filterWithIndex$2,alt:_alt$1,zero:zero$1,unfold,reduce:_reduce$3,foldMap:_foldMap$3,reduceRight:_reduceRight$3,traverse:_traverse$3,sequence:sequence$3,reduceWithIndex:_reduceWithIndex$2,foldMapWithIndex:_foldMapWithIndex$2,reduceRightWithIndex:_reduceRightWithIndex$2,traverseWithIndex:_traverseWithIndex$2,extend:_extend$1,wither:_wither$2,wilt:_wilt$2};const _Array=Object.freeze(Object.defineProperty({__proto__:null,Alt:Alt$1,Alternative:Alternative$1,Applicative:Applicative$1,Apply:Apply$1,Chain:Chain$1,ChainRecBreadthFirst,ChainRecDepthFirst,Compactable:Compactable$2,Do:Do$1,Extend:Extend$1,Filterable:Filterable$2,FilterableWithIndex:FilterableWithIndex$1,Foldable:Foldable$2,FoldableWithIndex:FoldableWithIndex$1,FromEither:FromEither$1,Functor:Functor$2,FunctorWithIndex:FunctorWithIndex$1,Monad:Monad$1,Pointed:Pointed$1,Traversable:Traversable$2,TraversableWithIndex:TraversableWithIndex$1,URI:URI$2,Unfoldable,Witherable:Witherable$2,Zero:Zero$1,alt:alt$2,altW:altW$1,ap:ap$2,apFirst:apFirst$1,apS:apS$1,apSecond:apSecond$1,append,appendW,array,bind:bind$4,bindTo:bindTo$1,chain:chain$2,chainFirst:chainFirst$1,chainRecBreadthFirst,chainRecDepthFirst,chainWithIndex,chop,chunksOf,compact:compact$3,comprehension,concat,concatW,cons,copy,deleteAt:deleteAt$1,difference:difference$2,dropLeft,dropLeftWhile,dropRight,duplicate:duplicate$1,elem:elem$3,empty:empty$2,every:every$2,exists:exists$1,extend:extend$3,filter:filter$4,filterE,filterMap:filterMap$4,filterMapWithIndex:filterMapWithIndex$3,filterWithIndex:filterWithIndex$3,findFirst,findFirstMap,findIndex,findLast,findLastIndex,findLastMap,flap:flap$2,flatten:flatten$1,foldLeft,foldMap:foldMap$4,foldMapWithIndex:foldMapWithIndex$3,foldRight,fromEither:fromEither$1,fromEitherK:fromEitherK$1,fromOption,fromOptionK,fromPredicate:fromPredicate$1,getDifferenceMagma:getDifferenceMagma$1,getEq:getEq$3,getIntersectionSemigroup:getIntersectionSemigroup$1,getMonoid:getMonoid$3,getOrd:getOrd$1,getSemigroup,getShow:getShow$3,getUnionMonoid:getUnionMonoid$1,getUnionSemigroup:getUnionSemigroup$1,guard:guard$1,head,init,insertAt:insertAt$1,intercalate,intersection:intersection$2,intersperse,isEmpty:isEmpty$2,isNonEmpty,isOutOfBound,last,lefts,let:let_$1,lookup:lookup$2,makeBy,map:map$4,mapWithIndex:mapWithIndex$3,match:match$1,matchLeft,matchLeftW,matchRight,matchRightW,matchW:matchW$1,modifyAt:modifyAt$1,of:of$1,partition:partition$4,partitionMap:partitionMap$4,partitionMapWithIndex:partitionMapWithIndex$3,partitionWithIndex:partitionWithIndex$3,prepend,prependAll,prependToAll,prependW,range,reduce:reduce$4,reduceRight:reduceRight$4,reduceRightWithIndex:reduceRightWithIndex$3,reduceWithIndex:reduceWithIndex$3,replicate,reverse,rights,rotate,scanLeft,scanRight,separate:separate$3,sequence:sequence$3,size:size$2,snoc,some:some$3,sort,sortBy,spanLeft,splitAt,tail,takeLeft,takeLeftWhile,takeRight,traverse:traverse$3,traverseWithIndex:traverseWithIndex$2,unfold,union:union$2,uniq,unsafeDeleteAt,unsafeInsertAt,unsafeUpdateAt,unzip,updateAt:updateAt$1,wilt:wilt$2,wither:wither$2,zero:zero$1,zip,zipWith},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(_Array),require$$1=getAugmentedNamespace(Either$1),require$$2=getAugmentedNamespace(NonEmptyArray);var not=function(e){return function(r){return!e(r)}},none=none$1,some$2=some$5;function fromPredicate(e){return function(r){return e(r)?some$2(r):none}}var getLeft=function(e){return e._tag==="Right"?none:some$2(e.left)},getRight=function(e){return e._tag==="Left"?none:some$2(e.right)},_map$2=function(e,r){return pipe$1(e,map$3(r))},_ap=function(e,r){return pipe$1(e,ap$1(r))},_chain=function(e,r){return pipe$1(e,chain$1(r))},_reduce$2=function(e,r,n){return pipe$1(e,reduce$3(r,n))},_foldMap$2=function(e){var r=foldMap$3(e);return function(n,o){return pipe$1(n,r(o))}},_reduceRight$2=function(e,r,n){return pipe$1(e,reduceRight$3(r,n))},_traverse$2=function(e){var r=traverse$2(e);return function(n,o){return pipe$1(n,r(o))}},_alt=function(e,r){return pipe$1(e,alt$1(r))},_filter$2=function(e,r){return pipe$1(e,filter$3(r))},_filterMap$2=function(e,r){return pipe$1(e,filterMap$3(r))},_extend=function(e,r){return pipe$1(e,extend$2(r))},_partition$2=function(e,r){return pipe$1(e,partition$3(r))},_partitionMap$2=function(e,r){return pipe$1(e,partitionMap$3(r))},URI$1="Option",getShow$2=function(e){return{show:function(r){return isNone(r)?"none":"some(".concat(e.show(r.value),")")}}},getEq$2=function(e){return{equals:function(r,n){return r===n||(isNone(r)?isNone(n):isNone(n)?!1:e.equals(r.value,n.value))}}},getOrd=function(e){return{equals:getEq$2(e).equals,compare:function(r,n){return r===n?0:isSome(r)?isSome(n)?e.compare(r.value,n.value):1:-1}}},getMonoid$2=function(e){return{concat:function(r,n){return isNone(r)?n:isNone(n)?r:some$2(e.concat(r.value,n.value))},empty:none}},map$3=function(e){return function(r){return isNone(r)?none:some$2(e(r.value))}},Functor$1={URI:URI$1,map:_map$2},of=some$2,Pointed={URI:URI$1,of},ap$1=function(e){return function(r){return isNone(r)||isNone(e)?none:some$2(r.value(e.value))}},Apply={URI:URI$1,map:_map$2,ap:_ap},Applicative={URI:URI$1,map:_map$2,ap:_ap,of},chain$1=function(e){return function(r){return isNone(r)?none:e(r.value)}},Chain={URI:URI$1,map:_map$2,ap:_ap,chain:_chain},Monad={URI:URI$1,map:_map$2,ap:_ap,of,chain:_chain},reduce$3=function(e,r){return function(n){return isNone(n)?e:r(e,n.value)}},foldMap$3=function(e){return function(r){return function(n){return isNone(n)?e.empty:r(n.value)}}},reduceRight$3=function(e,r){return function(n){return isNone(n)?e:r(n.value,e)}},Foldable$1={URI:URI$1,reduce:_reduce$2,foldMap:_foldMap$2,reduceRight:_reduceRight$2},altW=function(e){return function(r){return isNone(r)?e():r}},alt$1=altW,Alt={URI:URI$1,map:_map$2,alt:_alt},zero=function(){return none},Zero={URI:URI$1,zero},guard=guard$2(Zero,Pointed),Alternative={URI:URI$1,map:_map$2,ap:_ap,of,alt:_alt,zero},extend$2=function(e){return function(r){return isNone(r)?none:some$2(e(r))}},Extend={URI:URI$1,map:_map$2,extend:_extend},compact$2=chain$1(identity$1),defaultSeparated=separated(none,none),separate$2=function(e){return isNone(e)?defaultSeparated:separated(getLeft(e.value),getRight(e.value))},Compactable$1={URI:URI$1,compact:compact$2,separate:separate$2},filter$3=function(e){return function(r){return isNone(r)?none:e(r.value)?r:none}},filterMap$3=function(e){return function(r){return isNone(r)?none:e(r.value)}},partition$3=function(e){return function(r){return separated(_filter$2(r,not(e)),_filter$2(r,e))}},partitionMap$3=function(e){return flow(map$3(e),separate$2)},Filterable$1={URI:URI$1,map:_map$2,compact:compact$2,separate:separate$2,filter:_filter$2,filterMap:_filterMap$2,partition:_partition$2,partitionMap:_partitionMap$2},traverse$2=function(e){return function(r){return function(n){return isNone(n)?e.of(none):e.map(r(n.value),some$2)}}},sequence$2=function(e){return function(r){return isNone(r)?e.of(none):e.map(r.value,some$2)}},Traversable$1={URI:URI$1,map:_map$2,reduce:_reduce$2,foldMap:_foldMap$2,reduceRight:_reduceRight$2,traverse:_traverse$2,sequence:sequence$2},_wither$1=witherDefault$1(Traversable$1,Compactable$1),_wilt$1=wiltDefault$1(Traversable$1,Compactable$1),wither$1=function(e){var r=_wither$1(e);return function(n){return function(o){return r(o,n)}}},wilt$1=function(e){var r=_wilt$1(e);return function(n){return function(o){return r(o,n)}}},Witherable$1={URI:URI$1,map:_map$2,reduce:_reduce$2,foldMap:_foldMap$2,reduceRight:_reduceRight$2,traverse:_traverse$2,sequence:sequence$2,compact:compact$2,separate:separate$2,filter:_filter$2,filterMap:_filterMap$2,partition:_partition$2,partitionMap:_partitionMap$2,wither:_wither$1,wilt:_wilt$1},throwError=function(){return none},MonadThrow={URI:URI$1,map:_map$2,ap:_ap,of,chain:_chain,throwError},fromEither=getRight,FromEither={URI:URI$1,fromEither},isSome=isSome$2,isNone=function(e){return e._tag==="None"},matchW=function(e,r){return function(n){return isNone(n)?e():r(n.value)}},foldW=matchW,match=matchW,fold=match,getOrElseW=function(e){return function(r){return isNone(r)?e():r.value}},getOrElse=getOrElseW,flap$1=flap$6(Functor$1),apFirst=apFirst$5(Apply),apSecond=apSecond$5(Apply),flatten=compact$2,chainFirst=chainFirst$5(Chain),duplicate=extend$2(identity$1),fromEitherK=fromEitherK$3(FromEither),chainEitherK=chainEitherK$2(FromEither,Chain),chainFirstEitherK=chainFirstEitherK$2(FromEither,Chain),fromNullable=function(e){return e==null?none:some$2(e)},tryCatch=function(e){try{return some$2(e())}catch{return none}},tryCatchK=function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return tryCatch(function(){return e.apply(void 0,r)})}},fromNullableK=function(e){return flow(e,fromNullable)},chainNullableK=function(e){return function(r){return isNone(r)?none:fromNullable(e(r.value))}},toNullable=match(constNull,identity$1),toUndefined=match(constUndefined,identity$1);function elem$2(e){return function(r,n){if(n===void 0){var o=elem$2(e);return function(a){return o(r,a)}}return isNone(n)?!1:e.equals(r,n.value)}}var exists=function(e){return function(r){return isNone(r)?!1:e(r.value)}},Do=of(emptyRecord),bindTo=bindTo$5(Functor$1),let_=let_$5(Functor$1),bind$3=bind$8(Chain),apS=apS$5(Apply),ApT=of(emptyReadonlyArray),traverseReadonlyNonEmptyArrayWithIndex=function(e){return function(r){var n=e(0,head$5(r));if(isNone(n))return none;for(var o=[n.value],a=1;a<r.length;a++){var s=e(a,r[a]);if(isNone(s))return none;o.push(s.value)}return some$2(o)}},traverseReadonlyArrayWithIndex=function(e){var r=traverseReadonlyNonEmptyArrayWithIndex(e);return function(n){return isNonEmpty$6(n)?r(n):ApT}},traverseArrayWithIndex=traverseReadonlyArrayWithIndex,traverseArray=function(e){return traverseReadonlyArrayWithIndex(function(r,n){return e(n)})},sequenceArray=traverseArray(identity$1);function getRefinement(e){return function(r){return isSome(e(r))}}var mapNullable=chainNullableK,option={URI:URI$1,map:_map$2,of,ap:_ap,chain:_chain,reduce:_reduce$2,foldMap:_foldMap$2,reduceRight:_reduceRight$2,traverse:_traverse$2,sequence:sequence$2,zero,alt:_alt,extend:_extend,compact:compact$2,separate:separate$2,filter:_filter$2,filterMap:_filterMap$2,partition:_partition$2,partitionMap:_partitionMap$2,wither:_wither$1,wilt:_wilt$1,throwError},getApplySemigroup=getApplySemigroup$3(Apply),getApplyMonoid=getApplicativeMonoid$1(Applicative),getFirstMonoid=function(){return getMonoid$2(first())},getLastMonoid=function(){return getMonoid$2(last$4())};const Option=Object.freeze(Object.defineProperty({__proto__:null,Alt,Alternative,ApT,Applicative,Apply,Chain,Compactable:Compactable$1,Do,Extend,Filterable:Filterable$1,Foldable:Foldable$1,FromEither,Functor:Functor$1,Monad,MonadThrow,Pointed,Traversable:Traversable$1,URI:URI$1,Witherable:Witherable$1,Zero,alt:alt$1,altW,ap:ap$1,apFirst,apS,apSecond,bind:bind$3,bindTo,chain:chain$1,chainEitherK,chainFirst,chainFirstEitherK,chainNullableK,compact:compact$2,duplicate,elem:elem$2,exists,extend:extend$2,filter:filter$3,filterMap:filterMap$3,flap:flap$1,flatten,fold,foldMap:foldMap$3,foldW,fromEither,fromEitherK,fromNullable,fromNullableK,fromPredicate,getApplyMonoid,getApplySemigroup,getEq:getEq$2,getFirstMonoid,getLastMonoid,getLeft,getMonoid:getMonoid$2,getOrElse,getOrElseW,getOrd,getRefinement,getRight,getShow:getShow$2,guard,isNone,isSome,let:let_,map:map$3,mapNullable,match,matchW,none,of,option,partition:partition$3,partitionMap:partitionMap$3,reduce:reduce$3,reduceRight:reduceRight$3,separate:separate$2,sequence:sequence$2,sequenceArray,some:some$2,throwError,toNullable,toUndefined,traverse:traverse$2,traverseArray,traverseArrayWithIndex,traverseReadonlyArrayWithIndex,traverseReadonlyNonEmptyArrayWithIndex,tryCatch,tryCatchK,wilt:wilt$1,wither:wither$1,zero},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(Option);var Eq={equals:function(e,r){return e===r}},Ord={equals:Eq.equals,compare:function(e,r){return e<r?-1:e>r?1:0}},size$1=function(e){return Object.keys(e).length},isEmpty$1=function(e){for(var r in e)if(has$2.call(e,r))return!1;return!0},keys_$1=function(e){return function(r){return Object.keys(r).sort(e.compare)}};function collect$1(e){if(typeof e=="function")return collect$1(Ord)(e);var r=keys_$1(e);return function(n){return function(o){for(var a=[],s=0,l=r(o);s<l.length;s++){var h=l[s];a.push(n(h,o[h]))}return a}}}var upsertAt$1=function(e,r){return function(n){if(has$2.call(n,e)&&n[e]===r)return n;var o=Object.assign({},n);return o[e]=r,o}},has$1=function(e,r){return has$2.call(r,e)};function isSubrecord$1(e){return function(r,n){if(n===void 0){var o=isSubrecord$1(e);return function(s){return o(s,r)}}for(var a in r)if(!has$2.call(n,a)||!e.equals(r[a],n[a]))return!1;return!0}}function lookup$1(e,r){return r===void 0?function(n){return lookup$1(e,n)}:has$2.call(r,e)?some$5(r[e]):none$1}var empty$1={};function mapWithIndex$2(e){return function(r){var n={};for(var o in r)has$2.call(r,o)&&(n[o]=e(o,r[o]));return n}}function map$2(e){return mapWithIndex$2(function(r,n){return e(n)})}function reduceWithIndex$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===2)return reduceWithIndex$2(Ord).apply(void 0,e);var n=keys_$1(e[0]);return function(o,a){return function(s){for(var l=o,h=n(s),v=h.length,x=0;x<v;x++){var M=h[x];l=a(M,l,s[M])}return l}}}function foldMapWithIndex$2(e){if("compare"in e){var r=keys_$1(e);return function(n){return function(o){return function(a){for(var s=n.empty,l=r(a),h=l.length,v=0;v<h;v++){var x=l[v];s=n.concat(s,o(x,a[x]))}return s}}}}return foldMapWithIndex$2(Ord)(e)}function reduceRightWithIndex$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===2)return reduceRightWithIndex$2(Ord).apply(void 0,e);var n=keys_$1(e[0]);return function(o,a){return function(s){for(var l=o,h=n(s),v=h.length,x=v-1;x>=0;x--){var M=h[x];l=a(M,s[M],l)}return l}}}var singleton$1=function(e,r){var n;return n={},n[e]=r,n};function traverseWithIndex$1(e){var r=_traverseWithIndex$1(Ord)(e);return function(n){return function(o){return r(o,n)}}}function traverse$1(e){var r=_traverse$1(Ord)(e);return function(n){return function(o){return r(o,n)}}}function sequence$1(e){return _sequence$1(Ord)(e)}function partitionMapWithIndex$2(e){return function(r){var n={},o={};for(var a in r)if(has$2.call(r,a)){var s=e(a,r[a]);switch(s._tag){case"Left":n[a]=s.left;break;case"Right":o[a]=s.right;break}}return separated(n,o)}}function partitionWithIndex$2(e){return function(r){var n={},o={};for(var a in r)if(has$2.call(r,a)){var s=r[a];e(a,s)?o[a]=s:n[a]=s}return separated(n,o)}}function filterMapWithIndex$2(e){return function(r){var n={};for(var o in r)if(has$2.call(r,o)){var a=e(o,r[o]);isSome$2(a)&&(n[o]=a.value)}return n}}function filterWithIndex$2(e){return function(r){var n={},o=!1;for(var a in r)if(has$2.call(r,a)){var s=r[a];e(a,s)?n[a]=s:o=!0}return o?n:r}}function fromFoldable$1(e,r){var n=fromFoldableMap$1(e,r);return function(o){return n(o,identity$1)}}function fromFoldableMap$1(e,r){return function(n,o){return r.reduce(n,{},function(a,s){var l=o(s),h=l[0],v=l[1];return a[h]=has$2.call(a,h)?e.concat(a[h],v):v,a})}}function every$1(e){return function(r){for(var n in r)if(!e(r[n]))return!1;return!0}}function some$1(e){return function(r){for(var n in r)if(e(r[n]))return!0;return!1}}function elem$1(e){return function(r,n){if(n===void 0){var o=elem$1(e);return function(s){return o(r,s)}}for(var a in n)if(e.equals(n[a],r))return!0;return!1}}var union$1=function(e){return function(r){return function(n){if(isEmpty$1(n))return r;if(isEmpty$1(r))return n;var o={};for(var a in n)has$1(a,r)?o[a]=e.concat(n[a],r[a]):o[a]=n[a];for(var a in r)has$1(a,o)||(o[a]=r[a]);return o}}},intersection$1=function(e){return function(r){return function(n){if(isEmpty$1(n)||isEmpty$1(r))return empty$1;var o={};for(var a in n)has$1(a,r)&&(o[a]=e.concat(n[a],r[a]));return o}}},difference$1=function(e){return function(r){if(isEmpty$1(r))return e;if(isEmpty$1(e))return r;var n={};for(var o in r)has$1(o,e)||(n[o]=r[o]);for(var o in e)has$1(o,r)||(n[o]=e[o]);return n}},_map$1=function(e,r){return pipe$1(e,map$2(r))},_mapWithIndex$1=function(e,r){return pipe$1(e,mapWithIndex$2(r))},_reduce$1=function(e){var r=reduce$2(e);return function(n,o,a){return pipe$1(n,r(o,a))}},_foldMap$1=function(e){return function(r){var n=foldMap$2(e)(r);return function(o,a){return pipe$1(o,n(a))}}},_reduceRight$1=function(e){var r=reduceRight$2(e);return function(n,o,a){return pipe$1(n,r(o,a))}},_filter$1=function(e,r){return pipe$1(e,filter$2(r))},_filterMap$1=function(e,r){return pipe$1(e,filterMap$2(r))},_partition$1=function(e,r){return pipe$1(e,partition$2(r))},_partitionMap$1=function(e,r){return pipe$1(e,partitionMap$2(r))},_reduceWithIndex$1=function(e){var r=reduceWithIndex$2(e);return function(n,o,a){return pipe$1(n,r(o,a))}},_foldMapWithIndex$1=function(e){var r=foldMapWithIndex$2(e);return function(n){var o=r(n);return function(a,s){return pipe$1(a,o(s))}}},_reduceRightWithIndex$1=function(e){var r=reduceRightWithIndex$2(e);return function(n,o,a){return pipe$1(n,r(o,a))}},_partitionMapWithIndex$1=function(e,r){return pipe$1(e,partitionMapWithIndex$2(r))},_partitionWithIndex$1=function(e,r){return pipe$1(e,partitionWithIndex$2(r))},_filterMapWithIndex$1=function(e,r){return pipe$1(e,filterMapWithIndex$2(r))},_filterWithIndex$1=function(e,r){return pipe$1(e,filterWithIndex$2(r))},_traverse$1=function(e){var r=_traverseWithIndex$1(e);return function(n){var o=r(n);return function(a,s){return o(a,flow(SK,s))}}},_sequence$1=function(e){var r=_traverse$1(e);return function(n){var o=r(n);return function(a){return o(a,identity$1)}}},_traverseWithIndex$1=function(e){return function(r){var n=keys_$1(e);return function(o,a){var s=n(o);if(s.length===0)return r.of(empty$1);for(var l=r.of({}),h=function(P){l=r.ap(r.map(l,function(j){return function(V){var ee;return Object.assign({},j,(ee={},ee[P]=V,ee))}}),a(P,o[P]))},v=0,x=s;v<x.length;v++){var M=x[v];h(M)}return l}}},filter$2=function(e){return filterWithIndex$2(function(r,n){return e(n)})},filterMap$2=function(e){return filterMapWithIndex$2(function(r,n){return e(n)})},partition$2=function(e){return partitionWithIndex$2(function(r,n){return e(n)})},partitionMap$2=function(e){return partitionMapWithIndex$2(function(r,n){return e(n)})};function reduce$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===1){var n=reduceWithIndex$2(e[0]);return function(o,a){return n(o,function(s,l,h){return a(l,h)})}}return reduce$2(Ord).apply(void 0,e)}function foldMap$2(e){if("compare"in e){var r=foldMapWithIndex$2(e);return function(n){var o=r(n);return function(a){return o(function(s,l){return a(l)})}}}return foldMap$2(Ord)(e)}function reduceRight$2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===1){var n=reduceRightWithIndex$2(e[0]);return function(o,a){return n(o,function(s,l,h){return a(l,h)})}}return reduceRight$2(Ord).apply(void 0,e)}var compact$1=function(e){var r={};for(var n in e)if(has$2.call(e,n)){var o=e[n];isSome$2(o)&&(r[n]=o.value)}return r},separate$1=function(e){var r={},n={};for(var o in e)if(has$2.call(e,o)){var a=e[o];isLeft$2(a)?r[o]=a.left:n[o]=a.right}return separated(r,n)};function getShow$1(e){return"compare"in e?function(r){return{show:function(n){var o=collect$1(e)(function(a,s){return"".concat(JSON.stringify(a),": ").concat(r.show(s))})(n).join(", ");return o===""?"{}":"{ ".concat(o," }")}}}:getShow$1(Ord)(e)}function getEq$1(e){var r=isSubrecord$1(e);return fromEquals(function(n,o){return r(n)(o)&&r(o)(n)})}function getMonoid$1(e){return{concat:function(r,n){if(isEmpty$1(r))return n;if(isEmpty$1(n))return r;var o=Object.assign({},r);for(var a in n)has$2.call(n,a)&&(o[a]=has$2.call(r,a)?e.concat(r[a],n[a]):n[a]);return o},empty:empty$1}}function hasOwnProperty$1(e,r){return has$2.call(r===void 0?this:r,e)}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},__assign.apply(this,arguments)},size=size$1,isEmpty=isEmpty$1,keys_=function(e){return function(r){return Object.keys(r).sort(e.compare)}},keys=keys_(Ord);function collect(e){if(typeof e=="function")return collect(Ord)(e);var r=keys_(e);return function(n){return function(o){for(var a=[],s=0,l=r(o);s<l.length;s++){var h=l[s];a.push(n(h,o[h]))}return a}}}var toArray=collect(Ord)(function(e,r){return[e,r]});function toUnfoldable(e){return function(r){var n=toArray(r),o=n.length;return e.unfold(0,function(a){return a<o?some$5([n[a],a+1]):none$1})}}var upsertAt=upsertAt$1,has=has$1;function deleteAt(e){return function(r){if(!has$2.call(r,e))return r;var n=Object.assign({},r);return delete n[e],n}}var updateAt=function(e,r){return modifyAt(e,function(){return r})},modifyAt=function(e,r){return function(n){if(!has(e,n))return none$1;var o=Object.assign({},n);return o[e]=r(n[e]),some$5(o)}};function pop(e){var r=deleteAt(e);return function(n){var o=lookup(e,n);return isNone$2(o)?none$1:some$5([o.value,r(n)])}}var isSubrecord=isSubrecord$1,lookup=lookup$1,mapWithIndex$1=mapWithIndex$2,map$1=map$2;function reduceWithIndex$1(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===1?reduceWithIndex$2(e[0]):reduceWithIndex$2(Ord).apply(void 0,e)}function foldMapWithIndex$1(e){return"compare"in e?foldMapWithIndex$2(e):foldMapWithIndex$2(Ord)(e)}function reduceRightWithIndex$1(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===1?reduceRightWithIndex$2(e[0]):reduceRightWithIndex$2(Ord).apply(void 0,e)}var singleton=singleton$1;function traverseWithIndex(e){return traverseWithIndex$1(e)}function traverse(e){return traverse$1(e)}function sequence(e){return sequence$1(e)}var wither=function(e){var r=traverse(e);return function(n){return function(o){return e.map(pipe$1(o,r(n)),compact)}}},wilt=function(e){var r=traverse(e);return function(n){return function(o){return e.map(pipe$1(o,r(n)),separate)}}},partitionMapWithIndex$1=partitionMapWithIndex$2;function partitionWithIndex$1(e){return partitionWithIndex$2(e)}var filterMapWithIndex$1=filterMapWithIndex$2;function filterWithIndex$1(e){return filterWithIndex$2(e)}function fromFoldable(e,r){return fromFoldable$1(e,r)}var toEntries=toArray,fromEntries=function(e){return fromFoldable(last$4(),Foldable$2)(e)};function fromFoldableMap(e,r){return fromFoldableMap$1(e,r)}var every=every$1,some=some$1,elem=elem$1,union=function(e){var r=union$1(e);return function(n){return function(o){return isEmpty(o)?__assign({},n):isEmpty(n)?__assign({},o):r(n)(o)}}},intersection=function(e){return function(r){return function(n){return isEmpty(n)||isEmpty(r)?{}:intersection$1(e)(r)(n)}}},difference=function(e){return function(r){return isEmpty(r)?__assign({},e):isEmpty(e)?__assign({},r):difference$1(e)(r)}},_map=_map$1,_mapWithIndex=_mapWithIndex$1,_reduce=_reduce$1,_foldMap=_foldMap$1,_reduceRight=_reduceRight$1,_filter=_filter$1,_filterMap=_filterMap$1,_partition=_partition$1,_partitionMap=_partitionMap$1,_reduceWithIndex=_reduceWithIndex$1,_foldMapWithIndex=_foldMapWithIndex$1,_reduceRightWithIndex=_reduceRightWithIndex$1,_partitionMapWithIndex=_partitionMapWithIndex$1,_partitionWithIndex=_partitionWithIndex$1,_filterMapWithIndex=_filterMapWithIndex$1,_filterWithIndex=_filterWithIndex$1,_traverse=_traverse$1,_sequence=_sequence$1,_traverseWithIndex=function(e){return function(r){var n=keys_(e);return function(o,a){var s=n(o);if(s.length===0)return r.of({});for(var l=r.of({}),h=function(P){l=r.ap(r.map(l,function(j){return function(V){return j[P]=V,j}}),a(P,o[P]))},v=0,x=s;v<x.length;v++){var M=x[v];h(M)}return l}}},filter$1=filter$2,filterMap$1=filterMap$2,partition$1=partition$2,partitionMap$1=partitionMap$2;function reduce$1(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===1?reduce$2(e[0]):reduce$2(Ord).apply(void 0,e)}function foldMap$1(e){return"compare"in e?foldMap$2(e):foldMap$2(Ord)(e)}function reduceRight$1(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===1?reduceRight$2(e[0]):reduceRight$2(Ord).apply(void 0,e)}var compact=compact$1,separate=separate$1,URI="Record";function getShow(e){return"compare"in e?getShow$1(e):getShow$1(Ord)(e)}var getEq=getEq$1,getMonoid=getMonoid$1,Functor={URI,map:_map},flap=flap$6(Functor),FunctorWithIndex={URI,map:_map,mapWithIndex:_mapWithIndex},getFoldable=function(e){return{URI,reduce:_reduce(e),foldMap:_foldMap(e),reduceRight:_reduceRight(e)}},getFoldableWithIndex=function(e){return{URI,reduce:_reduce(e),foldMap:_foldMap(e),reduceRight:_reduceRight(e),reduceWithIndex:_reduceWithIndex(e),foldMapWithIndex:_foldMapWithIndex(e),reduceRightWithIndex:_reduceRightWithIndex(e)}},Compactable={URI,compact,separate},Filterable={URI,map:_map,compact,separate,filter:_filter,filterMap:_filterMap,partition:_partition,partitionMap:_partitionMap},FilterableWithIndex={URI,map:_map,mapWithIndex:_mapWithIndex,compact,separate,filter:_filter,filterMap:_filterMap,partition:_partition,partitionMap:_partitionMap,filterMapWithIndex:_filterMapWithIndex,filterWithIndex:_filterWithIndex,partitionMapWithIndex:_partitionMapWithIndex,partitionWithIndex:_partitionWithIndex},getTraversable=function(e){return{URI,map:_map,reduce:_reduce(e),foldMap:_foldMap(e),reduceRight:_reduceRight(e),traverse:_traverse(e),sequence:_sequence(e)}},getTraversableWithIndex=function(e){return{URI,map:_map,mapWithIndex:_mapWithIndex,reduce:_reduce(e),foldMap:_foldMap(e),reduceRight:_reduceRight(e),reduceWithIndex:_reduceWithIndex(e),foldMapWithIndex:_foldMapWithIndex(e),reduceRightWithIndex:_reduceRightWithIndex(e),traverse:_traverse(e),sequence:_sequence(e),traverseWithIndex:_traverseWithIndex(e)}},getWitherable=function(e){var r=getTraversable(e);return{URI,map:_map,reduce:_reduce(e),foldMap:_foldMap(e),reduceRight:_reduceRight(e),traverse:r.traverse,sequence:r.sequence,compact,separate,filter:_filter,filterMap:_filterMap,partition:_partition,partitionMap:_partitionMap,wither:witherDefault$1(r,Compactable),wilt:wiltDefault$1(r,Compactable)}},getUnionSemigroup=function(e){var r=union(e);return{concat:function(n,o){return r(o)(n)}}},getUnionMonoid=function(e){return{concat:getUnionSemigroup(e).concat,empty:{}}},getIntersectionSemigroup=function(e){var r=intersection(e);return{concat:function(n,o){return r(o)(n)}}},getDifferenceMagma=function(){return{concat:function(e,r){return difference(r)(e)}}},Foldable={URI,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord)},FoldableWithIndex={URI,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord),reduceWithIndex:_reduceWithIndex(Ord),foldMapWithIndex:_foldMapWithIndex(Ord),reduceRightWithIndex:_reduceRightWithIndex(Ord)},Traversable={URI,map:_map,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord),traverse:_traverse(Ord),sequence},TraversableWithIndex={URI,map:_map,mapWithIndex:_mapWithIndex,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord),reduceWithIndex:_reduceWithIndex(Ord),foldMapWithIndex:_foldMapWithIndex(Ord),reduceRightWithIndex:_reduceRightWithIndex(Ord),traverse:_traverse(Ord),sequence,traverseWithIndex:_traverseWithIndex(Ord)},_wither=witherDefault$1(Traversable,Compactable),_wilt=wiltDefault$1(Traversable,Compactable),Witherable={URI,map:_map,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord),traverse:_traverse(Ord),sequence,compact,separate,filter:_filter,filterMap:_filterMap,partition:_partition,partitionMap:_partitionMap,wither:_wither,wilt:_wilt},empty={},insertAt=upsertAt,hasOwnProperty=hasOwnProperty$1,record={URI,map:_map,reduce:_reduce(Ord),foldMap:_foldMap(Ord),reduceRight:_reduceRight(Ord),traverse:_traverse(Ord),sequence,compact,separate,filter:_filter,filterMap:_filterMap,partition:_partition,partitionMap:_partitionMap,mapWithIndex:_mapWithIndex,reduceWithIndex:_reduceWithIndex(Ord),foldMapWithIndex:_foldMapWithIndex(Ord),reduceRightWithIndex:_reduceRightWithIndex(Ord),filterMapWithIndex:_filterMapWithIndex,filterWithIndex:_filterWithIndex,partitionMapWithIndex:_partitionMapWithIndex,partitionWithIndex:_partitionWithIndex,traverseWithIndex:_traverseWithIndex(Ord),wither:_wither,wilt:_wilt};const Record=Object.freeze(Object.defineProperty({__proto__:null,Compactable,Filterable,FilterableWithIndex,Foldable,FoldableWithIndex,Functor,FunctorWithIndex,Traversable,TraversableWithIndex,URI,Witherable,collect,compact,deleteAt,difference,elem,empty,every,filter:filter$1,filterMap:filterMap$1,filterMapWithIndex:filterMapWithIndex$1,filterWithIndex:filterWithIndex$1,flap,foldMap:foldMap$1,foldMapWithIndex:foldMapWithIndex$1,fromEntries,fromFoldable,fromFoldableMap,getDifferenceMagma,getEq,getFoldable,getFoldableWithIndex,getIntersectionSemigroup,getMonoid,getShow,getTraversable,getTraversableWithIndex,getUnionMonoid,getUnionSemigroup,getWitherable,has,hasOwnProperty,insertAt,intersection,isEmpty,isSubrecord,keys,lookup,map:map$1,mapWithIndex:mapWithIndex$1,modifyAt,partition:partition$1,partitionMap:partitionMap$1,partitionMapWithIndex:partitionMapWithIndex$1,partitionWithIndex:partitionWithIndex$1,pop,record,reduce:reduce$1,reduceRight:reduceRight$1,reduceRightWithIndex:reduceRightWithIndex$1,reduceWithIndex:reduceWithIndex$1,separate,sequence,singleton,size,some,toArray,toEntries,toUnfoldable,traverse,traverseWithIndex,union,updateAt,upsertAt,wilt,wither},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(Record);function map(e){return function(r){return function(n){return e.map(n,r)}}}function contramap(e){return function(r){return function(n){return e.contramap(n,r)}}}function mapWithIndex(e){return function(r){return function(n){return e.mapWithIndex(n,r)}}}function ap(e){return function(r){return function(n){return e.ap(n,r)}}}function chain(e){return function(r){return function(n){return e.chain(n,r)}}}function bimap(e){return function(r,n){return function(o){return e.bimap(o,r,n)}}}function mapLeft(e){return function(r){return function(n){return e.mapLeft(n,r)}}}function extend$1(e){return function(r){return function(n){return e.extend(n,r)}}}function reduce(e){return function(r,n){return function(o){return e.reduce(o,r,n)}}}function foldMap(e){return function(r){var n=e.foldMap(r);return function(o){return function(a){return n(a,o)}}}}function reduceRight(e){return function(r,n){return function(o){return e.reduceRight(o,r,n)}}}function reduceWithIndex(e){return function(r,n){return function(o){return e.reduceWithIndex(o,r,n)}}}function foldMapWithIndex(e){return function(r){var n=e.foldMapWithIndex(r);return function(o){return function(a){return n(a,o)}}}}function reduceRightWithIndex(e){return function(r,n){return function(o){return e.reduceRightWithIndex(o,r,n)}}}function alt(e){return function(r){return function(n){return e.alt(n,r)}}}function filter(e){return function(r){return function(n){return e.filter(n,r)}}}function filterMap(e){return function(r){return function(n){return e.filterMap(n,r)}}}function partition(e){return function(r){return function(n){return e.partition(n,r)}}}function partitionMap(e){return function(r){return function(n){return e.partitionMap(n,r)}}}function filterWithIndex(e){return function(r){return function(n){return e.filterWithIndex(n,r)}}}function filterMapWithIndex(e){return function(r){return function(n){return e.filterMapWithIndex(n,r)}}}function partitionWithIndex(e){return function(r){return function(n){return e.partitionWithIndex(n,r)}}}function partitionMapWithIndex(e){return function(r){return function(n){return e.partitionMapWithIndex(n,r)}}}function promap(e){return function(r,n){return function(o){return e.promap(o,r,n)}}}function compose(e){return function(r){return function(n){return e.compose(n,r)}}}var isFunctor=function(e){return typeof e.map=="function"},isContravariant=function(e){return typeof e.contramap=="function"},isFunctorWithIndex=function(e){return typeof e.mapWithIndex=="function"},isApply=function(e){return typeof e.ap=="function"},isChain=function(e){return typeof e.chain=="function"},isBifunctor=function(e){return typeof e.bimap=="function"},isExtend=function(e){return typeof e.extend=="function"},isFoldable=function(e){return typeof e.reduce=="function"},isFoldableWithIndex=function(e){return typeof e.reduceWithIndex=="function"},isAlt=function(e){return typeof e.alt=="function"},isCompactable=function(e){return typeof e.compact=="function"},isFilterable=function(e){return typeof e.filter=="function"},isFilterableWithIndex=function(e){return typeof e.filterWithIndex=="function"},isProfunctor=function(e){return typeof e.promap=="function"},isSemigroupoid=function(e){return typeof e.compose=="function"},isMonadThrow=function(e){return typeof e.throwError=="function"};function pipeable(e){var r={};if(isFunctor(e)&&(r.map=map(e)),isContravariant(e)&&(r.contramap=contramap(e)),isFunctorWithIndex(e)&&(r.mapWithIndex=mapWithIndex(e)),isApply(e)&&(r.ap=ap(e),r.apFirst=apFirst$5(e),r.apSecond=apSecond$5(e)),isChain(e)&&(r.chain=chain(e),r.chainFirst=chainFirst$5(e),r.flatten=r.chain(identity$1)),isBifunctor(e)&&(r.bimap=bimap(e),r.mapLeft=mapLeft(e)),isExtend(e)&&(r.extend=extend$1(e),r.duplicate=r.extend(identity$1)),isFoldable(e)&&(r.reduce=reduce(e),r.foldMap=foldMap(e),r.reduceRight=reduceRight(e)),isFoldableWithIndex(e)&&(r.reduceWithIndex=reduceWithIndex(e),r.foldMapWithIndex=foldMapWithIndex(e),r.reduceRightWithIndex=reduceRightWithIndex(e)),isAlt(e)&&(r.alt=alt(e)),isCompactable(e)&&(r.compact=e.compact,r.separate=e.separate),isFilterable(e)&&(r.filter=filter(e),r.filterMap=filterMap(e),r.partition=partition(e),r.partitionMap=partitionMap(e)),isFilterableWithIndex(e)&&(r.filterWithIndex=filterWithIndex(e),r.filterMapWithIndex=filterMapWithIndex(e),r.partitionWithIndex=partitionWithIndex(e),r.partitionMapWithIndex=partitionMapWithIndex(e)),isProfunctor(e)&&(r.promap=promap(e)),isSemigroupoid(e)&&(r.compose=compose(e)),isMonadThrow(e)){var n=function(l){return function(h){return h._tag==="None"?e.throwError(l()):e.of(h.value)}},o=function(l){return l._tag==="Left"?e.throwError(l.left):e.of(l.right)},a=function(l,h){return function(v){return l(v)?e.of(v):e.throwError(h(v))}},s=function(l,h){return function(v){return e.chain(v,function(x){return l(x)?e.of(x):e.throwError(h(x))})}};r.fromOption=n,r.fromEither=o,r.fromPredicate=a,r.filterOrElse=s}return r}var pipe=pipe$1;const pipeable$1=Object.freeze(Object.defineProperty({__proto__:null,alt,ap,bimap,chain,compose,contramap,extend:extend$1,filter,filterMap,filterMapWithIndex,filterWithIndex,foldMap,foldMapWithIndex,map,mapLeft,mapWithIndex,partition,partitionMap,partitionMapWithIndex,partitionWithIndex,pipe,pipeable,promap,reduce,reduceRight,reduceRightWithIndex,reduceWithIndex},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(pipeable$1);var utils$9={};Object.defineProperty(utils$9,"__esModule",{value:!0});utils$9.takeUntil=void 0;var takeUntil=function(e){return function(r){for(var n=[],o=0;o<r.length;o++)if(n[o]=r[o],e(r[o]))return n;return n}};utils$9.takeUntil=takeUntil;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reporter=e.formatValidationErrors=e.formatValidationError=e.TYPE_MAX_LEN=void 0;var r=require$$0,n=require$$1,o=require$$2,a=require$$3,s=require$$4,l=require$$5,h=require$$1$1,v=utils$9,x=function(E){var u=E.type;return u instanceof h.UnionType},M=function(E){return E===void 0?"undefined":JSON.stringify(E)},P=function(E){return E.map(function(u){return u.key}).filter(Boolean).join(".")},j=function(E){return r.last(E.context)},V=function(E){return E.context};e.TYPE_MAX_LEN=160;var ee=function(E,u){u===void 0&&(u={});var d=u.truncateLongTypes,c=d===void 0?!0:d;return c&&E.length>e.TYPE_MAX_LEN?E.slice(0,e.TYPE_MAX_LEN-3)+"...":E},se=function(E,u,d,c){return["Expecting "+ee(E,c),u===""?"":"at "+u,"but instead got: "+M(d.value),d.message?"("+d.message+")":""].filter(Boolean).join(" ")},Q=function(E,u,d,c){return[`Expecting one of:
`,E.map(function(g){return"    "+ee(g,c)}).join(`
`),u===""?`
`:`
at `+u+" ","but instead got: "+M(d)].filter(Boolean).join("")},$e=function(E){return l.pipe(E,r.findIndex(x),a.chain(function(u){return r.lookup(u+1,E)}))},Ie=function(E,u,d){var c=l.pipe(u,r.map(V),r.map($e),r.compact),g=l.pipe(c,r.head,a.map(function(w){return w.actual}),a.getOrElse(function(){})),m=c.map(function(w){var S=w.type;return S.name});return m.length>0?a.some(Q(m,E,g,d)):a.none},ye=function(E,u,d){return l.pipe(u,j,a.map(function(c){return se(c.type.name,E,u,d)}))},G=o.groupBy(function(E){return l.pipe(E.context,v.takeUntil(x),P)}),J=function(E,u,d){return o.tail(u).length>0?Ie(E,u,d):ye(E,o.head(u),d)},le=function(E,u){return ye(P(E.context),E,u)};e.formatValidationError=le;var ae=function(E,u){return l.pipe(E,G,s.mapWithIndex(function(d,c){return J(d,c,u)}),s.compact,s.toArray,r.map(function(d){d[0];var c=d[1];return c}))};e.formatValidationErrors=ae;var H=function(E,u){return l.pipe(E,n.mapLeft(function(d){return e.formatValidationErrors(d,u)}),n.fold(function(d){return d},function(){return[]}))};e.reporter=H;var te={report:e.reporter};e.default=te})(src);var TonCache={};Object.defineProperty(TonCache,"__esModule",{value:!0});TonCache.InMemoryCache=void 0;class InMemoryCache{constructor(){this.cache=new Map,this.set=async(r,n,o)=>{o!==null?this.cache.set(r+"$$"+n,o):this.cache.delete(r+"$$"+n)},this.get=async(r,n)=>{let o=this.cache.get(r+"$$"+n);return o!==void 0?o:null}}}TonCache.InMemoryCache=InMemoryCache;var DataLoader=function(){function e(n,o){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=getValidMaxBatchSize(o),this._batchScheduleFn=getValidBatchScheduleFn(o),this._cacheKeyFn=getValidCacheKeyFn(o),this._cacheMap=getValidCacheMap(o),this._batch=null,this.name=getValidName(o)}var r=e.prototype;return r.load=function(o){if(o==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(o)+"."));var a=getCurrentBatch(this),s=this._cacheMap,l=this._cacheKeyFn(o);if(s){var h=s.get(l);if(h){var v=a.cacheHits||(a.cacheHits=[]);return new Promise(function(M){v.push(function(){M(h)})})}}a.keys.push(o);var x=new Promise(function(M,P){a.callbacks.push({resolve:M,reject:P})});return s&&s.set(l,x),x},r.loadMany=function(o){if(!isArrayLike(o))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+o+"."));for(var a=[],s=0;s<o.length;s++)a.push(this.load(o[s]).catch(function(l){return l}));return Promise.all(a)},r.clear=function(o){var a=this._cacheMap;if(a){var s=this._cacheKeyFn(o);a.delete(s)}return this},r.clearAll=function(){var o=this._cacheMap;return o&&o.clear(),this},r.prime=function(o,a){var s=this._cacheMap;if(s){var l=this._cacheKeyFn(o);if(s.get(l)===void 0){var h;a instanceof Error?(h=Promise.reject(a),h.catch(function(){})):h=Promise.resolve(a),s.set(l,h)}}return this},e}(),enqueuePostPromiseJob=typeof process=="object"&&typeof process.nextTick=="function"?function(e){resolvedPromise||(resolvedPromise=Promise.resolve()),resolvedPromise.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},resolvedPromise;function getCurrentBatch(e){var r=e._batch;if(r!==null&&!r.hasDispatched&&r.keys.length<e._maxBatchSize)return r;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){dispatchBatch(e,n)}),n}function dispatchBatch(e,r){if(r.hasDispatched=!0,r.keys.length===0){resolveCacheHits(r);return}var n;try{n=e._batchLoadFn(r.keys)}catch(o){return failedDispatch(e,r,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(o)+".")))}if(!n||typeof n.then!="function")return failedDispatch(e,r,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(o){if(!isArrayLike(o))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(o)+"."));if(o.length!==r.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(r.keys))+(`

Values:
`+String(o)));resolveCacheHits(r);for(var a=0;a<r.callbacks.length;a++){var s=o[a];s instanceof Error?r.callbacks[a].reject(s):r.callbacks[a].resolve(s)}}).catch(function(o){failedDispatch(e,r,o)})}function failedDispatch(e,r,n){resolveCacheHits(r);for(var o=0;o<r.keys.length;o++)e.clear(r.keys[o]),r.callbacks[o].reject(n)}function resolveCacheHits(e){if(e.cacheHits)for(var r=0;r<e.cacheHits.length;r++)e.cacheHits[r]()}function getValidMaxBatchSize(e){var r=!e||e.batch!==!1;if(!r)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function getValidBatchScheduleFn(e){var r=e&&e.batchScheduleFn;if(r===void 0)return enqueuePostPromiseJob;if(typeof r!="function")throw new TypeError("batchScheduleFn must be a function: "+r);return r}function getValidCacheKeyFn(e){var r=e&&e.cacheKeyFn;if(r===void 0)return function(n){return n};if(typeof r!="function")throw new TypeError("cacheKeyFn must be a function: "+r);return r}function getValidCacheMap(e){var r=!e||e.cache!==!1;if(!r)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var o=["get","set","delete","clear"],a=o.filter(function(s){return n&&typeof n[s]!="function"});if(a.length!==0)throw new TypeError("Custom cacheMap missing methods: "+a.join(", "))}return n}function getValidName(e){return e&&e.name?e.name:null}function isArrayLike(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var dataloader=DataLoader,axiosExports$1={},axios$2={get exports(){return axiosExports$1},set exports(e){axiosExports$1=e}},axiosExports={},axios$1={get exports(){return axiosExports},set exports(e){axiosExports=e}},bind$2=function e(r,n){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return r.apply(n,a)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(e){return Array.isArray(e)}function isUndefined(e){return typeof e>"u"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return toString.call(e)==="[object ArrayBuffer]"}function isFormData(e){return toString.call(e)==="[object FormData]"}function isArrayBufferView(e){var r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&isArrayBuffer(e.buffer),r}function isString(e){return typeof e=="string"}function isNumber(e){return typeof e=="number"}function isObject(e){return e!==null&&typeof e=="object"}function isPlainObject(e){if(toString.call(e)!=="[object Object]")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function isDate(e){return toString.call(e)==="[object Date]"}function isFile(e){return toString.call(e)==="[object File]"}function isBlob(e){return toString.call(e)==="[object Blob]"}function isFunction(e){return toString.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return toString.call(e)==="[object URLSearchParams]"}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(e,r){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),isArray(e))for(var n=0,o=e.length;n<o;n++)r.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.call(null,e[a],a,e)}function merge(){var e={};function r(a,s){isPlainObject(e[s])&&isPlainObject(a)?e[s]=merge(e[s],a):isPlainObject(a)?e[s]=merge({},a):isArray(a)?e[s]=a.slice():e[s]=a}for(var n=0,o=arguments.length;n<o;n++)forEach(arguments[n],r);return e}function extend(e,r,n){return forEach(r,function(a,s){n&&typeof a=="function"?e[s]=bind$1(a,n):e[s]=a}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var utils$8={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$7=utils$8;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function e(r,n,o){if(!n)return r;var a;if(o)a=o(n);else if(utils$7.isURLSearchParams(n))a=n.toString();else{var s=[];utils$7.forEach(n,function(v,x){v===null||typeof v>"u"||(utils$7.isArray(v)?x=x+"[]":v=[v],utils$7.forEach(v,function(P){utils$7.isDate(P)?P=P.toISOString():utils$7.isObject(P)&&(P=JSON.stringify(P)),s.push(encode(x)+"="+encode(P))}))}),a=s.join("&")}if(a){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+a}return r},utils$6=utils$8;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function e(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function e(r){this.handlers[r]&&(this.handlers[r]=null)};InterceptorManager$1.prototype.forEach=function e(r){utils$6.forEach(this.handlers,function(o){o!==null&&r(o)})};var InterceptorManager_1=InterceptorManager$1,utils$5=utils$8,normalizeHeaderName=function e(r,n){utils$5.forEach(r,function(a,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(r[n]=a,delete r[s])})},enhanceError=function e(r,n,o,a,s){return r.config=n,o&&(r.code=o),r.request=a,r.response=s,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r},createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var e=enhanceError;return createError=function(n,o,a,s,l){var h=new Error(n);return e(h,o,a,s,l)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var e=requireCreateError();return settle=function(n,o,a){var s=a.config.validateStatus;!a.status||!s||s(a.status)?n(a):o(e("Request failed with status code "+a.status,a.config,null,a.request,a))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var e=utils$8;return cookies=e.isStandardBrowserEnv()?function(){return{write:function(o,a,s,l,h,v){var x=[];x.push(o+"="+encodeURIComponent(a)),e.isNumber(s)&&x.push("expires="+new Date(s).toGMTString()),e.isString(l)&&x.push("path="+l),e.isString(h)&&x.push("domain="+h),v===!0&&x.push("secure"),document.cookie=x.join("; ")},read:function(o){var a=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var e=requireIsAbsoluteURL(),r=requireCombineURLs();return buildFullPath=function(o,a){return o&&!e(a)?r(o,a):a},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var e=utils$8,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(o){var a={},s,l,h;return o&&e.forEach(o.split(`
`),function(x){if(h=x.indexOf(":"),s=e.trim(x.substr(0,h)).toLowerCase(),l=e.trim(x.substr(h+1)),s){if(a[s]&&r.indexOf(s)>=0)return;s==="set-cookie"?a[s]=(a[s]?a[s]:[]).concat([l]):a[s]=a[s]?a[s]+", "+l:l}}),a},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var e=utils$8;return isURLSameOrigin=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),a;function s(l){var h=l;return n&&(o.setAttribute("href",h),h=o.href),o.setAttribute("href",h),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return a=s(window.location.href),function(h){var v=e.isString(h)?s(h):h;return v.protocol===a.protocol&&v.host===a.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function e(r){this.message=r}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Cancel_1=e,Cancel_1}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var e=utils$8,r=requireSettle(),n=requireCookies(),o=buildURL$1,a=requireBuildFullPath(),s=requireParseHeaders(),l=requireIsURLSameOrigin(),h=requireCreateError(),v=requireDefaults(),x=requireCancel();return xhr=function(P){return new Promise(function(V,ee){var se=P.data,Q=P.headers,$e=P.responseType,Ie;function ye(){P.cancelToken&&P.cancelToken.unsubscribe(Ie),P.signal&&P.signal.removeEventListener("abort",Ie)}e.isFormData(se)&&delete Q["Content-Type"];var G=new XMLHttpRequest;if(P.auth){var J=P.auth.username||"",le=P.auth.password?unescape(encodeURIComponent(P.auth.password)):"";Q.Authorization="Basic "+btoa(J+":"+le)}var ae=a(P.baseURL,P.url);G.open(P.method.toUpperCase(),o(ae,P.params,P.paramsSerializer),!0),G.timeout=P.timeout;function H(){if(G){var E="getAllResponseHeaders"in G?s(G.getAllResponseHeaders()):null,u=!$e||$e==="text"||$e==="json"?G.responseText:G.response,d={data:u,status:G.status,statusText:G.statusText,headers:E,config:P,request:G};r(function(g){V(g),ye()},function(g){ee(g),ye()},d),G=null}}if("onloadend"in G?G.onloadend=H:G.onreadystatechange=function(){!G||G.readyState!==4||G.status===0&&!(G.responseURL&&G.responseURL.indexOf("file:")===0)||setTimeout(H)},G.onabort=function(){G&&(ee(h("Request aborted",P,"ECONNABORTED",G)),G=null)},G.onerror=function(){ee(h("Network Error",P,null,G)),G=null},G.ontimeout=function(){var u=P.timeout?"timeout of "+P.timeout+"ms exceeded":"timeout exceeded",d=P.transitional||v.transitional;P.timeoutErrorMessage&&(u=P.timeoutErrorMessage),ee(h(u,P,d.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",G)),G=null},e.isStandardBrowserEnv()){var te=(P.withCredentials||l(ae))&&P.xsrfCookieName?n.read(P.xsrfCookieName):void 0;te&&(Q[P.xsrfHeaderName]=te)}"setRequestHeader"in G&&e.forEach(Q,function(u,d){typeof se>"u"&&d.toLowerCase()==="content-type"?delete Q[d]:G.setRequestHeader(d,u)}),e.isUndefined(P.withCredentials)||(G.withCredentials=!!P.withCredentials),$e&&$e!=="json"&&(G.responseType=P.responseType),typeof P.onDownloadProgress=="function"&&G.addEventListener("progress",P.onDownloadProgress),typeof P.onUploadProgress=="function"&&G.upload&&G.upload.addEventListener("progress",P.onUploadProgress),(P.cancelToken||P.signal)&&(Ie=function(E){G&&(ee(!E||E&&E.type?new x("canceled"):E),G.abort(),G=null)},P.cancelToken&&P.cancelToken.subscribe(Ie),P.signal&&(P.signal.aborted?Ie():P.signal.addEventListener("abort",Ie))),se||(se=null),G.send(se)})},xhr}var defaults_1,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults_1;hasRequiredDefaults=1;var e=utils$8,r=normalizeHeaderName,n=enhanceError,o={"Content-Type":"application/x-www-form-urlencoded"};function a(v,x){!e.isUndefined(v)&&e.isUndefined(v["Content-Type"])&&(v["Content-Type"]=x)}function s(){var v;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(v=requireXhr()),v}function l(v,x,M){if(e.isString(v))try{return(x||JSON.parse)(v),e.trim(v)}catch(P){if(P.name!=="SyntaxError")throw P}return(M||JSON.stringify)(v)}var h={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:s(),transformRequest:[function(x,M){return r(M,"Accept"),r(M,"Content-Type"),e.isFormData(x)||e.isArrayBuffer(x)||e.isBuffer(x)||e.isStream(x)||e.isFile(x)||e.isBlob(x)?x:e.isArrayBufferView(x)?x.buffer:e.isURLSearchParams(x)?(a(M,"application/x-www-form-urlencoded;charset=utf-8"),x.toString()):e.isObject(x)||M&&M["Content-Type"]==="application/json"?(a(M,"application/json"),l(x)):x}],transformResponse:[function(x){var M=this.transitional||h.transitional,P=M&&M.silentJSONParsing,j=M&&M.forcedJSONParsing,V=!P&&this.responseType==="json";if(V||j&&e.isString(x)&&x.length)try{return JSON.parse(x)}catch(ee){if(V)throw ee.name==="SyntaxError"?n(ee,this,"E_JSON_PARSE"):ee}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(x){h.headers[x]={}}),e.forEach(["post","put","patch"],function(x){h.headers[x]=e.merge(o)}),defaults_1=h,defaults_1}var utils$4=utils$8,defaults$2=requireDefaults(),transformData$1=function e(r,n,o){var a=this||defaults$2;return utils$4.forEach(o,function(l){r=l.call(a,r,n)}),r},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(r){return!!(r&&r.__CANCEL__)}),isCancel$1}var utils$3=utils$8,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=requireDefaults(),Cancel=requireCancel();function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cancel("canceled")}var dispatchRequest$1=function e(r){throwIfCancellationRequested(r),r.headers=r.headers||{},r.data=transformData.call(r,r.data,r.headers,r.transformRequest),r.headers=utils$3.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(a){delete r.headers[a]});var n=r.adapter||defaults$1.adapter;return n(r).then(function(a){return throwIfCancellationRequested(r),a.data=transformData.call(r,a.data,a.headers,r.transformResponse),a},function(a){return isCancel(a)||(throwIfCancellationRequested(r),a&&a.response&&(a.response.data=transformData.call(r,a.response.data,a.response.headers,r.transformResponse))),Promise.reject(a)})},utils$2=utils$8,mergeConfig$2=function e(r,n){n=n||{};var o={};function a(M,P){return utils$2.isPlainObject(M)&&utils$2.isPlainObject(P)?utils$2.merge(M,P):utils$2.isPlainObject(P)?utils$2.merge({},P):utils$2.isArray(P)?P.slice():P}function s(M){if(utils$2.isUndefined(n[M])){if(!utils$2.isUndefined(r[M]))return a(void 0,r[M])}else return a(r[M],n[M])}function l(M){if(!utils$2.isUndefined(n[M]))return a(void 0,n[M])}function h(M){if(utils$2.isUndefined(n[M])){if(!utils$2.isUndefined(r[M]))return a(void 0,r[M])}else return a(void 0,n[M])}function v(M){if(M in n)return a(r[M],n[M]);if(M in r)return a(void 0,r[M])}var x={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:v};return utils$2.forEach(Object.keys(r).concat(Object.keys(n)),function(P){var j=x[P]||s,V=j(P);utils$2.isUndefined(V)&&j!==v||(o[P]=V)}),o},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.25.0"}),data}var VERSION=requireData().version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){validators$1[e]=function(o){return typeof o===e||"a"+(r<1?"n ":" ")+e}});var deprecatedWarnings={};validators$1.transitional=function e(r,n,o){function a(s,l){return"[Axios v"+VERSION+"] Transitional option '"+s+"'"+l+(o?". "+o:"")}return function(s,l,h){if(r===!1)throw new Error(a(l," has been removed"+(n?" in "+n:"")));return n&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(s,l,h):!0}};function assertOptions(e,r,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var o=Object.keys(e),a=o.length;a-- >0;){var s=o[a],l=r[s];if(l){var h=e[s],v=h===void 0||l(h,s,e);if(v!==!0)throw new TypeError("option "+s+" must be "+v);continue}if(n!==!0)throw Error("Unknown option "+s)}}var validator$1={assertOptions,validators:validators$1},utils$1=utils$8,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function e(r,n){if(typeof r=="string"?(n=n||{},n.url=r):n=r||{},!n.url)throw new Error("Provided config url is not valid");n=mergeConfig$1(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var o=n.transitional;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var a=[],s=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(n)===!1||(s=s&&V.synchronous,a.unshift(V.fulfilled,V.rejected))});var l=[];this.interceptors.response.forEach(function(V){l.push(V.fulfilled,V.rejected)});var h;if(!s){var v=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(v,a),v=v.concat(l),h=Promise.resolve(n);v.length;)h=h.then(v.shift(),v.shift());return h}for(var x=n;a.length;){var M=a.shift(),P=a.shift();try{x=M(x)}catch(j){P(j);break}}try{h=dispatchRequest(x)}catch(j){return Promise.reject(j)}for(;l.length;)h=h.then(l.shift(),l.shift());return h};Axios$1.prototype.getUri=function e(r){if(!r.url)throw new Error("Provided config url is not valid");return r=mergeConfig$1(this.defaults,r),buildURL(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};utils$1.forEach(["delete","get","head","options"],function e(r){Axios$1.prototype[r]=function(n,o){return this.request(mergeConfig$1(o||{},{method:r,url:n,data:(o||{}).data}))}});utils$1.forEach(["post","put","patch"],function e(r){Axios$1.prototype[r]=function(n,o,a){return this.request(mergeConfig$1(a||{},{method:r,url:n,data:o}))}});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var e=requireCancel();function r(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(l){o=l});var a=this;this.promise.then(function(s){if(a._listeners){var l,h=a._listeners.length;for(l=0;l<h;l++)a._listeners[l](s);a._listeners=null}}),this.promise.then=function(s){var l,h=new Promise(function(v){a.subscribe(v),l=v}).then(s);return h.cancel=function(){a.unsubscribe(l)},h},n(function(l){a.reason||(a.reason=new e(l),o(a.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]},r.prototype.unsubscribe=function(o){if(this._listeners){var a=this._listeners.indexOf(o);a!==-1&&this._listeners.splice(a,1)}},r.source=function(){var o,a=new r(function(l){o=l});return{token:a,cancel:o}},CancelToken_1=r,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(r){return function(o){return r.apply(null,o)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var e=utils$8;return isAxiosError=function(n){return e.isObject(n)&&n.isAxiosError===!0},isAxiosError}var utils=utils$8,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=requireDefaults();function createInstance(e){var r=new Axios(e),n=bind(Axios.prototype.request,r);return utils.extend(n,Axios.prototype,r),utils.extend(n,r),n.create=function(a){return createInstance(mergeConfig(e,a))},n}var axios=createInstance(defaults);axios.Axios=Axios;axios.Cancel=requireCancel();axios.CancelToken=requireCancelToken();axios.isCancel=requireIsCancel();axios.VERSION=requireData().version;axios.all=function e(r){return Promise.all(r)};axios.spread=requireSpread();axios.isAxiosError=requireIsAxiosError();axios$1.exports=axios;axiosExports.default=axios;(function(e){e.exports=axiosExports})(axios$2);const name="ton",version$1="13.4.1",repository="https://github.com/ton-core/ton.git",author="Whales Corp. <developers@whalescorp.com>",license="MIT",main="dist/index.js",files=["dist"],scripts={docs:"rm -fr docs && typedoc src/index.ts",build:"rm -fr dist && tsc --declaration",test:"jest --verbose --runInBand",release:"yarn build && yarn release-it --npm.yarn1"},devDependencies={"@release-it/keep-a-changelog":"^3.1.0","@types/jest":"^27.0.1","@types/node":"^16.7.10",buffer:"^6.0.3",expect:"^27.1.0",jest:"^27.1.0","jest-mock":"^27.1.0",karma:"^6.3.4","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1","karma-typescript":"^5.5.2","karma-webpack":"^5.0.0",prando:"^6.0.1","release-it":"^15.5.1","ton-core":"^0.48.0","ton-crypto":"3.2.0","ton-emulator":"^2.1.1","ts-jest":"^27.0.5","ts-loader":"^9.2.5","ts-node":"^10.7.0",typedoc:"^0.23.24",typescript:"^4.4.2",webpack:"^5.51.2"},dependencies={axios:"^0.25.0",dataloader:"^2.0.0","fp-ts":"^2.11.1","io-ts":"^2.2.16","io-ts-reporters":"^2.0.0","symbol.inspect":"1.0.1",teslabot:"^1.3.0"},peerDependencies={"ton-core":">=0.48.0","ton-crypto":">=3.2.0"},publishConfig={access:"public",registry:"https://registry.npmjs.org/"},packageManager="yarn@3.4.1",require$$6={name,version:version$1,repository,author,license,main,files,scripts,devDependencies,dependencies,peerDependencies,publishConfig,"release-it":{github:{release:!0},plugins:{"@release-it/keep-a-changelog":{filename:"CHANGELOG.md"}}},packageManager};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding$1(r,e,n);return __setModuleDefault$1(r,e),r},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(HttpApi$1,"__esModule",{value:!0});HttpApi$1.HttpApi=void 0;const t$1=__importStar$1(require$$1$1),Either_1=Either,io_ts_reporters_1=__importDefault$1(src),TonCache_1=TonCache,dataloader_1=__importDefault$1(dataloader),axios_1$1=__importDefault$1(axiosExports$1),version=require$$6.version,blockIdExt=t$1.type({"@type":t$1.literal("ton.blockIdExt"),workchain:t$1.number,shard:t$1.string,seqno:t$1.number,root_hash:t$1.string,file_hash:t$1.string}),addressInformation=t$1.type({balance:t$1.union([t$1.number,t$1.string]),state:t$1.union([t$1.literal("active"),t$1.literal("uninitialized"),t$1.literal("frozen")]),data:t$1.string,code:t$1.string,last_transaction_id:t$1.type({"@type":t$1.literal("internal.transactionId"),lt:t$1.string,hash:t$1.string}),block_id:blockIdExt,sync_utime:t$1.number}),bocResponse=t$1.type({"@type":t$1.literal("ok")}),feeResponse=t$1.type({"@type":t$1.literal("query.fees"),source_fees:t$1.type({"@type":t$1.literal("fees"),in_fwd_fee:t$1.number,storage_fee:t$1.number,gas_fee:t$1.number,fwd_fee:t$1.number})}),callGetMethod=t$1.type({gas_used:t$1.number,exit_code:t$1.number,stack:t$1.array(t$1.unknown)}),messageData=t$1.union([t$1.type({"@type":t$1.literal("msg.dataRaw"),body:t$1.string}),t$1.type({"@type":t$1.literal("msg.dataText"),text:t$1.string}),t$1.type({"@type":t$1.literal("msg.dataDecryptedText"),text:t$1.string}),t$1.type({"@type":t$1.literal("msg.dataEncryptedText"),text:t$1.string})]),message=t$1.type({source:t$1.string,destination:t$1.string,value:t$1.string,fwd_fee:t$1.string,ihr_fee:t$1.string,created_lt:t$1.string,body_hash:t$1.string,msg_data:messageData}),transaction=t$1.type({data:t$1.string,utime:t$1.number,transaction_id:t$1.type({lt:t$1.string,hash:t$1.string}),fee:t$1.string,storage_fee:t$1.string,other_fee:t$1.string,in_msg:t$1.union([t$1.undefined,message]),out_msgs:t$1.array(message)}),getTransactions=t$1.array(transaction),getMasterchain=t$1.type({state_root_hash:t$1.string,last:blockIdExt,init:blockIdExt}),getShards=t$1.type({shards:t$1.array(blockIdExt)}),blockShortTxt=t$1.type({"@type":t$1.literal("blocks.shortTxId"),mode:t$1.number,account:t$1.string,lt:t$1.string,hash:t$1.string}),getBlockTransactions=t$1.type({id:blockIdExt,req_count:t$1.number,incomplete:t$1.boolean,transactions:t$1.array(blockShortTxt)});class TypedCache{constructor(r,n,o,a){this.namespace=r,this.cache=n,this.codec=o,this.keyEncoder=a}async get(r){let n=await this.cache.get(this.namespace,this.keyEncoder(r));if(n){let o=this.codec.decode(JSON.parse(n));if((0,Either_1.isRight)(o))return o.right}return null}async set(r,n){n!==null?await this.cache.set(this.namespace,this.keyEncoder(r),JSON.stringify(n)):await this.cache.set(this.namespace,this.keyEncoder(r),null)}}class HttpApi{constructor(r,n){this.endpoint=r,this.cache=new TonCache_1.InMemoryCache,this.parameters={timeout:(n==null?void 0:n.timeout)||3e4,apiKey:n==null?void 0:n.apiKey},this.shardCache=new TypedCache("ton-shard",this.cache,t$1.array(blockIdExt),o=>o+""),this.shardLoader=new dataloader_1.default(async o=>await Promise.all(o.map(async a=>{const s=await this.shardCache.get(a);if(s)return s;let l=(await this.doCall("shards",{seqno:a},getShards)).shards;return await this.shardCache.set(a,l),l}))),this.shardTransactionsCache=new TypedCache("ton-shard-tx",this.cache,getBlockTransactions,o=>o.workchain+":"+o.shard+":"+o.seqno),this.shardTransactionsLoader=new dataloader_1.default(async o=>await Promise.all(o.map(async a=>{const s=await this.shardTransactionsCache.get(a);if(s)return s;let l=await this.doCall("getBlockTransactions",{workchain:a.workchain,seqno:a.seqno,shard:a.shard},getBlockTransactions);return await this.shardTransactionsCache.set(a,l),l})),{cacheKeyFn:o=>o.workchain+":"+o.shard+":"+o.seqno})}getAddressInformation(r){return this.doCall("getAddressInformation",{address:r.toString()},addressInformation)}async getTransactions(r,n){const o=n.inclusive;delete n.inclusive;let a;n.hash&&(a=Buffer.from(n.hash,"base64").toString("hex"));let s=n.limit;n.hash&&n.lt&&o!==!0&&s++;let l=await this.doCall("getTransactions",{address:r.toString(),...n,limit:s,hash:a},getTransactions);return l.length>s&&(l=l.slice(0,s)),n.hash&&n.lt&&o!==!0&&l.shift(),l}async getMasterchainInfo(){return await this.doCall("getMasterchainInfo",{},getMasterchain)}async getShards(r){return await this.shardLoader.load(r)}async getBlockTransactions(r,n,o){return await this.shardTransactionsLoader.load({workchain:r,seqno:n,shard:o})}async getTransaction(r,n,o){let a=Buffer.from(o,"base64").toString("hex"),l=(await this.doCall("getTransactions",{address:r.toString(),lt:n,hash:a,limit:1},getTransactions)).find(h=>h.transaction_id.lt===n&&h.transaction_id.hash===o);return l||null}async callGetMethod(r,n,o){return await this.doCall("runGetMethod",{address:r.toString(),method:n,stack:serializeStack(o)},callGetMethod)}async sendBoc(r){await this.doCall("sendBoc",{boc:r.toString("base64")},bocResponse)}async estimateFee(r,n){return await this.doCall("estimateFee",{address:r.toString(),body:n.body.toBoc().toString("base64"),init_data:n.initData?n.initData.toBoc().toString("base64"):"",init_code:n.initCode?n.initCode.toBoc().toString("base64"):"",ignore_chksig:n.ignoreSignature},feeResponse)}async doCall(r,n,o){let a={"Content-Type":"application/json","X-Ton-Client-Version":version};this.parameters.apiKey&&(a["X-API-Key"]=this.parameters.apiKey);let s=await axios_1$1.default.post(this.endpoint,JSON.stringify({id:"1",jsonrpc:"2.0",method:r,params:n}),{headers:a,timeout:this.parameters.timeout});if(s.status!==200||!s.data.ok)throw Error("Received error: "+JSON.stringify(s.data));let l=o.decode(s.data.result);if((0,Either_1.isRight)(l))return l.right;throw Error("Malformed response: "+io_ts_reporters_1.default.report(l).join(", "))}}HttpApi$1.HttpApi=HttpApi;function serializeStack(e){let r=[];for(let n of e)if(n.type==="int")r.push(["num",n.value.toString()]);else if(n.type==="cell")r.push(["tvm.Cell",n.cell.toBoc().toString("base64")]);else if(n.type==="slice")r.push(["tvm.Slice",n.cell.toBoc().toString("base64")]);else if(n.type==="builder")r.push(["tvm.Builder",n.cell.toBoc().toString("base64")]);else throw Error("Unsupported stack item type: "+n.type);return r}var TonClient$1={},__classPrivateFieldSet$1=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,r,n,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,n):a?a.value=n:r.set(e,n),n},__classPrivateFieldGet$1=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:r.get(e)},_TonClient_api;Object.defineProperty(TonClient$1,"__esModule",{value:!0});TonClient$1.TonClient=void 0;const HttpApi_1=HttpApi$1,ton_core_1$e=dist$1;class TonClient{constructor(r){_TonClient_api.set(this,void 0),this.parameters={endpoint:r.endpoint},__classPrivateFieldSet$1(this,_TonClient_api,new HttpApi_1.HttpApi(this.parameters.endpoint,{timeout:r.timeout,apiKey:r.apiKey,adapter:r.httpAdapter}),"f")}async getBalance(r){return(await this.getContractState(r)).balance}async runMethod(r,n,o=[]){let a=await __classPrivateFieldGet$1(this,_TonClient_api,"f").callGetMethod(r,n,o);if(a.exit_code!==0)throw Error("Unable to execute get method. Got exit_code: "+a.exit_code);return{gas_used:a.gas_used,stack:parseStack(a.stack)}}async callGetMethod(r,n,o=[]){return this.runMethod(r,n,o)}async runMethodWithError(r,n,o=[]){let a=await __classPrivateFieldGet$1(this,_TonClient_api,"f").callGetMethod(r,n,o);return{gas_used:a.gas_used,stack:parseStack(a.stack),exit_code:a.exit_code}}async callGetMethodWithError(r,n,o=[]){return this.runMethodWithError(r,n,o)}async getTransactions(r,n){let o=await __classPrivateFieldGet$1(this,_TonClient_api,"f").getTransactions(r,n),a=[];for(let s of o)a.push((0,ton_core_1$e.loadTransaction)(ton_core_1$e.Cell.fromBoc(Buffer.from(s.data,"base64"))[0].beginParse()));return a}async getTransaction(r,n,o){let a=await __classPrivateFieldGet$1(this,_TonClient_api,"f").getTransaction(r,n,o);return a?(0,ton_core_1$e.loadTransaction)(ton_core_1$e.Cell.fromBoc(Buffer.from(a.data,"base64"))[0].beginParse()):null}async getMasterchainInfo(){let r=await __classPrivateFieldGet$1(this,_TonClient_api,"f").getMasterchainInfo();return{workchain:r.init.workchain,shard:r.last.shard,initSeqno:r.init.seqno,latestSeqno:r.last.seqno}}async getWorkchainShards(r){return(await __classPrivateFieldGet$1(this,_TonClient_api,"f").getShards(r)).map(o=>({workchain:o.workchain,shard:o.shard,seqno:o.seqno}))}async getShardTransactions(r,n,o){let a=await __classPrivateFieldGet$1(this,_TonClient_api,"f").getBlockTransactions(r,n,o);if(a.incomplete)throw Error("Unsupported");return a.transactions.map(s=>({account:ton_core_1$e.Address.parseRaw(s.account),lt:s.lt,hash:s.hash}))}async sendMessage(r){const n=(0,ton_core_1$e.beginCell)().store((0,ton_core_1$e.storeMessage)(r)).endCell().toBoc();await __classPrivateFieldGet$1(this,_TonClient_api,"f").sendBoc(n)}async sendFile(r){await __classPrivateFieldGet$1(this,_TonClient_api,"f").sendBoc(r)}async estimateExternalMessageFee(r,n){return await __classPrivateFieldGet$1(this,_TonClient_api,"f").estimateFee(r,{body:n.body,initCode:n.initCode,initData:n.initData,ignoreSignature:n.ignoreSignature})}async sendExternalMessage(r,n){if(await this.isContractDeployed(r.address)||!r.init){const o=(0,ton_core_1$e.external)({to:r.address,body:n});await this.sendMessage(o)}else{const o=(0,ton_core_1$e.external)({to:r.address,init:{code:r.init.code,data:r.init.data},body:n});await this.sendMessage(o)}}async isContractDeployed(r){return(await this.getContractState(r)).state==="active"}async getContractState(r){let n=await __classPrivateFieldGet$1(this,_TonClient_api,"f").getAddressInformation(r),o=BigInt(n.balance),a=n.state;return{balance:o,state:a,code:n.code!==""?Buffer.from(n.code,"base64"):null,data:n.data!==""?Buffer.from(n.data,"base64"):null,lastTransaction:n.last_transaction_id.lt!=="0"?{lt:n.last_transaction_id.lt,hash:n.last_transaction_id.hash}:null,blockId:{workchain:n.block_id.workchain,shard:n.block_id.shard,seqno:n.block_id.seqno},timestampt:n.sync_utime}}open(r){return(0,ton_core_1$e.openContract)(r,n=>createProvider$1(this,n.address,n.init))}provider(r,n){return createProvider$1(this,r,n)}}TonClient$1.TonClient=TonClient;_TonClient_api=new WeakMap;function parseStack(e){let r=[];for(let n of e)if(n[0]==="num"){let o=n[1];o.startsWith("-")?r.push({type:"int",value:-BigInt(o.slice(1))}):r.push({type:"int",value:BigInt(o)})}else if(n[0]==="null")r.push({type:"null"});else if(n[0]==="cell")r.push({type:"cell",cell:ton_core_1$e.Cell.fromBoc(Buffer.from(n[1].bytes,"base64"))[0]});else if(n[0]==="slice")r.push({type:"slice",cell:ton_core_1$e.Cell.fromBoc(Buffer.from(n[1].bytes,"base64"))[0]});else if(n[0]==="builder")r.push({type:"builder",cell:ton_core_1$e.Cell.fromBoc(Buffer.from(n[1].bytes,"base64"))[0]});else throw Error("Unsupported stack item type: "+n[0]);return new ton_core_1$e.TupleReader(r)}function createProvider$1(e,r,n){return{async getState(){let o=await e.getContractState(r),a=o.balance,s=o.lastTransaction?{lt:BigInt(o.lastTransaction.lt),hash:Buffer.from(o.lastTransaction.hash,"base64")}:null,l;if(o.state==="active")l={type:"active",code:o.code?o.code:null,data:o.data?o.data:null};else if(o.state==="uninitialized")l={type:"uninit"};else if(o.state==="frozen")l={type:"frozen",stateHash:Buffer.alloc(0)};else throw Error("Unsupported state");return{balance:a,last:s,state:l}},async get(o,a){return{stack:(await e.callGetMethod(r,o,a)).stack}},async external(o){let a=null;n&&!await e.isContractDeployed(r)&&(a=n);const s=(0,ton_core_1$e.external)({to:r,init:a?{code:a.code,data:a.data}:null,body:o});let l=(0,ton_core_1$e.beginCell)().store((0,ton_core_1$e.storeMessage)(s)).endCell().toBoc();await e.sendFile(l)},async internal(o,a){let s=null;n&&!await e.isContractDeployed(r)&&(s=n);let l=!0;a.bounce!==null&&a.bounce!==void 0&&(l=a.bounce);let h;typeof a.value=="string"?h=(0,ton_core_1$e.toNano)(a.value):h=a.value;let v=null;typeof a.body=="string"?v=(0,ton_core_1$e.comment)(a.body):a.body&&(v=a.body),await o.send({to:r,value:h,bounce:l,sendMode:a.sendMode,init:s,body:v})}}}var TonClient4$1={},toUrlSafe$1={};Object.defineProperty(toUrlSafe$1,"__esModule",{value:!0});toUrlSafe$1.toUrlSafe=void 0;function toUrlSafe(e){for(;e.indexOf("/")>=0;)e=e.replace("/","_");for(;e.indexOf("+")>=0;)e=e.replace("+","-");for(;e.indexOf("=")>=0;)e=e.replace("=","");return e}toUrlSafe$1.toUrlSafe=toUrlSafe;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,r,n,o){o===void 0&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,o){o===void 0&&(o=n),e[o]=r[n]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(r,e,n);return __setModuleDefault(r,e),r},__classPrivateFieldSet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(e,r,n,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,n):a?a.value=n:r.set(e,n),n},__classPrivateFieldGet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(e,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:r.get(e)},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_TonClient4_endpoint,_TonClient4_timeout,_TonClient4_adapter;Object.defineProperty(TonClient4$1,"__esModule",{value:!0});TonClient4$1.TonClient4=void 0;const axios_1=__importDefault(axiosExports$1),t=__importStar(require$$1$1),ton_core_1$d=dist$1,toUrlSafe_1=toUrlSafe$1;class TonClient4{constructor(r){_TonClient4_endpoint.set(this,void 0),_TonClient4_timeout.set(this,void 0),_TonClient4_adapter.set(this,void 0),__classPrivateFieldSet(this,_TonClient4_endpoint,r.endpoint,"f"),__classPrivateFieldSet(this,_TonClient4_timeout,r.timeout||5e3,"f"),__classPrivateFieldSet(this,_TonClient4_adapter,r.httpAdapter,"f")}async getLastBlock(){let r=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/latest",{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!lastBlockCodec.is(r.data))throw Error("Mailformed response");return r.data}async getBlock(r){let n=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/"+r,{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!blockCodec.is(n.data))throw Error("Mailformed response");if(!n.data.exist)throw Error("Block is out of scope");return n.data.block}async getBlockByUtime(r){let n=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/utime/"+r,{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!blockCodec.is(n.data))throw Error("Mailformed response");if(!n.data.exist)throw Error("Block is out of scope");return n.data.block}async getAccount(r,n){let o=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/"+r+"/"+n.toString({urlSafe:!0}),{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!accountCodec.is(o.data))throw Error("Mailformed response");return o.data}async getAccountLite(r,n){let o=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/"+r+"/"+n.toString({urlSafe:!0})+"/lite",{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!accountLiteCodec.is(o.data))throw Error("Mailformed response");return o.data}async isContractDeployed(r,n){return(await this.getAccountLite(r,n)).account.state.type==="active"}async isAccountChanged(r,n,o){let a=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/"+r+"/"+n.toString({urlSafe:!0})+"/changed/"+o.toString(10),{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!changedCodec.is(a.data))throw Error("Mailformed response");return a.data}async getTransaction(r,n,o){const a=n.toString({urlSafe:!0}),s=`/block/${r}/${a}/tx/${o.toString(10)}`,l=await axios_1.default.get(new URL(s,__classPrivateFieldGet(this,_TonClient4_endpoint,"f")).href,{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!transactionCodec.is(l.data))throw Error("Mailformed response");const h=ton_core_1$d.Cell.fromBoc(Buffer.from(l.data.boc,"base64"))[0];return{tx:(0,ton_core_1$d.loadTransaction)(h.beginParse()),...l.data}}async getAccountTransactions(r,n,o){let a=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/account/"+r.toString({urlSafe:!0})+"/tx/"+n.toString(10)+"/"+(0,toUrlSafe_1.toUrlSafe)(o.toString("base64")),{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!transactionsCodec.is(a.data))throw Error("Mailformed response");let s=a.data,l=[],h=ton_core_1$d.Cell.fromBoc(Buffer.from(s.boc,"base64"));for(let v=0;v<s.blocks.length;v++)l.push({block:s.blocks[v],tx:(0,ton_core_1$d.loadTransaction)(h[v].beginParse())});return l}async getConfig(r,n){let o="";n&&n.length>0&&(o="/"+[...n].sort().join(","));let a=await axios_1.default.get(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/"+r+"/config"+o,{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!configCodec.is(a.data))throw Error("Mailformed response");return a.data}async runMethod(r,n,o,a){let s=a&&a.length>0?"/"+(0,toUrlSafe_1.toUrlSafe)((0,ton_core_1$d.serializeTuple)(a).toBoc({idx:!1,crc32:!1}).toString("base64")):"",l=__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/block/"+r+"/"+n.toString({urlSafe:!0})+"/run/"+o+s,h=await axios_1.default.get(l,{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!runMethodCodec.is(h.data))throw Error("Mailformed response");let v=h.data.resultRaw?(0,ton_core_1$d.parseTuple)(ton_core_1$d.Cell.fromBoc(Buffer.from(h.data.resultRaw,"base64"))[0]):[];return{exitCode:h.data.exitCode,result:v,resultRaw:h.data.resultRaw,block:h.data.block,shardBlock:h.data.shardBlock,reader:new ton_core_1$d.TupleReader(v)}}async sendMessage(r){let n=await axios_1.default.post(__classPrivateFieldGet(this,_TonClient4_endpoint,"f")+"/send",{boc:r.toString("base64")},{adapter:__classPrivateFieldGet(this,_TonClient4_adapter,"f"),timeout:__classPrivateFieldGet(this,_TonClient4_timeout,"f")});if(!sendCodec.is(n.data))throw Error("Mailformed response");return{status:n.data.status}}open(r){return(0,ton_core_1$d.openContract)(r,n=>createProvider(this,null,n.address,n.init))}openAt(r,n){return(0,ton_core_1$d.openContract)(n,o=>createProvider(this,r,o.address,o.init))}provider(r,n){return createProvider(this,null,r,n||null)}providerAt(r,n,o){return createProvider(this,r,n,o||null)}}TonClient4$1.TonClient4=TonClient4;_TonClient4_endpoint=new WeakMap,_TonClient4_timeout=new WeakMap,_TonClient4_adapter=new WeakMap;function createProvider(e,r,n,o){return{async getState(){let a=r;a===null&&(a=(await e.getLastBlock()).last.seqno);let s=await e.getAccount(a,n),l=s.account.last?{lt:BigInt(s.account.last.lt),hash:Buffer.from(s.account.last.hash,"base64")}:null,h;if(s.account.state.type==="active")h={type:"active",code:s.account.state.code?Buffer.from(s.account.state.code,"base64"):null,data:s.account.state.data?Buffer.from(s.account.state.data,"base64"):null};else if(s.account.state.type==="uninit")h={type:"uninit"};else if(s.account.state.type==="frozen")h={type:"frozen",stateHash:Buffer.from(s.account.state.stateHash,"base64")};else throw Error("Unsupported state");return{balance:BigInt(s.account.balance.coins),last:l,state:h}},async get(a,s){let l=r;l===null&&(l=(await e.getLastBlock()).last.seqno);let h=await e.runMethod(l,n,a,s);if(h.exitCode!==0&&h.exitCode!==1)throw Error("Exit code: "+h.exitCode);return{stack:new ton_core_1$d.TupleReader(h.result)}},async external(a){let s=await e.getLastBlock(),l=null;o&&(await e.getAccountLite(s.last.seqno,n)).account.state.type!=="active"&&(l=o);const h=(0,ton_core_1$d.external)({to:n,init:l?{code:l.code,data:l.data}:null,body:a});let v=(0,ton_core_1$d.beginCell)().store((0,ton_core_1$d.storeMessage)(h)).endCell().toBoc();await e.sendMessage(v)},async internal(a,s){let l=await e.getLastBlock(),h=null;o&&(await e.getAccountLite(l.last.seqno,n)).account.state.type!=="active"&&(h=o);let v=!0;s.bounce!==null&&s.bounce!==void 0&&(v=s.bounce);let x;typeof s.value=="string"?x=(0,ton_core_1$d.toNano)(s.value):x=s.value;let M=null;typeof s.body=="string"?M=(0,ton_core_1$d.comment)(s.body):s.body&&(M=s.body),await a.send({to:n,value:x,bounce:v,sendMode:s.sendMode,init:h,body:M})}}}const lastBlockCodec=t.type({last:t.type({seqno:t.number,shard:t.string,workchain:t.number,fileHash:t.string,rootHash:t.string}),init:t.type({fileHash:t.string,rootHash:t.string}),stateRootHash:t.string,now:t.number}),blockCodec=t.union([t.type({exist:t.literal(!1)}),t.type({exist:t.literal(!0),block:t.type({shards:t.array(t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string,fileHash:t.string,transactions:t.array(t.type({account:t.string,hash:t.string,lt:t.string}))}))})})]),storageStatCodec=t.type({lastPaid:t.number,duePayment:t.union([t.null,t.string]),used:t.type({bits:t.number,cells:t.number,publicCells:t.number})}),accountCodec=t.type({account:t.type({state:t.union([t.type({type:t.literal("uninit")}),t.type({type:t.literal("active"),code:t.union([t.string,t.null]),data:t.union([t.string,t.null])}),t.type({type:t.literal("frozen"),stateHash:t.string})]),balance:t.type({coins:t.string}),last:t.union([t.null,t.type({lt:t.string,hash:t.string})]),storageStat:t.union([t.null,storageStatCodec])}),block:t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string,fileHash:t.string})}),accountLiteCodec=t.type({account:t.type({state:t.union([t.type({type:t.literal("uninit")}),t.type({type:t.literal("active"),codeHash:t.string,dataHash:t.string}),t.type({type:t.literal("frozen"),stateHash:t.string})]),balance:t.type({coins:t.string}),last:t.union([t.null,t.type({lt:t.string,hash:t.string})]),storageStat:t.union([t.null,storageStatCodec])})}),changedCodec=t.type({changed:t.boolean,block:t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string,fileHash:t.string})}),runMethodCodec=t.type({exitCode:t.number,resultRaw:t.union([t.string,t.null]),block:t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string,fileHash:t.string}),shardBlock:t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string,fileHash:t.string})}),configCodec=t.type({config:t.type({cell:t.string,address:t.string,globalBalance:t.type({coins:t.string})})}),sendCodec=t.type({status:t.number}),transactionsCodec=t.type({blocks:t.array(t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string,fileHash:t.string})),boc:t.string}),transactionCodec=t.type({block:t.type({workchain:t.number,seqno:t.number,shard:t.string,rootHash:t.string}),boc:t.string,proof:t.string});var WalletContractV1R1$1={},createWalletTransfer={};Object.defineProperty(createWalletTransfer,"__esModule",{value:!0});createWalletTransfer.createWalletTransferV4=createWalletTransfer.createWalletTransferV3=createWalletTransfer.createWalletTransferV2=createWalletTransfer.createWalletTransferV1=void 0;const ton_core_1$c=dist$1,ton_crypto_1$2=requireDist();function createWalletTransferV1(e){let r=(0,ton_core_1$c.beginCell)().storeUint(e.seqno,32);e.message&&(r.storeUint(e.sendMode,8),r.storeRef((0,ton_core_1$c.beginCell)().store((0,ton_core_1$c.storeMessageRelaxed)(e.message))));let n=(0,ton_crypto_1$2.sign)(r.endCell().hash(),e.secretKey);return(0,ton_core_1$c.beginCell)().storeBuffer(n).storeBuilder(r).endCell()}createWalletTransfer.createWalletTransferV1=createWalletTransferV1;function createWalletTransferV2(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,ton_core_1$c.beginCell)().storeUint(e.seqno,32);if(e.seqno===0)for(let a=0;a<32;a++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);for(let a of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,ton_core_1$c.beginCell)().store((0,ton_core_1$c.storeMessageRelaxed)(a)));let n=(0,ton_crypto_1$2.sign)(r.endCell().hash(),e.secretKey);return(0,ton_core_1$c.beginCell)().storeBuffer(n).storeBuilder(r).endCell()}createWalletTransfer.createWalletTransferV2=createWalletTransferV2;function createWalletTransferV3(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,ton_core_1$c.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let a=0;a<32;a++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);r.storeUint(e.seqno,32);for(let a of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,ton_core_1$c.beginCell)().store((0,ton_core_1$c.storeMessageRelaxed)(a)));let n=(0,ton_crypto_1$2.sign)(r.endCell().hash(),e.secretKey);return(0,ton_core_1$c.beginCell)().storeBuffer(n).storeBuilder(r).endCell()}createWalletTransfer.createWalletTransferV3=createWalletTransferV3;function createWalletTransferV4(e){if(e.messages.length>4)throw Error("Maximum number of messages in a single transfer is 4");let r=(0,ton_core_1$c.beginCell)().storeUint(e.walletId,32);if(e.seqno===0)for(let a=0;a<32;a++)r.storeBit(1);else r.storeUint(e.timeout||Math.floor(Date.now()/1e3)+60,32);r.storeUint(e.seqno,32),r.storeUint(0,8);for(let a of e.messages)r.storeUint(e.sendMode,8),r.storeRef((0,ton_core_1$c.beginCell)().store((0,ton_core_1$c.storeMessageRelaxed)(a)));let n=(0,ton_crypto_1$2.sign)(r.endCell().hash(),e.secretKey);return(0,ton_core_1$c.beginCell)().storeBuffer(n).storeBuilder(r).endCell()}createWalletTransfer.createWalletTransferV4=createWalletTransferV4;Object.defineProperty(WalletContractV1R1$1,"__esModule",{value:!0});WalletContractV1R1$1.WalletContractV1R1=void 0;const ton_core_1$b=dist$1,createWalletTransfer_1$7=createWalletTransfer;class WalletContractV1R1{constructor(r,n){this.workchain=r,this.publicKey=n;let o=ton_core_1$b.Cell.fromBoc(Buffer.from("te6cckEBAQEARAAAhP8AIN2k8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVEH98Ik=","base64"))[0],a=(0,ton_core_1$b.beginCell)().storeUint(0,32).storeBuffer(n).endCell();this.init={code:o,data:a},this.address=(0,ton_core_1$b.contractAddress)(r,{code:o,data:a})}static create(r){return new WalletContractV1R1(r.workchain,r.publicKey)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){let n=await r.getState();return n.state.type==="active"?ton_core_1$b.Cell.fromBoc(n.state.data)[0].beginParse().loadUint(32):0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$b.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$7.createWalletTransferV1)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,message:r.message})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,message:(0,ton_core_1$b.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})});await this.send(r,s)}}}}WalletContractV1R1$1.WalletContractV1R1=WalletContractV1R1;var WalletContractV1R2$1={};Object.defineProperty(WalletContractV1R2$1,"__esModule",{value:!0});WalletContractV1R2$1.WalletContractV1R2=void 0;const ton_core_1$a=dist$1,createWalletTransfer_1$6=createWalletTransfer;class WalletContractV1R2{constructor(r,n){this.workchain=r,this.publicKey=n;let o=ton_core_1$a.Cell.fromBoc(Buffer.from("te6cckEBAQEAUwAAov8AIN0gggFMl7qXMO1E0NcLH+Ck8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVNDieG8=","base64"))[0],a=(0,ton_core_1$a.beginCell)().storeUint(0,32).storeBuffer(n).endCell();this.init={code:o,data:a},this.address=(0,ton_core_1$a.contractAddress)(r,{code:o,data:a})}static create(r){return new WalletContractV1R2(r.workchain,r.publicKey)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$a.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$6.createWalletTransferV1)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,message:r.message})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,message:(0,ton_core_1$a.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})});await this.send(r,s)}}}}WalletContractV1R2$1.WalletContractV1R2=WalletContractV1R2;var WalletContractV1R3$1={};Object.defineProperty(WalletContractV1R3$1,"__esModule",{value:!0});WalletContractV1R3$1.WalletContractV1R3=void 0;const ton_core_1$9=dist$1,createWalletTransfer_1$5=createWalletTransfer;class WalletContractV1R3{constructor(r,n){this.workchain=r,this.publicKey=n;let o=ton_core_1$9.Cell.fromBoc(Buffer.from("te6cckEBAQEAXwAAuv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCBAgDXGCDXCx/tRNDTH9P/0VESuvKhIvkBVBBE+RDyovgAAdMfMSDXSpbTB9QC+wDe0aTIyx/L/8ntVLW4bkI=","base64"))[0],a=(0,ton_core_1$9.beginCell)().storeUint(0,32).storeBuffer(n).endCell();this.init={code:o,data:a},this.address=(0,ton_core_1$9.contractAddress)(r,{code:o,data:a})}static create(r){return new WalletContractV1R3(r.workchain,r.publicKey)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$9.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$5.createWalletTransferV1)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,message:r.message})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,message:(0,ton_core_1$9.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})});await this.send(r,s)}}}}WalletContractV1R3$1.WalletContractV1R3=WalletContractV1R3;var WalletContractV2R1$1={};Object.defineProperty(WalletContractV2R1$1,"__esModule",{value:!0});WalletContractV2R1$1.WalletContractV2R1=void 0;const ton_core_1$8=dist$1,createWalletTransfer_1$4=createWalletTransfer;class WalletContractV2R1{constructor(r,n){this.workchain=r,this.publicKey=n;let o=ton_core_1$8.Cell.fromBoc(Buffer.from("te6cckEBAQEAVwAAqv8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VShNwu2","base64"))[0],a=(0,ton_core_1$8.beginCell)().storeUint(0,32).storeBuffer(n).endCell();this.init={code:o,data:a},this.address=(0,ton_core_1$8.contractAddress)(r,{code:o,data:a})}static create(r){return new WalletContractV2R1(r.workchain,r.publicKey)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$8.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$4.createWalletTransferV2)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,messages:[(0,ton_core_1$8.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})]});await this.send(r,s)}}}}WalletContractV2R1$1.WalletContractV2R1=WalletContractV2R1;var WalletContractV2R2$1={};Object.defineProperty(WalletContractV2R2$1,"__esModule",{value:!0});WalletContractV2R2$1.WalletContractV2R2=void 0;const ton_core_1$7=dist$1,createWalletTransfer_1$3=createWalletTransfer;class WalletContractV2R2{constructor(r,n){this.workchain=r,this.publicKey=n;let o=ton_core_1$7.Cell.fromBoc(Buffer.from("te6cckEBAQEAYwAAwv8AIN0gggFMl7ohggEznLqxnHGw7UTQ0x/XC//jBOCk8mCDCNcYINMf0x8B+CO78mPtRNDTH9P/0VExuvKhA/kBVBBC+RDyovgAApMg10qW0wfUAvsA6NGkyMsfy//J7VQETNeh","base64"))[0],a=(0,ton_core_1$7.beginCell)().storeUint(0,32).storeBuffer(n).endCell();this.init={code:o,data:a},this.address=(0,ton_core_1$7.contractAddress)(r,{code:o,data:a})}static create(r){return new WalletContractV2R2(r.workchain,r.publicKey)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$7.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$3.createWalletTransferV2)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,messages:[(0,ton_core_1$7.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})]});await this.send(r,s)}}}}WalletContractV2R2$1.WalletContractV2R2=WalletContractV2R2;var WalletContractV3R1$1={};Object.defineProperty(WalletContractV3R1$1,"__esModule",{value:!0});WalletContractV3R1$1.WalletContractV3R1=void 0;const ton_core_1$6=dist$1,createWalletTransfer_1$2=createWalletTransfer;class WalletContractV3R1{constructor(r,n,o){this.workchain=r,this.publicKey=n,o!=null?this.walletId=o:this.walletId=698983191+r;let a=ton_core_1$6.Cell.fromBoc(Buffer.from("te6cckEBAQEAYgAAwP8AIN0gggFMl7qXMO1E0NcLH+Ck8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVD++buA=","base64"))[0],s=(0,ton_core_1$6.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(n).endCell();this.init={code:a,data:s},this.address=(0,ton_core_1$6.contractAddress)(r,{code:a,data:s})}static create(r){return new WalletContractV3R1(r.workchain,r.publicKey,r.walletId)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$6.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$2.createWalletTransferV3)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout,walletId:this.walletId})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,messages:[(0,ton_core_1$6.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})]});await this.send(r,s)}}}}WalletContractV3R1$1.WalletContractV3R1=WalletContractV3R1;var WalletContractV3R2$1={};Object.defineProperty(WalletContractV3R2$1,"__esModule",{value:!0});WalletContractV3R2$1.WalletContractV3R2=void 0;const ton_core_1$5=dist$1,createWalletTransfer_1$1=createWalletTransfer;class WalletContractV3R2{constructor(r,n,o){this.workchain=r,this.publicKey=n,o!=null?this.walletId=o:this.walletId=698983191+r;let a=ton_core_1$5.Cell.fromBoc(Buffer.from("te6cckEBAQEAcQAA3v8AIN0gggFMl7ohggEznLqxn3Gw7UTQ0x/THzHXC//jBOCk8mCDCNcYINMf0x/TH/gjE7vyY+1E0NMf0x/T/9FRMrryoVFEuvKiBPkBVBBV+RDyo/gAkyDXSpbTB9QC+wDo0QGkyMsfyx/L/8ntVBC9ba0=","base64"))[0],s=(0,ton_core_1$5.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(n).endCell();this.init={code:a,data:s},this.address=(0,ton_core_1$5.contractAddress)(r,{code:a,data:s})}static create(r){return new WalletContractV3R2(r.workchain,r.publicKey,r.walletId)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$5.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1$1.createWalletTransferV3)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout,walletId:this.walletId})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,messages:[(0,ton_core_1$5.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})]});await this.send(r,s)}}}}WalletContractV3R2$1.WalletContractV3R2=WalletContractV3R2;var WalletContractV4$1={};Object.defineProperty(WalletContractV4$1,"__esModule",{value:!0});WalletContractV4$1.WalletContractV4=void 0;const ton_core_1$4=dist$1,createWalletTransfer_1=createWalletTransfer;class WalletContractV4{constructor(r,n,o){this.workchain=r,this.publicKey=n,o!=null?this.walletId=o:this.walletId=698983191+r;let a=ton_core_1$4.Cell.fromBoc(Buffer.from("te6ccgECFAEAAtQAART/APSkE/S88sgLAQIBIAIDAgFIBAUE+PKDCNcYINMf0x/THwL4I7vyZO1E0NMf0x/T//QE0VFDuvKhUVG68qIF+QFUEGT5EPKj+AAkpMjLH1JAyx9SMMv/UhD0AMntVPgPAdMHIcAAn2xRkyDXSpbTB9QC+wDoMOAhwAHjACHAAuMAAcADkTDjDQOkyMsfEssfy/8QERITAubQAdDTAyFxsJJfBOAi10nBIJJfBOAC0x8hghBwbHVnvSKCEGRzdHK9sJJfBeAD+kAwIPpEAcjKB8v/ydDtRNCBAUDXIfQEMFyBAQj0Cm+hMbOSXwfgBdM/yCWCEHBsdWe6kjgw4w0DghBkc3RyupJfBuMNBgcCASAICQB4AfoA9AQw+CdvIjBQCqEhvvLgUIIQcGx1Z4MesXCAGFAEywUmzxZY+gIZ9ADLaRfLH1Jgyz8gyYBA+wAGAIpQBIEBCPRZMO1E0IEBQNcgyAHPFvQAye1UAXKwjiOCEGRzdHKDHrFwgBhQBcsFUAPPFiP6AhPLassfyz/JgED7AJJfA+ICASAKCwBZvSQrb2omhAgKBrkPoCGEcNQICEekk30pkQzmkD6f+YN4EoAbeBAUiYcVnzGEAgFYDA0AEbjJftRNDXCx+AA9sp37UTQgQFA1yH0BDACyMoHy//J0AGBAQj0Cm+hMYAIBIA4PABmtznaiaEAga5Drhf/AABmvHfaiaEAQa5DrhY/AAG7SB/oA1NQi+QAFyMoHFcv/ydB3dIAYyMsFywIizxZQBfoCFMtrEszMyXP7AMhAFIEBCPRR8qcCAHCBAQjXGPoA0z/IVCBHgQEI9FHyp4IQbm90ZXB0gBjIywXLAlAGzxZQBPoCFMtqEssfyz/Jc/sAAgBsgQEI1xj6ANM/MFIkgQEI9Fnyp4IQZHN0cnB0gBjIywXLAlAFzxZQA/oCE8tqyx8Syz/Jc/sAAAr0AMntVA==","base64"))[0],s=(0,ton_core_1$4.beginCell)().storeUint(0,32).storeUint(this.walletId,32).storeBuffer(this.publicKey).storeBit(0).endCell();this.init={code:a,data:s},this.address=(0,ton_core_1$4.contractAddress)(r,{code:a,data:s})}static create(r){return new WalletContractV4(r.workchain,r.publicKey,r.walletId)}async getBalance(r){return(await r.getState()).balance}async getSeqno(r){return(await r.getState()).state.type==="active"?(await r.get("seqno",[])).stack.readNumber():0}async send(r,n){await r.external(n)}async sendTransfer(r,n){let o=this.createTransfer(n);await this.send(r,o)}createTransfer(r){let n=ton_core_1$4.SendMode.PAY_GAS_SEPARATELY;return r.sendMode!==null&&r.sendMode!==void 0&&(n=r.sendMode),(0,createWalletTransfer_1.createWalletTransferV4)({seqno:r.seqno,sendMode:n,secretKey:r.secretKey,messages:r.messages,timeout:r.timeout,walletId:this.walletId})}sender(r,n){return{send:async o=>{let a=await this.getSeqno(r),s=this.createTransfer({seqno:a,secretKey:n,sendMode:o.sendMode,messages:[(0,ton_core_1$4.internal)({to:o.to,value:o.value,init:o.init,body:o.body,bounce:o.bounce})]});await this.send(r,s)}}}}WalletContractV4$1.WalletContractV4=WalletContractV4;var JettonMaster$1={};Object.defineProperty(JettonMaster$1,"__esModule",{value:!0});JettonMaster$1.JettonMaster=void 0;const ton_core_1$3=dist$1;class JettonMaster{constructor(r){this.address=r}static create(r){return new JettonMaster(r)}async getWalletAddress(r,n){return(await r.get("get_wallet_address",[{type:"slice",cell:(0,ton_core_1$3.beginCell)().storeAddress(n).endCell()}])).stack.readAddress()}async getJettonData(r){let n=await r.get("get_jetton_data",[]),o=n.stack.readBigNumber(),a=n.stack.readBoolean(),s=n.stack.readAddress(),l=n.stack.readCell(),h=n.stack.readCell();return{totalSupply:o,mintable:a,adminAddress:s,content:l,walletCode:h}}}JettonMaster$1.JettonMaster=JettonMaster;var JettonWallet$1={};Object.defineProperty(JettonWallet$1,"__esModule",{value:!0});JettonWallet$1.JettonWallet=void 0;class JettonWallet{constructor(r){this.address=r}static create(r){return new JettonWallet(r)}async getBalance(r){return(await r.getState()).state.type!=="active"?0n:(await r.get("get_wallet_data",[])).stack.readBigNumber()}}JettonWallet$1.JettonWallet=JettonWallet;var MultisigOrder$1={};Object.defineProperty(MultisigOrder$1,"__esModule",{value:!0});MultisigOrder$1.MultisigOrder=void 0;const ton_crypto_1$1=requireDist(),ton_core_1$2=dist$1;class MultisigOrder{constructor(r){this.signatures={},this.payload=r}static fromCell(r){var l;let n=r.beginParse(),o=(l=n.loadMaybeRef())==null?void 0:l.beginParse();const a=n.asCell();let s=new MultisigOrder(a);if(o){for(;o.remainingBits>0;){const h=o.loadBuffer(64),v=o.loadUint(8);s.signatures[v]=h,o.remainingRefs>0?o=o.loadRef().asSlice():o.skip(1)}o.endParse()}return s}static fromPayload(r){return new MultisigOrder(r)}addSignature(r,n,o){const a=this.payload.hash();if(!(0,ton_crypto_1$1.signVerify)(a,n,o.owners.get(r).slice(0,-1)))throw Error("invalid signature");this.signatures[r]=n}sign(r,n){const o=this.payload.hash();return this.signatures[r]=(0,ton_crypto_1$1.sign)(o,n),o}unionSignatures(r){this.signatures=Object.assign({},this.signatures,r.signatures)}clearSignatures(){this.signatures={}}toCell(r){let n=(0,ton_core_1$2.beginCell)().storeBit(0);for(const o in this.signatures){const a=this.signatures[o];n=(0,ton_core_1$2.beginCell)().storeBit(1).storeRef((0,ton_core_1$2.beginCell)().storeBuffer(a).storeUint(parseInt(o),8).storeBuilder(n).endCell())}return(0,ton_core_1$2.beginCell)().storeUint(r,8).storeBuilder(n).storeBuilder(this.payload.asBuilder()).endCell()}}MultisigOrder$1.MultisigOrder=MultisigOrder;var MultisigOrderBuilder$1={};Object.defineProperty(MultisigOrderBuilder$1,"__esModule",{value:!0});MultisigOrderBuilder$1.MultisigOrderBuilder=void 0;const ton_core_1$1=dist$1,MultisigOrder_1=MultisigOrder$1;class MultisigOrderBuilder{constructor(r,n){this.messages=(0,ton_core_1$1.beginCell)(),this.queryId=0n,this.walletId=r,this.queryOffset=n||7200}addMessage(r,n){if(this.messages.refs>=4)throw Error("only 4 refs are allowed");this.updateQueryId(),this.messages.storeUint(n,8),this.messages.storeRef((0,ton_core_1$1.beginCell)().store((0,ton_core_1$1.storeMessageRelaxed)(r)).endCell())}clearMessages(){this.messages=(0,ton_core_1$1.beginCell)()}build(){return MultisigOrder_1.MultisigOrder.fromPayload((0,ton_core_1$1.beginCell)().storeUint(this.walletId,32).storeUint(this.queryId,64).storeBuilder(this.messages).endCell())}updateQueryId(){const r=BigInt(Math.floor(Date.now()/1e3+this.queryOffset));this.queryId=r<<32n}}MultisigOrderBuilder$1.MultisigOrderBuilder=MultisigOrderBuilder;var MultisigWallet$1={};Object.defineProperty(MultisigWallet$1,"__esModule",{value:!0});MultisigWallet$1.MultisigWallet=void 0;const ton_crypto_1=requireDist(),ton_core_1=dist$1,MULTISIG_CODE=ton_core_1.Cell.fromBase64("te6ccgECKwEABBgAART/APSkE/S88sgLAQIBIAIDAgFIBAUE2vIgxwCOgzDbPOCDCNcYIPkBAdMH2zwiwAAToVNxePQOb6Hyn9s8VBq6+RDyoAb0BCD5AQHTH1EYuvKq0z9wUwHwCgHCCAGDCryx8mhTFYBA9A5voSCYDqQgwgryZw7f+COqH1NAufJhVCOjU04gIyEiAgLMBgcCASAMDQIBIAgJAgFmCgsAA9GEAiPymAvHoHN9CYbZ5S7Z4BPHohwhJQAtAKkItdJEqCTItdKlwLUAdAT8ArobBKAATwhbpEx4CBukTDgAdAg10rDAJrUAvALyFjPFszJ4HHXI8gBzxb0AMmACASAODwIBIBQVARW77ZbVA0cFUg2zyCoCAUgQEQIBIBITAXOxHXQgwjXGCD5AQHTB4IB1MTtQ9hTIHj0Dm+h8p/XC/9eMfkQ8qCuAfQEIW6TW3Ey4PkBWNs8AaQBgJwA9rtqA6ADoAPoCAXoCEfyAgPyA3XlP+AXkegAA54tkwAAXrhlXP8EA1WZ2oexAAgEgFhcCASAYGQFRtyVbZ4YmRmpGEAgegc30McJNhFpAADMaYeYuAFrgJhwLb+4cC3d0bhAjAYm1WZtnhqvgb+2xxsoicAgej430pBHEoFpAADHDhBACGuQkuuBk9kUWE5kAOeLKhACQCB6IYFImHFImHFImXEA2YlzNijAjAgEgGhsAF7UGtc4QQDVZnah7EAIBIBwdAgOZOB4fARGsGm2eL4G2CUAjABWt+UEAzJV2oewYQAENqTbPBVfBYCMAFa3f3CCAarM7UPYgAiDbPALyZfgAUENxQxPbPO1UIyoACtP/0wcwBKDbPC+uUyCw8mISsQKkJbNTHLmwJYEA4aojoCi8sPJpggGGoPgBBZcCERACPj4wjo0REB/bPEDXePRDEL0F4lQWW1Rz51YQU9zbPFRxClR6vCQlKCYAIO1E0NMf0wfTB9M/9AT0BNEAXgGOGjDSAAHyo9MH0wdQA9cBIPkBBfkBFbrypFAD4GwhIddKqgIi10m68qtwVCATAAwByMv/ywcE1ts87VT4D3AlblOJvrGYEG4QLVDHXwePGzBUJANQTds8UFWgRlAQSRA6SwlTuds8UFQWf+L4AAeDJaGOLCaAQPSWb6UglDBTA7neII4WODk5CNIAAZfTBzAW8AcFkTDifwgHBZJsMeKz5jAGKicoKQBgcI4pA9CDCNcY0wf0BDBTFnj0Dm+h8qXXC/9URUT5EPKmrlIgsVIDvRShI27mbCIyAH5SML6OIF8D+ACTItdKmALTB9QC+wAC6DJwyMoAQBSAQPRDAvAHjhdxyMsAFMsHEssHWM8BWM8WQBOAQPRDAeIBII6KEEUQNEMA2zztVJJfBuIqABzIyx/LB8sHyz/0APQAyQ==");class MultisigWallet{constructor(r,n,o,a,s){this.provider=null,this.owners=ton_core_1.Dictionary.empty(),this.workchain=n,this.walletId=o,this.k=a;for(let l=0;l<r.length;l+=1)this.owners.set(l,Buffer.concat([r[l],Buffer.alloc(1)]));this.init={code:MULTISIG_CODE,data:(0,ton_core_1.beginCell)().storeUint(this.walletId,32).storeUint(this.owners.size,8).storeUint(this.k,8).storeUint(0,64).storeDict(this.owners,ton_core_1.Dictionary.Keys.Uint(8),ton_core_1.Dictionary.Values.Buffer(33)).storeBit(0).endCell()},this.address=(s==null?void 0:s.address)||(0,ton_core_1.contractAddress)(n,this.init),s!=null&&s.provider?this.provider=s.provider:s!=null&&s.client&&(this.provider=s.client.provider(this.address,{code:this.init.code,data:this.init.data}))}static async fromAddress(r,n){let o;if(n.provider)o=n.provider;else{if(!n.client)throw Error("Either provider or client must be specified");o=n.client.provider(r,{code:null,data:null})}const a=(await o.getState()).state;if(a.type!=="active")throw Error("Contract must be active");const s=ton_core_1.Cell.fromBoc(a.data)[0].beginParse(),l=s.loadUint(32);s.skip(8);const h=s.loadUint(8);s.skip(64);const v=s.loadDict(ton_core_1.Dictionary.Keys.Uint(8),ton_core_1.Dictionary.Values.Buffer(33));let x=[];for(const[M,P]of v){const j=P.subarray(0,32);x.push(j)}return new MultisigWallet(x,r.workChain,l,h,{address:r,provider:o,client:n.client})}async deployExternal(r){if(!r&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");r||(r=this.provider),await r.external(ton_core_1.Cell.EMPTY)}async deployInternal(r,n=1000000000n){await r.send({sendMode:3,to:this.address,value:n,init:this.init,body:ton_core_1.Cell.EMPTY,bounce:!0})}async sendOrder(r,n,o){if(!o&&!this.provider)throw Error("you must specify provider if there is no such property in MultisigWallet instance");o||(o=this.provider);let a=(0,ton_crypto_1.keyPairFromSecretKey)(n).publicKey,s=this.getOwnerIdByPubkey(a),l=r.toCell(s),h=(0,ton_crypto_1.sign)(l.hash(),n);l=(0,ton_core_1.beginCell)().storeBuffer(h).storeSlice(l.asSlice()).endCell(),await o.external(l)}getOwnerIdByPubkey(r){for(const[n,o]of this.owners)if(o.subarray(0,32).equals(r))return n;throw Error("public key is not an owner")}}MultisigWallet$1.MultisigWallet=MultisigWallet;(function(e){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ye,G,J,le){le===void 0&&(le=J),Object.defineProperty(ye,le,{enumerable:!0,get:function(){return G[J]}})}:function(ye,G,J,le){le===void 0&&(le=J),ye[le]=G[J]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(ye,G){for(var J in ye)J!=="default"&&!Object.prototype.hasOwnProperty.call(G,J)&&r(G,ye,J)};Object.defineProperty(e,"__esModule",{value:!0}),e.MultisigWallet=e.MultisigOrderBuilder=e.MultisigOrder=e.JettonWallet=e.JettonMaster=e.WalletContractV4=e.WalletContractV3R2=e.WalletContractV3R1=e.WalletContractV2R2=e.WalletContractV2R1=e.WalletContractV1R3=e.WalletContractV1R2=e.WalletContractV1R1=e.TonClient4=e.TonClient=e.HttpApi=void 0,n(dist$1,e);var o=HttpApi$1;Object.defineProperty(e,"HttpApi",{enumerable:!0,get:function(){return o.HttpApi}});var a=TonClient$1;Object.defineProperty(e,"TonClient",{enumerable:!0,get:function(){return a.TonClient}});var s=TonClient4$1;Object.defineProperty(e,"TonClient4",{enumerable:!0,get:function(){return s.TonClient4}});var l=WalletContractV1R1$1;Object.defineProperty(e,"WalletContractV1R1",{enumerable:!0,get:function(){return l.WalletContractV1R1}});var h=WalletContractV1R2$1;Object.defineProperty(e,"WalletContractV1R2",{enumerable:!0,get:function(){return h.WalletContractV1R2}});var v=WalletContractV1R3$1;Object.defineProperty(e,"WalletContractV1R3",{enumerable:!0,get:function(){return v.WalletContractV1R3}});var x=WalletContractV2R1$1;Object.defineProperty(e,"WalletContractV2R1",{enumerable:!0,get:function(){return x.WalletContractV2R1}});var M=WalletContractV2R2$1;Object.defineProperty(e,"WalletContractV2R2",{enumerable:!0,get:function(){return M.WalletContractV2R2}});var P=WalletContractV3R1$1;Object.defineProperty(e,"WalletContractV3R1",{enumerable:!0,get:function(){return P.WalletContractV3R1}});var j=WalletContractV3R2$1;Object.defineProperty(e,"WalletContractV3R2",{enumerable:!0,get:function(){return j.WalletContractV3R2}});var V=WalletContractV4$1;Object.defineProperty(e,"WalletContractV4",{enumerable:!0,get:function(){return V.WalletContractV4}});var ee=JettonMaster$1;Object.defineProperty(e,"JettonMaster",{enumerable:!0,get:function(){return ee.JettonMaster}});var se=JettonWallet$1;Object.defineProperty(e,"JettonWallet",{enumerable:!0,get:function(){return se.JettonWallet}});var Q=MultisigOrder$1;Object.defineProperty(e,"MultisigOrder",{enumerable:!0,get:function(){return Q.MultisigOrder}});var $e=MultisigOrderBuilder$1;Object.defineProperty(e,"MultisigOrderBuilder",{enumerable:!0,get:function(){return $e.MultisigOrderBuilder}});var Ie=MultisigWallet$1;Object.defineProperty(e,"MultisigWallet",{enumerable:!0,get:function(){return Ie.MultisigWallet}})})(dist$2);const CONFIG={MAINNET:{CONTRACT_ADDRESS:"",END_POINT:"https://toncenter.com/api/v2/jsonRPC",SEND_COINS:"10000000",GET_METHOD_NAME:""},TESTNET:{CONTRACT_ADDRESS:"EQC3O6mjr6eUY12sH8KpHkgCKArj9kGbmjfnlTIt9_SQbNeF",END_POINT:"https://testnet.toncenter.com/api/v2/jsonRPC",SEND_COINS:"100000000",GET_METHOD_NAME:"get_salt"}};var ConnectionStatus=(e=>(e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.WAIT=2]="WAIT",e))(ConnectionStatus||{});class WalletConnection{constructor(){Dt(this,"statusChanged");Dt(this,"deepLinkChanged");Dt(this,"saltChanged");Dt(this,"passwordChanged");Dt(this,"receivedPasswordChanged");Dt(this,"isTransactionSendChanged");Dt(this,"_connector");Dt(this,"_status");Dt(this,"_deepLink");Dt(this,"_salt");Dt(this,"_password");Dt(this,"_receivedPassword");Dt(this,"_isTransactionSended");this._status=0,this._deepLink="",this._salt="",this._password="",this._receivedPassword="",this._isTransactionSended=!1,this._connector=new TonConnect$1({manifestUrl:"https://raw.githubusercontent.com/opexu/TON_Password_Saver/main/webapp/src/tonconnect-manifest.json"}),this._connector.onStatusChange(this._onStatusChange.bind(this))}get status(){return this._status}set status(r){this._status=r,this.statusChanged&&this.statusChanged(this._status)}get deepLink(){return this._deepLink}set deepLink(r){this._deepLink=r,this.deepLinkChanged&&this.deepLinkChanged(this._deepLink)}set salt(r){this._salt=r,this.saltChanged&&this.saltChanged(this._salt)}set password(r){this._password=r,this.passwordChanged&&this.passwordChanged(this._password)}set receivedPassword(r){this._receivedPassword=r,this.receivedPasswordChanged&&this.receivedPasswordChanged(this._receivedPassword)}set isTransactionSended(r){this._isTransactionSended=r,this.isTransactionSendChanged&&this.isTransactionSendChanged(this._isTransactionSended)}async _onStatusChange(r){if(r&&this.deepLink===""){const{bridgeWallet:n}=await this._getTonKeeper();this.deepLink=n.universalLink}r?this.status=1:this.status=0}async _getTonKeeper(){const r=await this._connector.getWallets(),n=r.find(a=>{isWalletInfoInjected(a)&&a.embedded}),o=r.find(a=>a.name==="Tonkeeper");return{embeddedWallet:n,bridgeWallet:o}}async restoreConnection(){this.status=2,this._connector.restoreConnection()}async initConnection(){this.status=2;const{embeddedWallet:r,bridgeWallet:n}=await this._getTonKeeper();if(r)this._connector.connect({jsBridgeKey:r.jsBridgeKey});else if(n){const o=this._connector.connect({universalLink:n.universalLink,bridgeUrl:n.bridgeUrl});this.deepLink=o}else console.warn("no available wallets")}async disconnect(){this.status=2,this._connector.disconnect()}async getPassword(r){if(!this._connector.connected)return;console.log("salt: ",r);const n=GenerateGetPayload(r),o=new dist$2.TonClient({endpoint:CONFIG.TESTNET.END_POINT}),a=dist$2.Address.parse(CONFIG.TESTNET.CONTRACT_ADDRESS),s={type:"cell",cell:dist$2.Cell.fromBase64(n)};try{const{stack:l}=await o.runMethod(a,CONFIG.TESTNET.GET_METHOD_NAME,[s]),v=l.readCell().beginParse(),x=v.loadUint(8),P=v.loadBuffer(x/8).toString("utf8");this.receivedPassword=P}catch(l){console.log("error",l)}}async savePassword(r,n){if(!this._connector.connected)return;console.log("salt: ",r),console.log("password: ",n);const o=await GenerateSendPayload(r,n),a={validUntil:Math.round(Date.now()/1e3+60*60*24),messages:[{address:CONFIG.TESTNET.CONTRACT_ADDRESS,amount:CONFIG.TESTNET.SEND_COINS,payload:o}]};try{this.isTransactionSended=!0;const s=await this._connector.sendTransaction(a);console.log("result",s)}catch(s){s instanceof UserRejectsError?console.warn("You rejected the transaction. Please confirm it to send to the blockchain",s):console.warn("Unknown error happened",s)}finally{this.isTransactionSended=!1}}}function GenerateGetPayload(e){const r=Buffer.from(e);return dist$2.beginCell().storeUint(r.byteLength*8,8).storeBuffer(r).endCell().toBoc().toString("base64")}async function GenerateSendPayload(e,r){const o=Buffer.from(e),a=Buffer.from(r);return dist$2.beginCell().storeUint(2122802415,32).storeUint(o.byteLength*8,8).storeUint(a.byteLength*8,8).storeBuffer(o).storeBuffer(a).endCell().toBoc().toString("base64")}var SCREEN=(e=>(e[e.MAIN=0]="MAIN",e[e.LOAD=1]="LOAD",e[e.SAVE=2]="SAVE",e[e.WALLET=3]="WALLET",e))(SCREEN||{});const useTONStore=defineStore("TONStore",{state:()=>({screenState:SCREEN.WALLET,connectionStatus:ConnectionStatus.DISABLE,deepLink:"",receivedPassword:"",isTransactionSended:!1}),actions:{async changeScreen(e){this.screenState=e},async connectWallet(){},async disconnectWallet(){},async getPassword(e){},async savePassword(e,r){}},getters:{getScreen:e=>e.screenState,getStatus:e=>e.connectionStatus,getDeepLink:e=>e.deepLink,getReceivedPassword:e=>e.receivedPassword,getIsTransactionSended:e=>e.isTransactionSended}}),_sfc_main$4=defineComponent({props:{Locale:{type:String,required:!0},LANG:{type:Object,required:!0}},data:()=>({isPinValid:!1,pin:"",approveInProcess:!1}),methods:{...mapState(useTONStore,["getReceivedPassword"]),...mapActions(useTONStore,["getPassword"]),onPinInput(){const e=/[0-9]/g;this.isPinValid=this.validate(this.pin,e)&&this.pin.length>4},validate(e,r){return!!e.match(r)},async getTransaction(){if(this.isPinValid&&!this.approveInProcess){console.log("get request to blockchain"),this.approveInProcess=!0;try{this.getPassword(this.pin)}catch(e){console.warn("error",e)}finally{this.approveInProcess=!1}}}}}),_export_sfc=(e,r)=>{const n=e.__vccOpts||e;for(const[o,a]of r)n[o]=a;return n},_hoisted_1$4={class:"w-full h-full flex flex-col"},_hoisted_2$4={autocomplete:"off",enctype:"multipart/form-data",method:"post",class:"space-y-8"},_hoisted_3$3={class:"w-full h-full flex flex-col"},_hoisted_4$1={for:"pin",class:"w-full h-fit"},_hoisted_5$1={class:"w-full h-fit flex flex-row space-x-4"},_hoisted_6$1={class:"w-full h-auto relative"},_hoisted_7$1={key:0,class:"text-red-500"},_hoisted_8$1={class:"w-full h-full flex flex-col"},_hoisted_9$1=["disabled"],_hoisted_10$1={key:0,class:"w-full h-full mt-4 flex flex-col"},_hoisted_11$1={for:"receive-password",class:"w-full h-fit"},_hoisted_12$1={class:"w-full h-fit flex flex-row space-x-4"},_hoisted_13$1={id:"receive-password",class:"w-full h-fit p-4 border rounded-md bg-inherit focus-visible:outline-none focus-visible:border-blue-600"};function _sfc_render$4(e,r,n,o,a,s){return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("form",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("label",_hoisted_4$1,toDisplayString(e.LANG.PASSWORD_LOADER.PIN_LABEL[e.Locale]),1),createBaseVNode("div",_hoisted_5$1,[withDirectives(createBaseVNode("input",{id:"pin",ref:"pin",type:"text",autocomplete:"new-password",class:"w-full h-fit p-4 border rounded-md bg-inherit focus-visible:outline-none focus-visible:border-blue-600","onUpdate:modelValue":r[0]||(r[0]=l=>e.pin=l),onInput:r[1]||(r[1]=(...l)=>e.onPinInput&&e.onPinInput(...l))},null,544),[[vModelText,e.pin]])]),createBaseVNode("div",_hoisted_6$1,[e.isPinValid?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_7$1,toDisplayString(e.LANG.PASSWORD_LOADER.PIN_HELPER[e.Locale]),1))])]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("button",{type:"button",class:"w-full h-fit p-4 mt-4 border rounded-md [&:not([disabled])]:active:bg-blue-800 disabled:border-slate-600 disabled:text-slate-600",disabled:!e.isPinValid||e.approveInProcess,onClick:r[2]||(r[2]=(...l)=>e.getTransaction&&e.getTransaction(...l))},toDisplayString(e.LANG.PASSWORD_LOADER.APPROVE_BTN_TEXT[e.Locale]),9,_hoisted_9$1)]),e.getReceivedPassword()!==""?(openBlock(),createElementBlock("div",_hoisted_10$1,[createBaseVNode("label",_hoisted_11$1,toDisplayString(e.LANG.PASSWORD_LOADER.PASS_LABEL[e.Locale]),1),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("p",_hoisted_13$1,toDisplayString(e.getReceivedPassword()),1)])])):createCommentVNode("",!0)])])}const LoadPassword=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3=defineComponent({props:{Locale:{type:String,required:!0},LANG:{type:Object,required:!0}},data:()=>({isPasswordShown:!1,isPasswordValid:!1,isPinValid:!1,pin:"",password:"",approveInProcess:!1}),methods:{...mapState(useTONStore,["getStatus","getDeepLink","getIsTransactionSended"]),...mapActions(useTONStore,["savePassword"]),onPinInput(){const e=/[0-9]/g;this.isPinValid=this.validate(this.pin,e)&&this.pin.length>4},onPasswordInput(){console.log("navigator.language: ",navigator.language);const e=/[a-z]/g,r=/[A-Z]/g,n=/[0-9]/g;this.isPasswordValid=this.validate(this.password,e)&&this.validate(this.password,r)&&this.validate(this.password,n)&&this.password.length>4},validate(e,r){return!!e.match(r)},async approveTransaction(){if(!(!this.isPinValid||!this.isPasswordValid)&&!this.approveInProcess){console.log("try approve"),this.approveInProcess=!0;try{this.savePassword(this.pin,this.password)}catch(e){console.warn("error",e)}finally{this.approveInProcess=!1}}}},computed:{calcDeepLink(){return this.getDeepLink()}}}),_hoisted_1$3={class:"w-full h-full flex flex-col"},_hoisted_2$3={autocomplete:"off",enctype:"multipart/form-data",method:"post",class:"space-y-8"},_hoisted_3$2={class:"w-full h-full flex flex-col"},_hoisted_4={for:"pin",class:"w-full h-fit"},_hoisted_5={class:"w-full h-fit flex flex-row space-x-4"},_hoisted_6={class:"w-full h-auto relative"},_hoisted_7={key:0,class:"text-red-500"},_hoisted_8={class:"w-full h-full flex flex-col"},_hoisted_9={for:"pass",class:"w-full h-fit"},_hoisted_10={class:"w-full h-fit flex flex-row space-x-4"},_hoisted_11=["type"],_hoisted_12={key:0,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 96 960 960",width:"24"},_hoisted_13=createBaseVNode("path",{fill:"white",d:"M480 736q75 0 127.5-52.5T660 556q0-75-52.5-127.5T480 376q-75 0-127.5 52.5T300 556q0 75 52.5 127.5T480 736Zm0-72q-45 0-76.5-31.5T372 556q0-45 31.5-76.5T480 448q45 0 76.5 31.5T588 556q0 45-31.5 76.5T480 664Zm0 192q-146 0-266-81.5T40 556q54-137 174-218.5T480 256q146 0 266 81.5T920 556q-54 137-174 218.5T480 856Zm0-300Zm0 220q113 0 207.5-59.5T832 556q-50-101-144.5-160.5T480 336q-113 0-207.5 59.5T128 556q50 101 144.5 160.5T480 776Z"},null,-1),_hoisted_14=[_hoisted_13],_hoisted_15={key:1,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 96 960 960",width:"24"},_hoisted_16=createBaseVNode("path",{fill:"white",d:"m644 628-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660 556q0 20-4 37.5T644 628Zm128 126-58-56q38-29 67.5-63.5T832 556q-50-101-143.5-160.5T480 336q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920 556q-23 59-60.5 109.5T772 754Zm20 246L624 834q-35 11-70.5 16.5T480 856q-151 0-269-83.5T40 556q21-53 53-98.5t73-81.5L56 264l56-56 736 736-56 56ZM222 432q-29 26-53 57t-41 67q50 101 143.5 160.5T480 776q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300 556q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"},null,-1),_hoisted_17=[_hoisted_16],_hoisted_18={class:"w-full h-auto relative"},_hoisted_19={key:0,class:"text-red-500"},_hoisted_20={class:"w-full h-full flex flex-col"},_hoisted_21=["disabled"],_hoisted_22=["href"];function _sfc_render$3(e,r,n,o,a,s){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("form",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("label",_hoisted_4,toDisplayString(e.LANG.PASSWORD_SAVER.PIN_LABEL[e.Locale]),1),createBaseVNode("div",_hoisted_5,[withDirectives(createBaseVNode("input",{id:"pin",ref:"pin",type:"text",autocomplete:"new-password",class:"w-full h-fit p-4 border rounded-md bg-inherit focus-visible:outline-none focus-visible:border-blue-600","onUpdate:modelValue":r[0]||(r[0]=l=>e.pin=l),onInput:r[1]||(r[1]=(...l)=>e.onPinInput&&e.onPinInput(...l))},null,544),[[vModelText,e.pin]])]),createBaseVNode("div",_hoisted_6,[e.isPinValid?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_7,toDisplayString(e.LANG.PASSWORD_SAVER.PIN_HELPER[e.Locale]),1))])]),createBaseVNode("div",_hoisted_8,[createBaseVNode("label",_hoisted_9,toDisplayString(e.LANG.PASSWORD_SAVER.PASS_LABEL[e.Locale]),1),createBaseVNode("div",_hoisted_10,[withDirectives(createBaseVNode("input",{id:"pass",ref:"pass",type:e.isPasswordShown?"text":"password",autocomplete:"new-password",class:"w-full h-fit p-4 border rounded-md bg-inherit focus:outline-none focus-visible:border-blue-600","onUpdate:modelValue":r[2]||(r[2]=l=>e.password=l),onInput:r[3]||(r[3]=(...l)=>e.onPasswordInput&&e.onPasswordInput(...l))},null,40,_hoisted_11),[[vModelDynamic,e.password]]),createBaseVNode("button",{type:"button",class:"w-16 min-w-fit h-fit p-4 border rounded-md",onClick:r[4]||(r[4]=l=>e.isPasswordShown=!e.isPasswordShown)},[e.isPasswordShown?(openBlock(),createElementBlock("svg",_hoisted_12,_hoisted_14)):(openBlock(),createElementBlock("svg",_hoisted_15,_hoisted_17))])]),createBaseVNode("div",_hoisted_18,[e.isPasswordValid?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_19,toDisplayString(e.LANG.PASSWORD_SAVER.PASS_HELPER[e.Locale]),1))])]),createBaseVNode("div",_hoisted_20,[createBaseVNode("button",{type:"button",class:"w-full h-fit p-4 mt-4 border rounded-md [&:not([disabled])]:active:bg-blue-800 disabled:border-slate-600 disabled:text-slate-600",disabled:!e.isPinValid||!e.isPasswordValid||e.getIsTransactionSended(),onClick:r[5]||(r[5]=(...l)=>e.approveTransaction&&e.approveTransaction(...l))},toDisplayString(e.LANG.PASSWORD_SAVER.APPROVE_BTN_TEXT[e.Locale]),9,_hoisted_21),e.getIsTransactionSended()?(openBlock(),createElementBlock("a",{key:0,class:"w-full h-fit p-4 mt-4 border rounded-md text-center active:bg-blue-800",href:e.calcDeepLink},toDisplayString(e.LANG.WALLET.LINK_TO_WALLET[e.Locale]),9,_hoisted_22)):createCommentVNode("",!0)])])])}const SavePassword=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_sfc_main$2=defineComponent({props:{LANG:{type:Object,required:!0},Locale:{type:String,required:!0}},data:()=>({SCREEN}),methods:{...mapState(useTONStore,["getScreen"]),...mapActions(useTONStore,["disconnectWallet"]),loadPasswordClick(){this.$emit("load-pass",SCREEN.LOAD)},savePasswordClick(){this.$emit("save-pass",SCREEN.SAVE)}},components:{LoadPassword,SavePassword}}),_hoisted_1$2={class:"w-full h-full p-4 flex flex-col space-y-4"},_hoisted_2$2={class:"w-full h-full flex flex-row space-x-4"},_hoisted_3$1={class:"w-full h-full flex flex-row"};function _sfc_render$2(e,r,n,o,a,s){const l=resolveComponent("LoadPassword"),h=resolveComponent("SavePassword");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("button",{type:"button",class:"w-16 min-w-fit h-fit p-4 border rounded-md [&:not([disabled])]:active:bg-blue-800 disabled:border-slate-600 disabled:text-slate-600",onClick:r[0]||(r[0]=(...v)=>e.disconnectWallet&&e.disconnectWallet(...v))},"x"),createBaseVNode("button",{class:normalizeClass(["w-full h-fit p-4 border rounded-md",[e.getScreen()===e.SCREEN.LOAD?"bg-blue-800":""]]),onClick:r[1]||(r[1]=(...v)=>e.loadPasswordClick&&e.loadPasswordClick(...v))},toDisplayString(e.LANG.MAIN.GET_BTN_LABEL[e.Locale]),3),createBaseVNode("button",{class:normalizeClass(["w-16 min-w-fit h-fit p-4 border rounded-md",[e.getScreen()===e.SCREEN.SAVE?"bg-blue-800":""]]),onClick:r[2]||(r[2]=(...v)=>e.savePasswordClick&&e.savePasswordClick(...v))},"+",2)]),createBaseVNode("div",_hoisted_3$1,[e.getScreen()===e.SCREEN.LOAD?(openBlock(),createBlock(l,{key:0,Locale:e.Locale,LANG:e.LANG},null,8,["Locale","LANG"])):e.getScreen()===e.SCREEN.SAVE?(openBlock(),createBlock(h,{key:1,Locale:e.Locale,LANG:e.LANG},null,8,["Locale","LANG"])):createCommentVNode("",!0)])])}const Main=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),_sfc_main$1=defineComponent({props:{Locale:{type:String,required:!0},LANG:{type:Object,required:!0}},data:()=>({ConnectionStatus}),methods:{...mapState(useTONStore,["getStatus","getDeepLink"]),...mapActions(useTONStore,["connectWallet","disconnectWallet"])},computed:{calcDeepLink(){return this.getDeepLink()}}}),_hoisted_1$1={class:"w-full h-full p-4 flex flex-col space-y-4"},_hoisted_2$1=["disabled"],_hoisted_3=["href"];function _sfc_render$1(e,r,n,o,a,s){return openBlock(),createElementBlock("div",_hoisted_1$1,[e.getStatus()!==e.ConnectionStatus.ENABLE?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"w-full h-fit p-4 border rounded-md [&:not([disabled])]:active:bg-blue-800 disabled:border-slate-600 disabled:text-slate-600",disabled:e.getStatus()===e.ConnectionStatus.WAIT,onClick:r[0]||(r[0]=(...l)=>e.connectWallet&&e.connectWallet(...l))},toDisplayString(e.getStatus()===e.ConnectionStatus.DISABLE?e.LANG.WALLET.CONNECT_BTN_LABEL[e.Locale]:e.LANG.WALLET.WAIT_BTN_LABEL[e.Locale]),9,_hoisted_2$1)):createCommentVNode("",!0),e.getDeepLink()!==""&&e.getStatus()===e.ConnectionStatus.WAIT?(openBlock(),createElementBlock("a",{key:1,class:"w-full h-fit p-4 border rounded-md text-center active:bg-blue-800",href:e.calcDeepLink},toDisplayString(e.LANG.WALLET.LINK_TO_WALLET[e.Locale]),9,_hoisted_3)):createCommentVNode("",!0)])}const TonConnect=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),LANG={WALLET:{CONNECT_BTN_LABEL:{"ru-RU":"  TonKeeper","en-EN":"Connect TonKeeper Wallet"},WAIT_BTN_LABEL:{"ru-RU":" ...","en-EN":"Wait connection..."},DISCONNECT_BTN_LABEL:{"ru-RU":"  TonKeeper","en-EN":"Disconnect TonKeeper Wallet"},LINK_TO_WALLET:{"ru-RU":"  ","en-EN":"Go to Wallet App"}},MAIN:{GET_BTN_LABEL:{"ru-RU":" ","en-EN":"Get Password"},SOURCE_CODE_LABEL:{"ru-RU":"  ","en-EN":"Source code"}},PASSWORD_SAVER:{PIN_LABEL:{"ru-RU":"  ,       (    )","en-EN":"Enter any PIN to get that password later ( you need remember it )"},PIN_HELPER:{"ru-RU":": 4  , 1  , 1 ","en-EN":"Minimum: 4 en characters, 1 lowercase letter, 1 number"},PASS_LABEL:{"ru-RU":"  ","en-EN":"Enter any password"},PASS_HELPER:{"ru-RU":": 8  , 1  , 1   , 1 ","en-EN":"Minimum: 8 en characters, 1 uppercase letter, 1 lowercase letter, 1 number"},APPROVE_BTN_TEXT:{"ru-RU":" ","en-EN":"Create request"},APPROVE_BTN_WALLET_LINK:{"ru-RU":"  ","en-EN":"Approve by wallet"},APPROVE_OK_MESSAGE:{"ru-RU":"  ","en-EN":"Transaction approved"},APPROVE_WAIT_MESSAGE:{"ru-RU":" ...","en-EN":"Wait transaction..."},APPROVE_ERROR_MESSAGE:{"ru-RU":" ","en-EN":"Transaction Error"}},PASSWORD_LOADER:{PIN_LABEL:{"ru-RU":" ,     ","en-EN":"Enter the PIN that you entered when submitting your password"},PASS_LABEL:{"ru-RU":" ","en-EN":"Saved password"},PIN_HELPER:{"ru-RU":": 4  , 1  , 1 ","en-EN":"Minimum: 4 en characters, 1 lowercase letter, 1 number"},APPROVE_BTN_TEXT:{"ru-RU":" ","en-EN":"Get password"},APPROVE_OK_MESSAGE:{"ru-RU":"  ","en-EN":"Transaction approved"},APPROVE_WAIT_MESSAGE:{"ru-RU":" ...","en-EN":"Wait transaction..."},APPROVE_ERROR_MESSAGE:{"ru-RU":" ","en-EN":"Transaction Error"}}},_sfc_main=defineComponent({data:()=>({SCREEN,LANG,Locale:"en-EN",ConnectionStatus}),created(){(navigator==null?void 0:navigator.language)==="ru-RU"&&(this.Locale="ru-RU")},methods:{...mapState(useTONStore,["getScreen","getStatus"]),...mapActions(useTONStore,["changeScreen"]),setScreen(e){this.changeScreen(e)}},components:{Main,TonConnect}}),_hoisted_1={class:"w-full h-full flex flex-col items-center content-between"},_hoisted_2={class:"p-4 hover:text-blue-800",href:"https://github.com/opexu/TON_Password_Saver"};function _sfc_render(e,r,n,o,a,s){const l=resolveComponent("TonConnect"),h=resolveComponent("Main");return openBlock(),createElementBlock("div",_hoisted_1,[e.getStatus()!==e.ConnectionStatus.ENABLE?(openBlock(),createBlock(l,{key:0,Locale:e.Locale,LANG:e.LANG},null,8,["Locale","LANG"])):createCommentVNode("",!0),e.getStatus()===e.ConnectionStatus.ENABLE?(openBlock(),createBlock(h,{key:1,Locale:e.Locale,LANG:e.LANG,onLoadPass:e.setScreen,onSavePass:e.setScreen},null,8,["Locale","LANG","onLoadPass","onSavePass"])):createCommentVNode("",!0),createBaseVNode("a",_hoisted_2,toDisplayString(e.LANG.MAIN.SOURCE_CODE_LABEL[e.Locale]),1)])}const App=_export_sfc(_sfc_main,[["render",_sfc_render]]),app=createApp(App),pinia=createPinia(),connection=new WalletConnection;pinia.use(e=>{e.store.$onAction(r=>{switch(r.name){case"connectWallet":{connection.initConnection();break}case"disconnectWallet":{connection.disconnect();break}case"getPassword":{connection.getPassword(r.args[0]);break}case"savePassword":{connection.savePassword(r.args[0],r.args[1]);break}}}),connection.statusChanged=r=>{e.store.connectionStatus=r},connection.deepLinkChanged=r=>{e.store.deepLink=r},connection.receivedPasswordChanged=r=>{e.store.receivedPassword=r},connection.isTransactionSendChanged=r=>{e.store.isTransactionSended=r},connection.restoreConnection()});app.use(pinia);app.mount("#app")});export default ar();
